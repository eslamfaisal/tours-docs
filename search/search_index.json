{"config":{"lang":["en","es","ar"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Egypt Tours Booking Platform","text":"<p>Welcome to the comprehensive documentation for the Egypt Tours Booking Platform \u2014 a complete web solution for tourists to discover, explore, and book Egypt-only tours.</p>"},{"location":"#platform-overview","title":"\ud83c\udf0d Platform Overview","text":"<p>A modern, multilingual platform enabling tourists to:</p> <ul> <li>Browse Egypt tours (packages, day tours, Nile cruises)</li> <li>Explore destinations (Cairo, Luxor, Aswan, Giza, Grand Egyptian Museum)</li> <li>Book online with instant booking or request-to-book options</li> <li>Manage accounts, bookings, payments, and support tickets</li> <li>Discover content through blogs, vlogs, and trip media</li> <li>Chat with an AI-powered assistant for trip recommendations</li> </ul>"},{"location":"#quick-links","title":"\ud83d\ude80 Quick Links","text":"Section Description Product Vision, PRD, personas, customer journeys Requirements Functional &amp; non-functional specs UX Design User flows, booking process, RBAC Frontend React, Zustand, i18n, SSR/SEO Backend Spring Boot, Clean Architecture API RESTful endpoints, OpenAPI specs AI &amp; Chat Agentic assistant, MCP tools, RAG Admin Backoffice operations DevOps CI/CD, hosting, monitoring Release Milestones &amp; roadmap"},{"location":"#tech-stack","title":"\ud83d\udee0 Tech Stack","text":""},{"location":"#frontend","title":"Frontend","text":"<ul> <li>React JS with TypeScript</li> <li>Zustand for state management</li> <li>SSR/SSG for SEO optimization</li> <li>i18n with RTL Arabic support</li> </ul>"},{"location":"#backend","title":"Backend","text":"<ul> <li>Java Spring Boot</li> <li>Clean Architecture</li> <li>JWT + Social Login authentication</li> <li>REST APIs with OpenAPI/Swagger</li> </ul>"},{"location":"#languages","title":"Languages","text":"<ul> <li>\ud83c\uddec\ud83c\udde7 English</li> <li>\ud83c\uddea\ud83c\uddf8 Spanish  </li> <li>\ud83c\uddea\ud83c\uddec Arabic (RTL)</li> </ul>"},{"location":"#how-to-use-this-documentation","title":"\ud83d\udcd6 How to Use This Documentation","text":"<ol> <li>New to the project? Start with Product Overview</li> <li>Developer? Check Frontend or Backend</li> <li>API integration? See API Reference</li> <li>Operations? Visit Admin and DevOps</li> </ol>"},{"location":"#running-docs-locally","title":"\ud83c\udfc3 Running Docs Locally","text":"<pre><code># Install MkDocs and Material theme\npip install mkdocs mkdocs-material\n\n# Serve locally\nmkdocs serve\n\n# Build static site\nmkdocs build\n\n# Deploy to GitHub Pages\nmkdocs gh-deploy\n</code></pre>"},{"location":"#support","title":"\ud83d\udcde Support","text":"<p>For questions or contributions, contact the documentation team or open an issue in the repository.</p>"},{"location":"admin/","title":"Admin Backoffice","text":"<p>This section covers the admin panel modules and operational workflows.</p>"},{"location":"admin/#contents","title":"Contents","text":"Document Description Dashboard Admin dashboard overview Trip Management Trip CRUD operations Booking Operations Booking management Customer Management Customer operations Content Management Blog/vlog management Support Queue Support ticket handling Analytics Reports and metrics Translations Translation workflow Audit Logs Activity tracking"},{"location":"admin/#role-access","title":"Role Access","text":"Module Admin Editor Agent Support Dashboard \u2705 \u2705 \u2705 \u2705 Trips \u2705 \u2705 View \u274c Bookings \u2705 \u274c \u2705 View Customers \u2705 \u274c View View Content \u2705 \u2705 \u274c \u274c Support \u2705 \u274c \u274c \u2705 Analytics \u2705 Limited Limited \u274c Audit Logs \u2705 \u274c \u274c \u274c"},{"location":"admin/analytics/","title":"Analytics","text":""},{"location":"admin/analytics/#available-reports","title":"Available Reports","text":"Report Description Booking Report Bookings by date, status, destination Revenue Report Revenue by period, trip, channel Customer Report New vs returning, demographics Trip Performance Bookings per trip, conversion Traffic Report Sources, referrals, pages"},{"location":"admin/analytics/#dashboard-metrics","title":"Dashboard Metrics","text":"<ul> <li>Daily/weekly/monthly bookings</li> <li>Revenue trends</li> <li>Top destinations</li> <li>Conversion rates</li> </ul>"},{"location":"admin/audit-logs/","title":"Audit Logs","text":""},{"location":"admin/audit-logs/#tracked-actions","title":"Tracked Actions","text":"Category Actions Auth Login, logout, password change Trips Create, update, delete, publish Bookings Create, confirm, cancel, refund Users Create, update role, block/unblock Content Create, update, delete, publish"},{"location":"admin/audit-logs/#log-entry-fields","title":"Log Entry Fields","text":"<ul> <li>Timestamp</li> <li>User (who performed action)</li> <li>Action type</li> <li>Resource type and ID</li> <li>Previous/new values (for updates)</li> <li>IP address</li> </ul>"},{"location":"admin/audit-logs/#retention","title":"Retention","text":"<p>Logs retained for 90 days (configurable).</p>"},{"location":"admin/bookings/","title":"Booking Operations","text":""},{"location":"admin/bookings/#booking-queue","title":"Booking Queue","text":""},{"location":"admin/bookings/#status-filters","title":"Status Filters","text":"<ul> <li>All Bookings</li> <li>Pending Confirmation (Request-to-Book)</li> <li>Confirmed</li> <li>Pending Payment</li> <li>Cancelled</li> <li>Completed</li> </ul>"},{"location":"admin/bookings/#bulk-actions","title":"Bulk Actions","text":"<ul> <li>Export to CSV</li> <li>Send reminder emails</li> <li>Update status (batch)</li> </ul>"},{"location":"admin/bookings/#booking-actions","title":"Booking Actions","text":"Action Description Confirm Approve request-to-book Decline Reject with reason Cancel Cancel with refund options Modify Change date/travelers Refund Process partial/full refund Resend Confirmation Email to customer"},{"location":"admin/bookings/#request-to-book-flow","title":"Request-to-Book Flow","text":"<ol> <li>Customer submits booking request</li> <li>Admin receives notification</li> <li>Check availability</li> <li>Confirm or decline</li> <li>Customer receives payment link (if confirmed)</li> <li>Customer completes payment</li> </ol>"},{"location":"admin/bookings/#refund-processing","title":"Refund Processing","text":"Criteria Refund % 30+ days before 100% 15-29 days 75% 7-14 days 50% &lt; 7 days 0% <p>Admin can override policy for special cases.</p>"},{"location":"admin/content/","title":"Content Management","text":""},{"location":"admin/content/#blog-management","title":"Blog Management","text":"<ul> <li>Create/edit/delete posts</li> <li>Rich text editor (Markdown)</li> <li>Category and tag management</li> <li>Featured image upload</li> <li>Schedule publishing</li> <li>SEO meta fields</li> </ul>"},{"location":"admin/content/#vlog-management","title":"Vlog Management","text":"<ul> <li>Add video entries (YouTube embed)</li> <li>Video thumbnail</li> <li>Description and tags</li> <li>Related trips linking</li> </ul>"},{"location":"admin/content/#destination-management","title":"Destination Management","text":"<ul> <li>Create/edit destinations</li> <li>Description and highlights</li> <li>Image gallery</li> <li>Map coordinates</li> <li>Link to trips</li> </ul>"},{"location":"admin/content/#media-library","title":"Media Library","text":"<ul> <li>Upload images</li> <li>Organize in folders</li> <li>Image optimization</li> <li>CDN management</li> </ul>"},{"location":"admin/customers/","title":"Customer Management","text":""},{"location":"admin/customers/#customer-list","title":"Customer List","text":"<p>View and manage registered customers.</p>"},{"location":"admin/customers/#filters","title":"Filters","text":"<ul> <li>Registration date</li> <li>Booking count</li> <li>Total spent</li> <li>Status (Active/Blocked)</li> </ul>"},{"location":"admin/customers/#customer-actions","title":"Customer Actions","text":"<ul> <li>View profile</li> <li>View booking history</li> <li>View support tickets</li> <li>Send email</li> <li>Block/Unblock</li> </ul>"},{"location":"admin/customers/#customer-details","title":"Customer Details","text":"Section Information Profile Name, email, phone, nationality Stats Total bookings, total spent, avg order Bookings Booking history with status Tickets Support ticket history Activity Recent actions log"},{"location":"admin/dashboard/","title":"Admin Dashboard","text":""},{"location":"admin/dashboard/#overview","title":"Overview","text":"<p>The admin dashboard provides key metrics and quick actions.</p>"},{"location":"admin/dashboard/#dashboard-widgets","title":"Dashboard Widgets","text":""},{"location":"admin/dashboard/#key-metrics","title":"Key Metrics","text":"Metric Description Total Bookings (Today) Bookings made today Revenue (This Month) Current month revenue Pending Bookings Awaiting confirmation Open Tickets Unresolved support tickets"},{"location":"admin/dashboard/#charts","title":"Charts","text":"<ul> <li>Booking Trend \u2014 Last 30 days bookings</li> <li>Revenue \u2014 Monthly revenue comparison</li> <li>Popular Trips \u2014 Top 10 booked trips</li> <li>Traffic Sources \u2014 Booking channels</li> </ul>"},{"location":"admin/dashboard/#quick-actions","title":"Quick Actions","text":"<ul> <li>View pending bookings</li> <li>Respond to tickets</li> <li>View new customers</li> <li>Check low availability trips</li> </ul>"},{"location":"admin/dashboard/#dashboard-layout","title":"Dashboard Layout","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 ADMIN DASHBOARD                                    [Profile] \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u2502\n\u2502  \u2502 Bookings \u2502 \u2502 Revenue  \u2502 \u2502 Pending  \u2502 \u2502 Tickets  \u2502       \u2502\n\u2502  \u2502   Today  \u2502 \u2502 $45,230  \u2502 \u2502    12    \u2502 \u2502    5     \u2502       \u2502\n\u2502  \u2502    24    \u2502 \u2502 +15% \u2191   \u2502 \u2502          \u2502 \u2502          \u2502       \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2502\n\u2502                                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502            Booking Trend (Last 30 Days)              \u2502    \u2502\n\u2502  \u2502  [Chart]                                            \u2502    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2502                                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502     Recent Bookings     \u2502 \u2502     Open Tickets        \u2502    \u2502\n\u2502  \u2502  \u2022 ET-A1B2C3D4 - $599  \u2502 \u2502  \u2022 #1234 - Payment...   \u2502    \u2502\n\u2502  \u2502  \u2022 ET-B2C3D4E5 - $450  \u2502 \u2502  \u2022 #1235 - Refund...    \u2502    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2502                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"admin/support/","title":"Support Queue","text":""},{"location":"admin/support/#ticket-management","title":"Ticket Management","text":""},{"location":"admin/support/#status-flow","title":"Status Flow","text":"<pre><code>stateDiagram-v2\n    [*] --&gt; Open: Customer creates\n    Open --&gt; InProgress: Agent responds\n    InProgress --&gt; WaitingCustomer: Awaiting reply\n    WaitingCustomer --&gt; InProgress: Customer replies\n    InProgress --&gt; Resolved: Issue fixed\n    Resolved --&gt; Closed: Auto-close after 7 days\n    InProgress --&gt; Escalated: Needs admin\n    Escalated --&gt; InProgress: Admin responds</code></pre>"},{"location":"admin/support/#ticket-actions","title":"Ticket Actions","text":"<ul> <li>Reply</li> <li>Change status</li> <li>Assign to agent</li> <li>Escalate</li> <li>Add internal note</li> <li>Link to booking</li> </ul>"},{"location":"admin/translations/","title":"Translation Management","text":""},{"location":"admin/translations/#workflow","title":"Workflow","text":"<ol> <li>Content created in English (default)</li> <li>Translation tasks created for ES/AR</li> <li>Editor translates content</li> <li>Review and approve</li> <li>Publish synchronized</li> </ol>"},{"location":"admin/translations/#translation-status","title":"Translation Status","text":"Status Description Pending Not started In Progress Being translated Review Awaiting approval Approved Ready for publish"},{"location":"admin/translations/#translatable-content","title":"Translatable Content","text":"<ul> <li>Trips (title, description, itinerary)</li> <li>Destinations</li> <li>Blog posts</li> <li>Static pages</li> <li>UI strings</li> </ul>"},{"location":"admin/trips/","title":"Trip Management","text":""},{"location":"admin/trips/#features","title":"Features","text":"<ul> <li>Create, edit, and delete trips</li> <li>Manage itineraries</li> <li>Set pricing rules</li> <li>Control availability</li> <li>Upload images</li> <li>Manage translations</li> </ul>"},{"location":"admin/trips/#trip-crud","title":"Trip CRUD","text":""},{"location":"admin/trips/#create-trip-flow","title":"Create Trip Flow","text":"<ol> <li>Enter basic info (title, slug, destination)</li> <li>Set duration and type</li> <li>Configure pricing</li> <li>Add itinerary days</li> <li>Upload images</li> <li>Add translations</li> <li>Publish or save as draft</li> </ol>"},{"location":"admin/trips/#trip-status","title":"Trip Status","text":"Status Description Public DRAFT Work in progress No PUBLISHED Live and bookable Yes ARCHIVED Hidden from listings No"},{"location":"admin/trips/#itinerary-management","title":"Itinerary Management","text":"Field Description Day Number Sequential day (1, 2, 3...) Title Day title Description Detailed activities Locations List of stops/attractions"},{"location":"admin/trips/#pricing-rules","title":"Pricing Rules","text":"Rule Type Description Default Base price Seasonal Higher rates for peak season Group Discounts for larger groups Early Bird Advance booking discount"},{"location":"admin/trips/#translation-workflow","title":"Translation Workflow","text":"<ol> <li>Create trip in default language (English)</li> <li>Add translations for Spanish and Arabic</li> <li>Mark translation status (Draft, Ready, Published)</li> <li>Translations sync with trip status</li> </ol>"},{"location":"ai/","title":"AI &amp; Chat Design","text":"<p>This section covers the AI-powered chat assistant design.</p>"},{"location":"ai/#contents","title":"Contents","text":"Document Description Assistant Design AI assistant architecture Prompt Engineering Prompt templates Integration Chat widget integration Knowledge Base FAQ and trip data"},{"location":"ai/#overview","title":"Overview","text":"<p>The AI Chat Assistant helps customers with:</p> <ul> <li>Trip recommendations based on preferences</li> <li>Booking assistance and FAQs</li> <li>Date and availability inquiries</li> <li>Itinerary customization</li> <li>General Egypt travel questions</li> </ul>"},{"location":"ai/#architecture","title":"Architecture","text":"<pre><code>graph TD\n    A[Chat Widget] --&gt; B[Chat Service]\n    B --&gt; C[LLM Provider]\n    B --&gt; D[RAG System]\n    D --&gt; E[(Knowledge Base)]\n    D --&gt; F[(Trip Data)]\n    B --&gt; G[Booking API]\n    B --&gt; H[Availability API]</code></pre>"},{"location":"ai/assistant/","title":"AI Assistant Design","text":""},{"location":"ai/assistant/#capabilities","title":"Capabilities","text":"Capability Description Trip Discovery Recommend trips based on user preferences Availability Check Query real-time availability Price Inquiry Provide pricing information FAQ Answering Answer common travel questions Booking Help Guide through booking process Customization Help customize trip options"},{"location":"ai/assistant/#conversation-flow","title":"Conversation Flow","text":"<pre><code>stateDiagram-v2\n    [*] --&gt; Greeting: User opens chat\n    Greeting --&gt; Intent: User message\n\n    Intent --&gt; TripSearch: Looking for trip\n    Intent --&gt; BookingHelp: Booking question\n    Intent --&gt; FAQ: General question\n    Intent --&gt; HumanHandoff: Complex issue\n\n    TripSearch --&gt; Recommendations: Suggest trips\n    Recommendations --&gt; Details: User asks more\n    Details --&gt; Booking: Ready to book\n\n    BookingHelp --&gt; Assistance: Provide help\n    FAQ --&gt; Answer: Provide answer\n    HumanHandoff --&gt; SupportQueue: Connect agent</code></pre>"},{"location":"ai/assistant/#guardrails","title":"Guardrails","text":"Rule Description Scope Only Egypt travel topics Pricing Always use current data, never guess Availability Query API, don't assume Personal Data Don't ask for payment info Escalation Route complex issues to humans"},{"location":"ai/assistant/#response-templates","title":"Response Templates","text":""},{"location":"ai/assistant/#trip-recommendation","title":"Trip Recommendation","text":"<pre><code>Based on your preferences for {preference}, I recommend:\n\n**{Trip Title}** - {Duration} days\n{Short Description}\nStarting from ${Price}\n\nWould you like more details or to check availability?\n</code></pre>"},{"location":"ai/assistant/#availability-response","title":"Availability Response","text":"<pre><code>Great news! The {Trip Title} is available on {Date}.\n\nCurrent pricing: ${Price} per person\nSpots remaining: {Spots}\n\nWould you like me to help you start your booking?\n</code></pre>"},{"location":"ai/integration/","title":"Chat Integration","text":""},{"location":"ai/integration/#widget-component","title":"Widget Component","text":"<pre><code>// components/ChatWidget.jsx\n'use client';\nimport { useState } from 'react';\nimport { ChatWindow } from './ChatWindow';\n\nexport function ChatWidget() {\n  const [isOpen, setIsOpen] = useState(false);\n\n  return (\n    &lt;&gt;\n      &lt;button \n        className=\"chat-fab\"\n        onClick={() =&gt; setIsOpen(true)}\n        aria-label=\"Open chat\"\n      &gt;\n        \ud83d\udcac\n      &lt;/button&gt;\n      {isOpen &amp;&amp; &lt;ChatWindow onClose={() =&gt; setIsOpen(false)} /&gt;}\n    &lt;/&gt;\n  );\n}\n</code></pre>"},{"location":"ai/integration/#api-endpoint","title":"API Endpoint","text":"<pre><code>POST /api/v1/chat\nContent-Type: application/json\n\n{\n  \"message\": \"Looking for a 3-day Cairo tour\",\n  \"conversationId\": \"conv_123\",\n  \"locale\": \"en\"\n}\n</code></pre>"},{"location":"ai/integration/#response-stream","title":"Response Stream","text":"<p>Uses Server-Sent Events for streaming responses.</p>"},{"location":"ai/knowledge-base/","title":"Knowledge Base","text":""},{"location":"ai/knowledge-base/#data-sources","title":"Data Sources","text":"Source Content Trip Database All published trips FAQs Common questions Destination Info Egypt travel info Policies Booking, cancellation"},{"location":"ai/knowledge-base/#rag-pipeline","title":"RAG Pipeline","text":"<ol> <li>User query received</li> <li>Query embedded</li> <li>Similar documents retrieved</li> <li>Context assembled</li> <li>LLM generates response</li> <li>Response validated and returned</li> </ol>"},{"location":"ai/knowledge-base/#faq-categories","title":"FAQ Categories","text":"<ul> <li>Booking &amp; Payment</li> <li>Cancellation &amp; Refunds</li> <li>Travel Requirements (visa, etc.)</li> <li>Trip Inclusions</li> <li>Transportation</li> <li>Accommodation</li> <li>Health &amp; Safety</li> </ul>"},{"location":"ai/prompts/","title":"Prompt Engineering","text":""},{"location":"ai/prompts/#system-prompt","title":"System Prompt","text":"<pre><code>You are Egypt Tours Assistant, a helpful travel advisor for Egypt tours.\n\nROLE:\n- Help users discover and book tours in Egypt\n- Provide accurate information about trips, pricing, and availability\n- Answer questions about Egypt travel\n\nCAPABILITIES:\n- Search and recommend trips\n- Check real-time availability\n- Answer FAQs about tours and Egypt\n- Guide users through booking\n\nCONSTRAINTS:\n- Only discuss Egypt travel topics\n- Never make up prices or availability\n- Don't collect payment information\n- Escalate complex issues to human agents\n- Always be friendly and professional\n\nTOOLS AVAILABLE:\n- search_trips: Find trips by criteria\n- check_availability: Check trip availability\n- get_trip_details: Get full trip information\n- search_faq: Search knowledge base\n- escalate_to_human: Connect to support agent\n</code></pre>"},{"location":"ai/prompts/#function-definitions","title":"Function Definitions","text":"<pre><code>const functions = [\n  {\n    name: \"search_trips\",\n    description: \"Search for tours based on user preferences\",\n    parameters: {\n      type: \"object\",\n      properties: {\n        destination: { type: \"string\" },\n        duration: { type: \"number\" },\n        type: { type: \"string\", enum: [\"PACKAGE\", \"DAY_TOUR\", \"CRUISE\"] },\n        budget: { type: \"number\" }\n      }\n    }\n  },\n  {\n    name: \"check_availability\",\n    parameters: {\n      type: \"object\",\n      properties: {\n        tripId: { type: \"number\", required: true },\n        date: { type: \"string\", format: \"date\" },\n        travelers: { type: \"number\" }\n      }\n    }\n  }\n];\n</code></pre>"},{"location":"api/","title":"API Documentation","text":"<p>This section covers the REST API specifications and standards.</p>"},{"location":"api/#contents","title":"Contents","text":"Document Description Overview API design principles Authentication Auth endpoints Trips Trip API endpoints Bookings Booking API endpoints Users User/profile endpoints Content Blog/vlog endpoints Error Handling Error response format Pagination Pagination patterns"},{"location":"api/#api-base-url","title":"API Base URL","text":"Environment Base URL Production <code>https://api.egypttours.com/api/v1</code> Staging <code>https://api-staging.egypttours.com/api/v1</code> Development <code>http://localhost:8080/api/v1</code>"},{"location":"api/#quick-reference","title":"Quick Reference","text":"Domain Endpoints Auth <code>/auth/login</code>, <code>/auth/register</code>, <code>/auth/refresh</code> Trips <code>/trips</code>, <code>/trips/{slug}</code>, <code>/trips/{slug}/reviews</code> Destinations <code>/destinations</code>, <code>/destinations/{slug}</code> Bookings <code>/bookings</code>, <code>/bookings/{id}</code> Account <code>/account/profile</code>, <code>/account/bookings</code> Content <code>/blog</code>, <code>/vlogs</code> Admin <code>/admin/trips</code>, <code>/admin/bookings</code>, <code>/admin/users</code>"},{"location":"api/auth/","title":"Authentication API","text":""},{"location":"api/auth/#endpoints","title":"Endpoints","text":""},{"location":"api/auth/#register","title":"Register","text":"<pre><code>POST /api/v1/auth/register\n</code></pre> <p>Request:</p> <pre><code>{\n  \"email\": \"user@example.com\",\n  \"password\": \"SecureP@ss123\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"phone\": \"+1234567890\"\n}\n</code></pre> <p>Response (201):</p> <pre><code>{\n  \"success\": true,\n  \"message\": \"Registration successful. Please check your email for verification.\"\n}\n</code></pre>"},{"location":"api/auth/#login","title":"Login","text":"<pre><code>POST /api/v1/auth/login\n</code></pre> <p>Request:</p> <pre><code>{\n  \"email\": \"user@example.com\",\n  \"password\": \"SecureP@ss123\"\n}\n</code></pre> <p>Response (200):</p> <pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"accessToken\": \"eyJhbGciOiJIUzI1NiIs...\",\n    \"refreshToken\": \"dGhpcyBpcyBhIHJlZnJlc2...\",\n    \"expiresIn\": 3600,\n    \"user\": {\n      \"id\": 12345,\n      \"email\": \"user@example.com\",\n      \"firstName\": \"John\",\n      \"lastName\": \"Doe\",\n      \"role\": \"CUSTOMER\"\n    }\n  }\n}\n</code></pre>"},{"location":"api/auth/#refresh-token","title":"Refresh Token","text":"<pre><code>POST /api/v1/auth/refresh\n</code></pre> <p>Request:</p> <pre><code>{\n  \"refreshToken\": \"dGhpcyBpcyBhIHJlZnJlc2...\"\n}\n</code></pre> <p>Response (200):</p> <pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"accessToken\": \"eyJhbGciOiJIUzI1NiIs...\",\n    \"expiresIn\": 3600\n  }\n}\n</code></pre>"},{"location":"api/auth/#forgot-password","title":"Forgot Password","text":"<pre><code>POST /api/v1/auth/forgot-password\n</code></pre> <p>Request:</p> <pre><code>{\n  \"email\": \"user@example.com\"\n}\n</code></pre> <p>Response (200):</p> <pre><code>{\n  \"success\": true,\n  \"message\": \"Password reset instructions sent to email.\"\n}\n</code></pre>"},{"location":"api/auth/#reset-password","title":"Reset Password","text":"<pre><code>POST /api/v1/auth/reset-password\n</code></pre> <p>Request:</p> <pre><code>{\n  \"token\": \"reset_token_from_email\",\n  \"password\": \"NewSecureP@ss123\"\n}\n</code></pre>"},{"location":"api/auth/#social-login-google","title":"Social Login - Google","text":"<pre><code>POST /api/v1/auth/google\n</code></pre> <p>Request:</p> <pre><code>{\n  \"idToken\": \"google_id_token_from_client\"\n}\n</code></pre>"},{"location":"api/auth/#social-login-facebook","title":"Social Login - Facebook","text":"<pre><code>POST /api/v1/auth/facebook\n</code></pre> <p>Request:</p> <pre><code>{\n  \"accessToken\": \"facebook_access_token\"\n}\n</code></pre>"},{"location":"api/auth/#verify-email","title":"Verify Email","text":"<pre><code>GET /api/v1/auth/verify-email?token={verification_token}\n</code></pre>"},{"location":"api/auth/#logout","title":"Logout","text":"<pre><code>POST /api/v1/auth/logout\nAuthorization: Bearer {accessToken}\n</code></pre>"},{"location":"api/auth/#error-codes","title":"Error Codes","text":"Code Description <code>INVALID_CREDENTIALS</code> Wrong email/password <code>EMAIL_NOT_VERIFIED</code> Email verification required <code>USER_DISABLED</code> Account disabled <code>TOKEN_EXPIRED</code> Access token expired <code>INVALID_TOKEN</code> Token is invalid <code>EMAIL_ALREADY_EXISTS</code> Email already registered"},{"location":"api/bookings/","title":"Bookings API","text":""},{"location":"api/bookings/#customer-endpoints","title":"Customer Endpoints","text":""},{"location":"api/bookings/#create-booking","title":"Create Booking","text":"<pre><code>POST /api/v1/bookings\nAuthorization: Bearer {token}\n</code></pre> <p>Request:</p> <pre><code>{\n  \"tripId\": 1,\n  \"travelDate\": \"2026-03-15\",\n  \"adults\": 2,\n  \"children\": 1,\n  \"addOns\": [1, 3],\n  \"travelers\": [\n    {\n      \"firstName\": \"John\",\n      \"lastName\": \"Doe\",\n      \"nationality\": \"American\",\n      \"passportNumber\": \"AB1234567\",\n      \"dateOfBirth\": \"1985-05-15\",\n      \"travelerType\": \"ADULT\"\n    },\n    {\n      \"firstName\": \"Jane\",\n      \"lastName\": \"Doe\",\n      \"nationality\": \"American\",\n      \"passportNumber\": \"CD7654321\",\n      \"dateOfBirth\": \"1988-08-20\",\n      \"travelerType\": \"ADULT\"\n    },\n    {\n      \"firstName\": \"Tim\",\n      \"lastName\": \"Doe\",\n      \"nationality\": \"American\",\n      \"dateOfBirth\": \"2018-03-10\",\n      \"travelerType\": \"CHILD\"\n    }\n  ],\n  \"specialRequests\": \"Vegetarian meal preference\"\n}\n</code></pre> <p>Response (201):</p> <pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"id\": 501,\n    \"bookingNumber\": \"ET-A1B2C3D4\",\n    \"status\": \"PENDING_PAYMENT\",\n    \"totalPrice\": 223.00,\n    \"trip\": {\n      \"slug\": \"pyramids-day-tour\",\n      \"title\": \"Pyramids of Giza Day Tour\"\n    },\n    \"travelDate\": \"2026-03-15\",\n    \"paymentUrl\": \"https://checkout.stripe.com/c/pay/...\"\n  }\n}\n</code></pre>"},{"location":"api/bookings/#get-my-bookings","title":"Get My Bookings","text":"<pre><code>GET /api/v1/account/bookings\nAuthorization: Bearer {token}\n</code></pre> <p>Query Parameters:</p> Param Type Description <code>status</code> string Filter by status <code>page</code> int Page number <p>Response:</p> <pre><code>{\n  \"success\": true,\n  \"data\": [\n    {\n      \"id\": 501,\n      \"bookingNumber\": \"ET-A1B2C3D4\",\n      \"trip\": {\n        \"slug\": \"pyramids-day-tour\",\n        \"title\": \"Pyramids of Giza Day Tour\",\n        \"thumbnail\": \"...\"\n      },\n      \"travelDate\": \"2026-03-15\",\n      \"travelers\": { \"adults\": 2, \"children\": 1 },\n      \"totalPrice\": 223.00,\n      \"status\": \"CONFIRMED\",\n      \"paymentStatus\": \"PAID\",\n      \"createdAt\": \"2026-02-01T10:00:00Z\"\n    }\n  ]\n}\n</code></pre>"},{"location":"api/bookings/#get-booking-details","title":"Get Booking Details","text":"<pre><code>GET /api/v1/account/bookings/{bookingNumber}\nAuthorization: Bearer {token}\n</code></pre> <p>Response:</p> <pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"id\": 501,\n    \"bookingNumber\": \"ET-A1B2C3D4\",\n    \"trip\": {\n      \"id\": 1,\n      \"slug\": \"pyramids-day-tour\",\n      \"title\": \"Pyramids of Giza Day Tour\",\n      \"destination\": \"Cairo\",\n      \"duration\": 1,\n      \"thumbnail\": \"...\"\n    },\n    \"travelDate\": \"2026-03-15\",\n    \"travelers\": [\n      {\n        \"firstName\": \"John\",\n        \"lastName\": \"Doe\",\n        \"travelerType\": \"ADULT\"\n      }\n    ],\n    \"addOns\": [\n      { \"name\": \"Private Guide\", \"price\": 50.00 }\n    ],\n    \"pricing\": {\n      \"subtotal\": 178.00,\n      \"addOnsTotal\": 50.00,\n      \"discount\": 5.00,\n      \"total\": 223.00,\n      \"currency\": \"USD\"\n    },\n    \"status\": \"CONFIRMED\",\n    \"paymentStatus\": \"PAID\",\n    \"payments\": [\n      {\n        \"amount\": 223.00,\n        \"method\": \"CREDIT_CARD\",\n        \"status\": \"COMPLETED\",\n        \"paidAt\": \"2026-02-01T10:05:00Z\"\n      }\n    ],\n    \"invoice\": {\n      \"url\": \"/api/v1/bookings/ET-A1B2C3D4/invoice\"\n    },\n    \"specialRequests\": \"Vegetarian meal preference\",\n    \"createdAt\": \"2026-02-01T10:00:00Z\"\n  }\n}\n</code></pre>"},{"location":"api/bookings/#cancel-booking","title":"Cancel Booking","text":"<pre><code>POST /api/v1/account/bookings/{bookingNumber}/cancel\nAuthorization: Bearer {token}\n</code></pre> <p>Request:</p> <pre><code>{\n  \"reason\": \"Change of travel plans\"\n}\n</code></pre> <p>Response:</p> <pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"bookingNumber\": \"ET-A1B2C3D4\",\n    \"status\": \"CANCELLED\",\n    \"refund\": {\n      \"eligible\": true,\n      \"amount\": 167.25,\n      \"percentage\": 75,\n      \"reason\": \"Cancelled 20 days before travel\"\n    }\n  }\n}\n</code></pre>"},{"location":"api/bookings/#download-invoice","title":"Download Invoice","text":"<pre><code>GET /api/v1/account/bookings/{bookingNumber}/invoice\nAuthorization: Bearer {token}\n</code></pre> <p>Response: PDF file</p>"},{"location":"api/bookings/#admin-endpoints","title":"Admin Endpoints","text":""},{"location":"api/bookings/#list-all-bookings","title":"List All Bookings","text":"<pre><code>GET /api/v1/admin/bookings\nAuthorization: Bearer {admin_token}\n</code></pre>"},{"location":"api/bookings/#update-booking-status","title":"Update Booking Status","text":"<pre><code>PATCH /api/v1/admin/bookings/{id}/status\n</code></pre> <p>Request:</p> <pre><code>{\n  \"status\": \"CONFIRMED\"\n}\n</code></pre>"},{"location":"api/bookings/#process-refund","title":"Process Refund","text":"<pre><code>POST /api/v1/admin/bookings/{id}/refund\n</code></pre> <p>Request:</p> <pre><code>{\n  \"amount\": 167.25,\n  \"reason\": \"Customer requested cancellation\"\n}\n</code></pre>"},{"location":"api/content/","title":"Content API","text":""},{"location":"api/content/#blog-endpoints","title":"Blog Endpoints","text":""},{"location":"api/content/#list-blog-posts","title":"List Blog Posts","text":"<pre><code>GET /api/v1/blog\n</code></pre> <p>Query Parameters:</p> Param Type Description <code>category</code> string Filter by category <code>tag</code> string Filter by tag <code>search</code> string Search in title/content <code>page</code> int Page number"},{"location":"api/content/#get-blog-post","title":"Get Blog Post","text":"<pre><code>GET /api/v1/blog/{slug}\n</code></pre>"},{"location":"api/content/#vlog-endpoints","title":"Vlog Endpoints","text":""},{"location":"api/content/#list-vlogs","title":"List Vlogs","text":"<pre><code>GET /api/v1/vlogs\n</code></pre>"},{"location":"api/content/#get-vlog","title":"Get Vlog","text":"<pre><code>GET /api/v1/vlogs/{slug}\n</code></pre>"},{"location":"api/content/#destinations","title":"Destinations","text":""},{"location":"api/content/#list-destinations","title":"List Destinations","text":"<pre><code>GET /api/v1/destinations\n</code></pre>"},{"location":"api/content/#get-destination","title":"Get Destination","text":"<pre><code>GET /api/v1/destinations/{slug}\n</code></pre>"},{"location":"api/content/#search","title":"Search","text":""},{"location":"api/content/#global-search","title":"Global Search","text":"<pre><code>GET /api/v1/search\n</code></pre> <p>Query Parameters:</p> Param Type Description <code>q</code> string Search query <code>type</code> string Filter by type (trips, blog, destinations) <p>Response:</p> <pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"trips\": [...],\n    \"blog\": [...],\n    \"destinations\": [...]\n  }\n}\n</code></pre>"},{"location":"api/content/#contactleads","title":"Contact/Leads","text":""},{"location":"api/content/#submit-contact-form","title":"Submit Contact Form","text":"<pre><code>POST /api/v1/contact\n</code></pre> <p>Request:</p> <pre><code>{\n  \"name\": \"John Doe\",\n  \"email\": \"john@example.com\",\n  \"phone\": \"+1234567890\",\n  \"subject\": \"Trip Inquiry\",\n  \"message\": \"I would like to know more about...\",\n  \"tripSlug\": \"pyramids-day-tour\"\n}\n</code></pre>"},{"location":"api/errors/","title":"Error Handling","text":""},{"location":"api/errors/#error-response-format","title":"Error Response Format","text":"<pre><code>{\n  \"success\": false,\n  \"error\": {\n    \"code\": \"ERROR_CODE\",\n    \"message\": \"Human-readable error message\",\n    \"details\": [...],\n    \"traceId\": \"trace_abc123\"\n  },\n  \"meta\": {\n    \"timestamp\": \"2026-02-02T22:00:00Z\"\n  }\n}\n</code></pre>"},{"location":"api/errors/#error-codes","title":"Error Codes","text":""},{"location":"api/errors/#authentication-errors-4xx","title":"Authentication Errors (4xx)","text":"Code HTTP Description <code>UNAUTHORIZED</code> 401 No token provided <code>INVALID_TOKEN</code> 401 Token is invalid <code>TOKEN_EXPIRED</code> 401 Token has expired <code>INVALID_CREDENTIALS</code> 401 Wrong email/password <code>FORBIDDEN</code> 403 Insufficient permissions <code>EMAIL_NOT_VERIFIED</code> 403 Email verification required"},{"location":"api/errors/#validation-errors","title":"Validation Errors","text":"Code HTTP Description <code>VALIDATION_ERROR</code> 400 Request validation failed <code>INVALID_FORMAT</code> 400 Invalid data format <code>MISSING_FIELD</code> 400 Required field missing <p>Validation Error Details:</p> <pre><code>{\n  \"code\": \"VALIDATION_ERROR\",\n  \"message\": \"Validation failed\",\n  \"details\": [\n    { \"field\": \"email\", \"message\": \"Invalid email format\" },\n    { \"field\": \"password\", \"message\": \"Must be at least 8 characters\" }\n  ]\n}\n</code></pre>"},{"location":"api/errors/#resource-errors","title":"Resource Errors","text":"Code HTTP Description <code>NOT_FOUND</code> 404 Resource not found <code>ALREADY_EXISTS</code> 409 Resource already exists <code>CONFLICT</code> 409 State conflict"},{"location":"api/errors/#business-logic-errors","title":"Business Logic Errors","text":"Code HTTP Description <code>TRIP_UNAVAILABLE</code> 422 Trip not available on date <code>BOOKING_EXPIRED</code> 422 Booking session expired <code>PAYMENT_FAILED</code> 422 Payment processing failed <code>CANCELLATION_NOT_ALLOWED</code> 422 Cannot cancel booking <code>CAPACITY_EXCEEDED</code> 422 Max travelers exceeded"},{"location":"api/errors/#server-errors","title":"Server Errors","text":"Code HTTP Description <code>INTERNAL_ERROR</code> 500 Internal server error <code>SERVICE_UNAVAILABLE</code> 503 Service temporarily down"},{"location":"api/errors/#error-handling-implementation","title":"Error Handling Implementation","text":"<pre><code>@ControllerAdvice\npublic class GlobalExceptionHandler {\n\n    @ExceptionHandler(ResourceNotFoundException.class)\n    public ResponseEntity&lt;ErrorResponse&gt; handleNotFound(ResourceNotFoundException ex) {\n        return ResponseEntity.status(HttpStatus.NOT_FOUND)\n            .body(ErrorResponse.of(\"NOT_FOUND\", ex.getMessage()));\n    }\n\n    @ExceptionHandler(MethodArgumentNotValidException.class)\n    public ResponseEntity&lt;ErrorResponse&gt; handleValidation(MethodArgumentNotValidException ex) {\n        List&lt;FieldError&gt; details = ex.getBindingResult()\n            .getFieldErrors()\n            .stream()\n            .map(e -&gt; new FieldError(e.getField(), e.getDefaultMessage()))\n            .toList();\n\n        return ResponseEntity.badRequest()\n            .body(ErrorResponse.of(\"VALIDATION_ERROR\", \"Validation failed\", details));\n    }\n\n    @ExceptionHandler(Exception.class)\n    public ResponseEntity&lt;ErrorResponse&gt; handleGeneric(Exception ex) {\n        log.error(\"Unhandled exception\", ex);\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)\n            .body(ErrorResponse.of(\"INTERNAL_ERROR\", \"An unexpected error occurred\"));\n    }\n}\n</code></pre>"},{"location":"api/overview/","title":"API Overview","text":""},{"location":"api/overview/#design-principles","title":"Design Principles","text":"<p>The API follows RESTful conventions with:</p> <ul> <li>Resource-based URLs \u2014 <code>/trips</code>, <code>/bookings</code>, <code>/users</code></li> <li>HTTP methods \u2014 GET (read), POST (create), PUT (update), DELETE (remove)</li> <li>JSON responses \u2014 All responses in JSON format</li> <li>Consistent error handling \u2014 Standard error response structure</li> <li>Pagination \u2014 Cursor or offset-based for collections</li> <li>Filtering \u2014 Query parameters for filtering/sorting</li> </ul>"},{"location":"api/overview/#request-headers","title":"Request Headers","text":"Header Required Description <code>Authorization</code> Conditional <code>Bearer {token}</code> for protected endpoints <code>Content-Type</code> Yes (POST/PUT) <code>application/json</code> <code>Accept-Language</code> No Locale for translated content (<code>en</code>, <code>es</code>, <code>ar</code>) <code>X-Request-ID</code> No Client-generated request ID for tracing"},{"location":"api/overview/#response-format","title":"Response Format","text":""},{"location":"api/overview/#success-response","title":"Success Response","text":"<pre><code>{\n  \"success\": true,\n  \"data\": { ... },\n  \"meta\": {\n    \"timestamp\": \"2026-02-02T22:00:00Z\",\n    \"requestId\": \"req_abc123\"\n  }\n}\n</code></pre>"},{"location":"api/overview/#paginated-response","title":"Paginated Response","text":"<pre><code>{\n  \"success\": true,\n  \"data\": [ ... ],\n  \"pagination\": {\n    \"page\": 1,\n    \"pageSize\": 20,\n    \"totalItems\": 156,\n    \"totalPages\": 8,\n    \"hasNext\": true,\n    \"hasPrev\": false\n  }\n}\n</code></pre>"},{"location":"api/overview/#error-response","title":"Error Response","text":"<pre><code>{\n  \"success\": false,\n  \"error\": {\n    \"code\": \"VALIDATION_ERROR\",\n    \"message\": \"Invalid request data\",\n    \"details\": [\n      { \"field\": \"email\", \"message\": \"Invalid email format\" }\n    ]\n  },\n  \"meta\": {\n    \"timestamp\": \"2026-02-02T22:00:00Z\",\n    \"requestId\": \"req_abc123\"\n  }\n}\n</code></pre>"},{"location":"api/overview/#http-status-codes","title":"HTTP Status Codes","text":"Code Meaning Usage 200 OK Successful GET, PUT 201 Created Successful POST 204 No Content Successful DELETE 400 Bad Request Validation errors 401 Unauthorized Missing/invalid token 403 Forbidden Insufficient permissions 404 Not Found Resource doesn't exist 409 Conflict Duplicate resource 422 Unprocessable Business logic error 429 Too Many Requests Rate limit exceeded 500 Server Error Internal error"},{"location":"api/overview/#versioning","title":"Versioning","text":"<p>API versioning is path-based: <code>/api/v1/...</code></p> <p>Breaking changes require a new version (<code>/api/v2/...</code>).</p>"},{"location":"api/overview/#rate-limiting","title":"Rate Limiting","text":"Tier Limit Window Anonymous 100 requests 1 minute Authenticated 500 requests 1 minute Admin 1000 requests 1 minute <p>Rate limit headers:</p> <pre><code>X-RateLimit-Limit: 100\nX-RateLimit-Remaining: 95\nX-RateLimit-Reset: 1707012345\n</code></pre>"},{"location":"api/overview/#openapi-specification","title":"OpenAPI Specification","text":"<p>Full API documentation available at:</p> <ul> <li>Swagger UI: <code>/api/docs</code></li> <li>OpenAPI JSON: <code>/api/docs/openapi.json</code></li> </ul>"},{"location":"api/pagination/","title":"Pagination","text":""},{"location":"api/pagination/#pagination-format","title":"Pagination Format","text":"<p>All list endpoints support pagination with consistent response structure.</p>"},{"location":"api/pagination/#request-parameters","title":"Request Parameters","text":"Param Type Default Max Description <code>page</code> int 1 - Page number (1-indexed) <code>pageSize</code> int 20 50 Items per page <code>sort</code> string - - Sort field <code>order</code> string asc - Sort order (asc/desc)"},{"location":"api/pagination/#response-format","title":"Response Format","text":"<pre><code>{\n  \"success\": true,\n  \"data\": [...],\n  \"pagination\": {\n    \"page\": 1,\n    \"pageSize\": 20,\n    \"totalItems\": 156,\n    \"totalPages\": 8,\n    \"hasNext\": true,\n    \"hasPrev\": false\n  }\n}\n</code></pre>"},{"location":"api/pagination/#sorting","title":"Sorting","text":""},{"location":"api/pagination/#available-sort-fields-by-endpoint","title":"Available Sort Fields by Endpoint","text":"Endpoint Sort Fields <code>/trips</code> price, rating, duration, createdAt, popularity <code>/blog</code> publishedAt, views <code>/bookings</code> createdAt, travelDate, totalPrice <code>/reviews</code> createdAt, rating"},{"location":"api/pagination/#example","title":"Example","text":"<pre><code>GET /api/v1/trips?sort=price&amp;order=asc&amp;page=1&amp;pageSize=10\n</code></pre>"},{"location":"api/pagination/#filtering","title":"Filtering","text":"<p>Filters are applied via query parameters:</p> <pre><code>GET /api/v1/trips?destination=cairo&amp;minPrice=50&amp;maxPrice=200&amp;type=DAY_TOUR\n</code></pre>"},{"location":"api/pagination/#implementation","title":"Implementation","text":""},{"location":"api/pagination/#controller","title":"Controller","text":"<pre><code>@GetMapping\npublic ResponseEntity&lt;PagedResponse&lt;TripListDTO&gt;&gt; getTrips(\n        @Valid TripFilterRequest filter,\n        @PageableDefault(size = 20, sort = \"createdAt\") Pageable pageable) {\n    return ResponseEntity.ok(tripService.findTrips(filter, pageable));\n}\n</code></pre>"},{"location":"api/pagination/#response-builder","title":"Response Builder","text":"<pre><code>public static &lt;T&gt; PagedResponse&lt;T&gt; of(Page&lt;T&gt; page) {\n    return PagedResponse.&lt;T&gt;builder()\n        .data(page.getContent())\n        .pagination(Pagination.builder()\n            .page(page.getNumber() + 1)\n            .pageSize(page.getSize())\n            .totalItems(page.getTotalElements())\n            .totalPages(page.getTotalPages())\n            .hasNext(page.hasNext())\n            .hasPrev(page.hasPrevious())\n            .build())\n        .build();\n}\n</code></pre>"},{"location":"api/trips/","title":"Trips API","text":""},{"location":"api/trips/#public-endpoints","title":"Public Endpoints","text":""},{"location":"api/trips/#list-trips","title":"List Trips","text":"<pre><code>GET /api/v1/trips\n</code></pre> <p>Query Parameters:</p> Param Type Description <code>destination</code> string Filter by destination slug <code>type</code> string Filter by trip type (PACKAGE, DAY_TOUR, CRUISE) <code>minDuration</code> int Minimum duration in days <code>maxDuration</code> int Maximum duration in days <code>minPrice</code> decimal Minimum price <code>maxPrice</code> decimal Maximum price <code>minRating</code> decimal Minimum rating (1-5) <code>sort</code> string Sort field (price, rating, duration, popularity) <code>order</code> string Sort order (asc, desc) <code>page</code> int Page number (default: 1) <code>pageSize</code> int Items per page (default: 20, max: 50) <code>locale</code> string Content locale (en, es, ar) <p>Response:</p> <pre><code>{\n  \"success\": true,\n  \"data\": [\n    {\n      \"id\": 1,\n      \"slug\": \"pyramids-day-tour\",\n      \"title\": \"Pyramids of Giza Day Tour\",\n      \"shortDescription\": \"Explore the ancient wonders...\",\n      \"thumbnail\": \"https://cdn.egypttours.com/trips/pyramids-thumb.jpg\",\n      \"destination\": {\n        \"slug\": \"cairo\",\n        \"name\": \"Cairo\"\n      },\n      \"duration\": 1,\n      \"tripType\": \"DAY_TOUR\",\n      \"price\": 89.00,\n      \"rating\": 4.8,\n      \"reviewCount\": 156,\n      \"bookingMode\": \"INSTANT\"\n    }\n  ],\n  \"pagination\": {\n    \"page\": 1,\n    \"pageSize\": 20,\n    \"totalItems\": 45,\n    \"totalPages\": 3\n  }\n}\n</code></pre>"},{"location":"api/trips/#get-trip-details","title":"Get Trip Details","text":"<pre><code>GET /api/v1/trips/{slug}\n</code></pre> <p>Response:</p> <pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"id\": 1,\n    \"slug\": \"pyramids-day-tour\",\n    \"title\": \"Pyramids of Giza Day Tour\",\n    \"description\": \"Full markdown description...\",\n    \"shortDescription\": \"Explore the ancient wonders...\",\n    \"destination\": {\n      \"slug\": \"cairo\",\n      \"name\": \"Cairo\",\n      \"country\": \"Egypt\"\n    },\n    \"duration\": 1,\n    \"tripType\": \"DAY_TOUR\",\n    \"bookingMode\": \"INSTANT\",\n    \"maxCapacity\": 20,\n    \"pricing\": {\n      \"basePrice\": 89.00,\n      \"childPrice\": 45.00,\n      \"currency\": \"USD\",\n      \"rules\": [\n        {\n          \"name\": \"Peak Season\",\n          \"price\": 99.00,\n          \"validFrom\": \"2026-06-01\",\n          \"validTo\": \"2026-08-31\"\n        }\n      ]\n    },\n    \"itinerary\": [\n      {\n        \"day\": 1,\n        \"title\": \"Cairo Exploration\",\n        \"description\": \"Start your day with hotel pickup...\",\n        \"locations\": [\"Giza Pyramids\", \"Sphinx\", \"Egyptian Museum\"]\n      }\n    ],\n    \"included\": [\n      \"Hotel pickup and drop-off\",\n      \"Professional Egyptologist guide\",\n      \"Entrance fees\",\n      \"Lunch\"\n    ],\n    \"excluded\": [\n      \"Tips and gratuities\",\n      \"Personal expenses\"\n    ],\n    \"images\": [\n      {\n        \"url\": \"https://cdn.egypttours.com/trips/pyramids-1.jpg\",\n        \"alt\": \"Pyramids of Giza\",\n        \"isThumbnail\": true\n      }\n    ],\n    \"rating\": 4.8,\n    \"reviewCount\": 156,\n    \"relatedTrips\": [\n      { \"slug\": \"luxor-day-trip\", \"title\": \"Luxor Day Trip\" }\n    ],\n    \"updatedAt\": \"2026-01-15T10:00:00Z\"\n  }\n}\n</code></pre>"},{"location":"api/trips/#get-trip-reviews","title":"Get Trip Reviews","text":"<pre><code>GET /api/v1/trips/{slug}/reviews\n</code></pre> <p>Query Parameters:</p> Param Type Description <code>sort</code> string Sort by (recent, rating) <code>rating</code> int Filter by rating (1-5) <code>page</code> int Page number <p>Response:</p> <pre><code>{\n  \"success\": true,\n  \"data\": [\n    {\n      \"id\": 101,\n      \"rating\": 5,\n      \"comment\": \"Amazing experience! Our guide was fantastic...\",\n      \"author\": {\n        \"firstName\": \"Sarah\",\n        \"lastName\": \"M.\"\n      },\n      \"verified\": true,\n      \"createdAt\": \"2026-01-20T14:30:00Z\",\n      \"response\": {\n        \"comment\": \"Thank you for your kind words!\",\n        \"respondedAt\": \"2026-01-21T09:00:00Z\"\n      }\n    }\n  ]\n}\n</code></pre>"},{"location":"api/trips/#check-trip-availability","title":"Check Trip Availability","text":"<pre><code>GET /api/v1/trips/{slug}/availability\n</code></pre> <p>Query Parameters:</p> Param Type Description <code>from</code> date Start date (YYYY-MM-DD) <code>to</code> date End date (YYYY-MM-DD) <p>Response:</p> <pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"available\": [\n      { \"date\": \"2026-03-01\", \"spots\": 15, \"price\": 89.00 },\n      { \"date\": \"2026-03-02\", \"spots\": 20, \"price\": 89.00 }\n    ],\n    \"unavailable\": [\n      { \"date\": \"2026-03-05\", \"reason\": \"SOLD_OUT\" }\n    ]\n  }\n}\n</code></pre>"},{"location":"api/trips/#admin-endpoints","title":"Admin Endpoints","text":""},{"location":"api/trips/#create-trip","title":"Create Trip","text":"<pre><code>POST /api/v1/admin/trips\nAuthorization: Bearer {admin_token}\n</code></pre> <p>Request:</p> <pre><code>{\n  \"slug\": \"new-cairo-tour\",\n  \"destinationId\": 1,\n  \"duration\": 1,\n  \"tripType\": \"DAY_TOUR\",\n  \"basePrice\": 99.00,\n  \"maxCapacity\": 20,\n  \"bookingMode\": \"INSTANT\",\n  \"translations\": [\n    {\n      \"locale\": \"en\",\n      \"title\": \"New Cairo Tour\",\n      \"description\": \"...\",\n      \"shortDescription\": \"...\"\n    }\n  ],\n  \"itinerary\": [...],\n  \"included\": [...],\n  \"excluded\": [...]\n}\n</code></pre>"},{"location":"api/trips/#update-trip","title":"Update Trip","text":"<pre><code>PUT /api/v1/admin/trips/{id}\n</code></pre>"},{"location":"api/trips/#delete-trip","title":"Delete Trip","text":"<pre><code>DELETE /api/v1/admin/trips/{id}\n</code></pre>"},{"location":"api/users/","title":"Users API","text":""},{"location":"api/users/#profile-endpoints","title":"Profile Endpoints","text":""},{"location":"api/users/#get-profile","title":"Get Profile","text":"<pre><code>GET /api/v1/account/profile\nAuthorization: Bearer {token}\n</code></pre> <p>Response:</p> <pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"id\": 12345,\n    \"email\": \"user@example.com\",\n    \"firstName\": \"John\",\n    \"lastName\": \"Doe\",\n    \"phone\": \"+1234567890\",\n    \"nationality\": \"American\",\n    \"role\": \"CUSTOMER\",\n    \"emailVerified\": true,\n    \"createdAt\": \"2026-01-01T00:00:00Z\"\n  }\n}\n</code></pre>"},{"location":"api/users/#update-profile","title":"Update Profile","text":"<pre><code>PUT /api/v1/account/profile\nAuthorization: Bearer {token}\n</code></pre> <p>Request:</p> <pre><code>{\n  \"firstName\": \"John\",\n  \"lastName\": \"Smith\",\n  \"phone\": \"+1987654321\",\n  \"nationality\": \"British\"\n}\n</code></pre>"},{"location":"api/users/#change-password","title":"Change Password","text":"<pre><code>POST /api/v1/account/change-password\nAuthorization: Bearer {token}\n</code></pre> <p>Request:</p> <pre><code>{\n  \"currentPassword\": \"OldP@ssword123\",\n  \"newPassword\": \"NewP@ssword456\"\n}\n</code></pre>"},{"location":"api/users/#wishlist-endpoints","title":"Wishlist Endpoints","text":""},{"location":"api/users/#get-wishlist","title":"Get Wishlist","text":"<pre><code>GET /api/v1/account/wishlist\nAuthorization: Bearer {token}\n</code></pre>"},{"location":"api/users/#add-to-wishlist","title":"Add to Wishlist","text":"<pre><code>POST /api/v1/account/wishlist\n</code></pre> <p>Request:</p> <pre><code>{\n  \"tripId\": 1\n}\n</code></pre>"},{"location":"api/users/#remove-from-wishlist","title":"Remove from Wishlist","text":"<pre><code>DELETE /api/v1/account/wishlist/{tripId}\n</code></pre>"},{"location":"api/users/#admin-user-management","title":"Admin User Management","text":""},{"location":"api/users/#list-users","title":"List Users","text":"<pre><code>GET /api/v1/admin/users\nAuthorization: Bearer {admin_token}\n</code></pre>"},{"location":"api/users/#get-user-details","title":"Get User Details","text":"<pre><code>GET /api/v1/admin/users/{id}\n</code></pre>"},{"location":"api/users/#update-user-role","title":"Update User Role","text":"<pre><code>PATCH /api/v1/admin/users/{id}/role\n</code></pre> <p>Request:</p> <pre><code>{\n  \"role\": \"EDITOR\"\n}\n</code></pre>"},{"location":"backend/","title":"Backend Documentation","text":"<p>This section covers the Java Spring Boot backend architecture and implementation.</p>"},{"location":"backend/#contents","title":"Contents","text":"Document Description Clean Architecture Layered architecture design Modules Domain modules breakdown Authentication JWT and OAuth implementation Security Security measures and policies Database Data model and ERD Migrations Database migration strategy"},{"location":"backend/#tech-stack","title":"Tech Stack","text":"Component Technology Framework Spring Boot 3.x Language Java 21 Build Gradle Database PostgreSQL ORM Spring Data JPA / Hibernate Auth Spring Security + JWT API Docs OpenAPI 3 / Springdoc Validation Jakarta Validation Email Spring Mail Cache Redis Storage AWS S3 / Cloudinary"},{"location":"backend/#architecture-overview","title":"Architecture Overview","text":"<pre><code>graph TB\n    subgraph Presentation\n        A[Controllers]\n        B[DTOs]\n        C[Exception Handlers]\n    end\n\n    subgraph Application\n        D[Services]\n        E[Use Cases]\n        F[Mappers]\n    end\n\n    subgraph Domain\n        G[Entities]\n        H[Value Objects]\n        I[Domain Services]\n    end\n\n    subgraph Infrastructure\n        J[Repositories]\n        K[External APIs]\n        L[Config]\n    end\n\n    A --&gt; D\n    D --&gt; G\n    G --&gt; J\n    D --&gt; K</code></pre>"},{"location":"backend/authentication/","title":"Authentication","text":""},{"location":"backend/authentication/#overview","title":"Overview","text":"<p>Authentication uses JWT tokens with support for social login providers.</p>"},{"location":"backend/authentication/#auth-flow-diagram","title":"Auth Flow Diagram","text":"<pre><code>sequenceDiagram\n    participant C as Client\n    participant A as Auth API\n    participant U as User Service\n    participant J as JWT Service\n    participant D as Database\n\n    C-&gt;&gt;A: POST /auth/login {email, password}\n    A-&gt;&gt;U: validateCredentials()\n    U-&gt;&gt;D: findByEmail()\n    D--&gt;&gt;U: User\n    U-&gt;&gt;U: verifyPassword()\n    U--&gt;&gt;A: User validated\n    A-&gt;&gt;J: generateTokens(user)\n    J--&gt;&gt;A: {accessToken, refreshToken}\n    A--&gt;&gt;C: LoginResponse</code></pre>"},{"location":"backend/authentication/#jwt-configuration","title":"JWT Configuration","text":"<pre><code>// config/JwtConfig.java\n@Configuration\n@ConfigurationProperties(prefix = \"jwt\")\n@Getter @Setter\npublic class JwtConfig {\n    private String secret;\n    private long accessTokenExpiration = 3600000; // 1 hour\n    private long refreshTokenExpiration = 604800000; // 7 days\n    private String issuer = \"egypttours.com\";\n}\n</code></pre>"},{"location":"backend/authentication/#token-structure","title":"Token Structure","text":"<pre><code>{\n  \"sub\": \"user@example.com\",\n  \"userId\": 12345,\n  \"roles\": [\"CUSTOMER\"],\n  \"iat\": 1707000000,\n  \"exp\": 1707003600,\n  \"iss\": \"egypttours.com\"\n}\n</code></pre>"},{"location":"backend/authentication/#auth-endpoints","title":"Auth Endpoints","text":"Endpoint Method Description <code>/auth/register</code> POST User registration <code>/auth/login</code> POST Email/password login <code>/auth/refresh</code> POST Refresh access token <code>/auth/logout</code> POST Invalidate tokens <code>/auth/forgot-password</code> POST Request password reset <code>/auth/reset-password</code> POST Reset password <code>/auth/verify-email</code> GET Verify email address <code>/auth/google</code> POST Google OAuth <code>/auth/facebook</code> POST Facebook OAuth"},{"location":"backend/authentication/#implementation","title":"Implementation","text":""},{"location":"backend/authentication/#auth-controller","title":"Auth Controller","text":"<pre><code>@RestController\n@RequestMapping(\"/api/v1/auth\")\n@Tag(name = \"Authentication\")\npublic class AuthController {\n\n    private final AuthService authService;\n\n    @PostMapping(\"/register\")\n    public ResponseEntity&lt;ApiResponse&lt;Void&gt;&gt; register(\n            @Valid @RequestBody RegisterRequest request) {\n        authService.register(request);\n        return ResponseEntity.status(HttpStatus.CREATED)\n            .body(ApiResponse.success(\"Registration successful. Please verify your email.\"));\n    }\n\n    @PostMapping(\"/login\")\n    public ResponseEntity&lt;LoginResponse&gt; login(\n            @Valid @RequestBody LoginRequest request) {\n        return ResponseEntity.ok(authService.login(request));\n    }\n\n    @PostMapping(\"/refresh\")\n    public ResponseEntity&lt;TokenResponse&gt; refresh(\n            @RequestBody RefreshTokenRequest request) {\n        return ResponseEntity.ok(authService.refresh(request.getRefreshToken()));\n    }\n}\n</code></pre>"},{"location":"backend/authentication/#auth-service","title":"Auth Service","text":"<pre><code>@Service\npublic class AuthServiceImpl implements AuthService {\n\n    private final UserRepository userRepository;\n    private final PasswordEncoder passwordEncoder;\n    private final JwtService jwtService;\n    private final EmailService emailService;\n\n    @Override\n    @Transactional\n    public void register(RegisterRequest request) {\n        if (userRepository.existsByEmail(request.getEmail())) {\n            throw new ApiException(\"Email already registered\");\n        }\n\n        User user = User.builder()\n            .email(request.getEmail())\n            .password(passwordEncoder.encode(request.getPassword()))\n            .firstName(request.getFirstName())\n            .lastName(request.getLastName())\n            .role(Role.CUSTOMER)\n            .emailVerified(false)\n            .build();\n\n        user = userRepository.save(user);\n\n        String token = jwtService.generateEmailVerificationToken(user);\n        emailService.sendVerificationEmail(user.getEmail(), token);\n    }\n\n    @Override\n    public LoginResponse login(LoginRequest request) {\n        User user = userRepository.findByEmail(request.getEmail())\n            .orElseThrow(() -&gt; new ApiException(\"Invalid credentials\"));\n\n        if (!passwordEncoder.matches(request.getPassword(), user.getPassword())) {\n            throw new ApiException(\"Invalid credentials\");\n        }\n\n        if (!user.isEmailVerified()) {\n            throw new ApiException(\"Please verify your email first\");\n        }\n\n        String accessToken = jwtService.generateAccessToken(user);\n        String refreshToken = jwtService.generateRefreshToken(user);\n\n        return LoginResponse.builder()\n            .accessToken(accessToken)\n            .refreshToken(refreshToken)\n            .user(UserDTO.from(user))\n            .build();\n    }\n}\n</code></pre>"},{"location":"backend/authentication/#jwt-service","title":"JWT Service","text":"<pre><code>@Service\npublic class JwtService {\n\n    private final JwtConfig jwtConfig;\n    private final Key signingKey;\n\n    @PostConstruct\n    public void init() {\n        this.signingKey = Keys.hmacShaKeyFor(\n            jwtConfig.getSecret().getBytes(StandardCharsets.UTF_8)\n        );\n    }\n\n    public String generateAccessToken(User user) {\n        return Jwts.builder()\n            .setSubject(user.getEmail())\n            .claim(\"userId\", user.getId())\n            .claim(\"roles\", List.of(user.getRole().name()))\n            .setIssuedAt(new Date())\n            .setExpiration(new Date(System.currentTimeMillis() + jwtConfig.getAccessTokenExpiration()))\n            .setIssuer(jwtConfig.getIssuer())\n            .signWith(signingKey, SignatureAlgorithm.HS256)\n            .compact();\n    }\n\n    public Claims validateToken(String token) {\n        return Jwts.parserBuilder()\n            .setSigningKey(signingKey)\n            .build()\n            .parseClaimsJws(token)\n            .getBody();\n    }\n}\n</code></pre>"},{"location":"backend/authentication/#social-login","title":"Social Login","text":""},{"location":"backend/authentication/#google-oauth","title":"Google OAuth","text":"<pre><code>@PostMapping(\"/google\")\npublic ResponseEntity&lt;LoginResponse&gt; googleLogin(\n        @RequestBody SocialLoginRequest request) {\n    GoogleIdToken.Payload payload = googleAuthService.verify(request.getIdToken());\n    User user = findOrCreateSocialUser(payload, AuthProvider.GOOGLE);\n    return ResponseEntity.ok(generateLoginResponse(user));\n}\n</code></pre>"},{"location":"backend/authentication/#facebook-oauth","title":"Facebook OAuth","text":"<pre><code>@PostMapping(\"/facebook\")\npublic ResponseEntity&lt;LoginResponse&gt; facebookLogin(\n        @RequestBody SocialLoginRequest request) {\n    FacebookUser fbUser = facebookAuthService.verify(request.getAccessToken());\n    User user = findOrCreateSocialUser(fbUser, AuthProvider.FACEBOOK);\n    return ResponseEntity.ok(generateLoginResponse(user));\n}\n</code></pre>"},{"location":"backend/authentication/#security-filter","title":"Security Filter","text":"<pre><code>@Component\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\n\n    private final JwtService jwtService;\n    private final UserDetailsService userDetailsService;\n\n    @Override\n    protected void doFilterInternal(\n            HttpServletRequest request,\n            HttpServletResponse response,\n            FilterChain chain) throws ServletException, IOException {\n\n        String authHeader = request.getHeader(\"Authorization\");\n\n        if (authHeader == null || !authHeader.startsWith(\"Bearer \")) {\n            chain.doFilter(request, response);\n            return;\n        }\n\n        String token = authHeader.substring(7);\n\n        try {\n            Claims claims = jwtService.validateToken(token);\n            String email = claims.getSubject();\n\n            UserDetails userDetails = userDetailsService.loadUserByUsername(email);\n            UsernamePasswordAuthenticationToken auth =\n                new UsernamePasswordAuthenticationToken(\n                    userDetails, null, userDetails.getAuthorities()\n                );\n\n            SecurityContextHolder.getContext().setAuthentication(auth);\n        } catch (JwtException e) {\n            // Token invalid - continue without auth\n        }\n\n        chain.doFilter(request, response);\n    }\n}\n</code></pre>"},{"location":"backend/clean-architecture/","title":"Clean Architecture","text":""},{"location":"backend/clean-architecture/#overview","title":"Overview","text":"<p>The backend follows Clean Architecture principles with clear separation between layers.</p>"},{"location":"backend/clean-architecture/#architecture-diagram","title":"Architecture Diagram","text":"<pre><code>graph TB\n    subgraph External\n        A[HTTP Clients]\n        B[Database]\n        C[External APIs]\n    end\n\n    subgraph Presentation Layer\n        D[REST Controllers]\n        E[Request/Response DTOs]\n        F[Validation]\n    end\n\n    subgraph Application Layer\n        G[Services]\n        H[Use Cases]\n        I[Ports/Interfaces]\n    end\n\n    subgraph Domain Layer\n        J[Entities]\n        K[Value Objects]\n        L[Domain Services]\n        M[Domain Events]\n    end\n\n    subgraph Infrastructure Layer\n        N[JPA Repositories]\n        O[External Clients]\n        P[Config/Security]\n    end\n\n    A --&gt; D\n    D --&gt; G\n    G --&gt; J\n    G --&gt; I\n    I --&gt; N\n    I --&gt; O\n    N --&gt; B\n    O --&gt; C</code></pre>"},{"location":"backend/clean-architecture/#directory-structure","title":"Directory Structure","text":"<pre><code>src/main/java/com/egypttours/\n\u251c\u2500\u2500 EgyptToursApplication.java\n\u2502\n\u251c\u2500\u2500 common/                        # Shared utilities\n\u2502   \u251c\u2500\u2500 exception/\n\u2502   \u2502   \u251c\u2500\u2500 ApiException.java\n\u2502   \u2502   \u251c\u2500\u2500 ResourceNotFoundException.java\n\u2502   \u2502   \u2514\u2500\u2500 GlobalExceptionHandler.java\n\u2502   \u251c\u2500\u2500 dto/\n\u2502   \u2502   \u251c\u2500\u2500 ApiResponse.java\n\u2502   \u2502   \u251c\u2500\u2500 PagedResponse.java\n\u2502   \u2502   \u2514\u2500\u2500 ErrorResponse.java\n\u2502   \u2514\u2500\u2500 util/\n\u2502       \u251c\u2500\u2500 DateUtils.java\n\u2502       \u2514\u2500\u2500 SlugUtils.java\n\u2502\n\u251c\u2500\u2500 config/                        # Configuration\n\u2502   \u251c\u2500\u2500 SecurityConfig.java\n\u2502   \u251c\u2500\u2500 CorsConfig.java\n\u2502   \u251c\u2500\u2500 JwtConfig.java\n\u2502   \u251c\u2500\u2500 OpenApiConfig.java\n\u2502   \u2514\u2500\u2500 CacheConfig.java\n\u2502\n\u251c\u2500\u2500 trip/                          # Trip domain module\n\u2502   \u251c\u2500\u2500 domain/\n\u2502   \u2502   \u251c\u2500\u2500 Trip.java\n\u2502   \u2502   \u251c\u2500\u2500 ItineraryDay.java\n\u2502   \u2502   \u251c\u2500\u2500 PriceRule.java\n\u2502   \u2502   \u2514\u2500\u2500 TripStatus.java\n\u2502   \u251c\u2500\u2500 repository/\n\u2502   \u2502   \u251c\u2500\u2500 TripRepository.java\n\u2502   \u2502   \u2514\u2500\u2500 TripSpecifications.java\n\u2502   \u251c\u2500\u2500 service/\n\u2502   \u2502   \u251c\u2500\u2500 TripService.java\n\u2502   \u2502   \u2514\u2500\u2500 TripServiceImpl.java\n\u2502   \u251c\u2500\u2500 dto/\n\u2502   \u2502   \u251c\u2500\u2500 TripDTO.java\n\u2502   \u2502   \u251c\u2500\u2500 TripListDTO.java\n\u2502   \u2502   \u251c\u2500\u2500 CreateTripRequest.java\n\u2502   \u2502   \u2514\u2500\u2500 TripFilterRequest.java\n\u2502   \u251c\u2500\u2500 mapper/\n\u2502   \u2502   \u2514\u2500\u2500 TripMapper.java\n\u2502   \u2514\u2500\u2500 controller/\n\u2502       \u251c\u2500\u2500 TripController.java\n\u2502       \u2514\u2500\u2500 AdminTripController.java\n\u2502\n\u251c\u2500\u2500 booking/                       # Booking domain module\n\u2502   \u251c\u2500\u2500 domain/\n\u2502   \u251c\u2500\u2500 repository/\n\u2502   \u251c\u2500\u2500 service/\n\u2502   \u251c\u2500\u2500 dto/\n\u2502   \u2514\u2500\u2500 controller/\n\u2502\n\u251c\u2500\u2500 user/                          # User domain module\n\u2502   \u251c\u2500\u2500 domain/\n\u2502   \u251c\u2500\u2500 repository/\n\u2502   \u251c\u2500\u2500 service/\n\u2502   \u251c\u2500\u2500 dto/\n\u2502   \u2514\u2500\u2500 controller/\n\u2502\n\u251c\u2500\u2500 content/                       # Content module (blog, vlogs)\n\u2502   \u251c\u2500\u2500 blog/\n\u2502   \u2514\u2500\u2500 vlog/\n\u2502\n\u251c\u2500\u2500 support/                       # Support tickets\n\u2502   \u251c\u2500\u2500 domain/\n\u2502   \u251c\u2500\u2500 repository/\n\u2502   \u251c\u2500\u2500 service/\n\u2502   \u2514\u2500\u2500 controller/\n\u2502\n\u251c\u2500\u2500 payment/                       # Payment processing\n\u2502   \u251c\u2500\u2500 service/\n\u2502   \u251c\u2500\u2500 provider/\n\u2502   \u2502   \u2514\u2500\u2500 StripePaymentProvider.java\n\u2502   \u2514\u2500\u2500 dto/\n\u2502\n\u2514\u2500\u2500 notification/                  # Notifications\n    \u251c\u2500\u2500 service/\n    \u251c\u2500\u2500 email/\n    \u2514\u2500\u2500 template/\n</code></pre>"},{"location":"backend/clean-architecture/#layer-responsibilities","title":"Layer Responsibilities","text":""},{"location":"backend/clean-architecture/#presentation-layer","title":"Presentation Layer","text":"Component Responsibility Controllers HTTP endpoints, request routing DTOs Request/response data shapes Validation Input validation, sanitization Exception Handler Error response formatting <pre><code>@RestController\n@RequestMapping(\"/api/v1/trips\")\n@Tag(name = \"Trips\", description = \"Trip management APIs\")\npublic class TripController {\n\n    private final TripService tripService;\n\n    @GetMapping\n    public ResponseEntity&lt;PagedResponse&lt;TripListDTO&gt;&gt; getTrips(\n            @Valid TripFilterRequest filter,\n            Pageable pageable) {\n        return ResponseEntity.ok(tripService.findTrips(filter, pageable));\n    }\n\n    @GetMapping(\"/{slug}\")\n    public ResponseEntity&lt;TripDTO&gt; getTrip(@PathVariable String slug) {\n        return ResponseEntity.ok(tripService.findBySlug(slug));\n    }\n}\n</code></pre>"},{"location":"backend/clean-architecture/#application-layer","title":"Application Layer","text":"Component Responsibility Services Business logic orchestration Use Cases Specific business operations Mappers Entity \u2194 DTO conversion Ports Interfaces for infrastructure <pre><code>@Service\n@Transactional(readOnly = true)\npublic class TripServiceImpl implements TripService {\n\n    private final TripRepository tripRepository;\n    private final TripMapper tripMapper;\n    private final CacheManager cacheManager;\n\n    @Override\n    public TripDTO findBySlug(String slug) {\n        Trip trip = tripRepository.findBySlugAndStatus(slug, TripStatus.PUBLISHED)\n            .orElseThrow(() -&gt; new ResourceNotFoundException(\"Trip\", \"slug\", slug));\n        return tripMapper.toDTO(trip);\n    }\n\n    @Override\n    @Transactional\n    @CacheEvict(value = \"trips\", allEntries = true)\n    public TripDTO createTrip(CreateTripRequest request) {\n        Trip trip = tripMapper.toEntity(request);\n        trip.setSlug(SlugUtils.generate(request.getTitle()));\n        trip = tripRepository.save(trip);\n        return tripMapper.toDTO(trip);\n    }\n}\n</code></pre>"},{"location":"backend/clean-architecture/#domain-layer","title":"Domain Layer","text":"Component Responsibility Entities Core business objects Value Objects Immutable domain values Domain Services Complex business logic Domain Events State change notifications <pre><code>@Entity\n@Table(name = \"trips\")\n@Getter @Setter\npublic class Trip extends BaseEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false)\n    private String title;\n\n    @Column(unique = true, nullable = false)\n    private String slug;\n\n    @Lob\n    private String description;\n\n    @Enumerated(EnumType.STRING)\n    private TripStatus status = TripStatus.DRAFT;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    private Destination destination;\n\n    @OneToMany(mappedBy = \"trip\", cascade = CascadeType.ALL, orphanRemoval = true)\n    @OrderBy(\"dayNumber\")\n    private List&lt;ItineraryDay&gt; itinerary = new ArrayList&lt;&gt;();\n\n    @OneToMany(mappedBy = \"trip\", cascade = CascadeType.ALL)\n    private List&lt;PriceRule&gt; priceRules = new ArrayList&lt;&gt;();\n\n    // Domain logic\n    public Money getBasePrice() {\n        return priceRules.stream()\n            .filter(PriceRule::isDefault)\n            .findFirst()\n            .map(PriceRule::getPrice)\n            .orElseThrow();\n    }\n}\n</code></pre>"},{"location":"backend/clean-architecture/#infrastructure-layer","title":"Infrastructure Layer","text":"Component Responsibility Repositories Database access External Clients Third-party integrations Config Application configuration Security Auth implementation"},{"location":"backend/clean-architecture/#dependency-rules","title":"Dependency Rules","text":"<pre><code>Presentation \u2192 Application \u2192 Domain \u2190 Infrastructure\n                    \u2193\n              Infrastructure\n</code></pre> <ul> <li>Domain has NO external dependencies</li> <li>Application depends only on Domain</li> <li>Infrastructure implements Domain interfaces</li> <li>Presentation uses Application services</li> </ul>"},{"location":"backend/database/","title":"Database Design","text":""},{"location":"backend/database/#overview","title":"Overview","text":"<p>PostgreSQL database with JPA/Hibernate ORM.</p>"},{"location":"backend/database/#entity-relationship-diagram","title":"Entity Relationship Diagram","text":"<pre><code>erDiagram\n    USER ||--o{ BOOKING : makes\n    USER ||--o{ REVIEW : writes\n    USER ||--o{ TICKET : creates\n    USER ||--o{ WISHLIST_ITEM : saves\n\n    TRIP ||--o{ BOOKING : \"booked as\"\n    TRIP ||--o{ REVIEW : receives\n    TRIP ||--o{ ITINERARY_DAY : contains\n    TRIP ||--o{ PRICE_RULE : has\n    TRIP ||--o{ TRIP_IMAGE : has\n    TRIP ||--o{ TRIP_TRANSLATION : \"translated to\"\n    TRIP }o--|| DESTINATION : \"located in\"\n\n    BOOKING ||--o{ TRAVELER : includes\n    BOOKING ||--o{ BOOKING_ADDON : has\n    BOOKING ||--|{ PAYMENT : \"paid by\"\n    BOOKING ||--o| INVOICE : generates\n\n    DESTINATION ||--o{ DESTINATION_TRANSLATION : \"translated to\"\n\n    TICKET ||--o{ TICKET_MESSAGE : contains\n\n    BLOG_POST ||--o{ BLOG_TRANSLATION : \"translated to\"\n\n    USER {\n        bigint id PK\n        string email UK\n        string password\n        string first_name\n        string last_name\n        string phone\n        enum role\n        boolean email_verified\n        enum auth_provider\n        timestamp created_at\n    }\n\n    TRIP {\n        bigint id PK\n        string slug UK\n        bigint destination_id FK\n        integer duration_days\n        enum trip_type\n        enum status\n        decimal base_price\n        integer max_capacity\n        timestamp created_at\n    }\n\n    TRIP_TRANSLATION {\n        bigint id PK\n        bigint trip_id FK\n        string locale\n        string title\n        text description\n        text short_description\n    }\n\n    ITINERARY_DAY {\n        bigint id PK\n        bigint trip_id FK\n        integer day_number\n        string title\n        text description\n        string locations\n    }\n\n    PRICE_RULE {\n        bigint id PK\n        bigint trip_id FK\n        string name\n        decimal price\n        date valid_from\n        date valid_to\n        integer min_travelers\n    }\n\n    DESTINATION {\n        bigint id PK\n        string slug UK\n        string country\n        decimal latitude\n        decimal longitude\n    }\n\n    BOOKING {\n        bigint id PK\n        string booking_number UK\n        bigint user_id FK\n        bigint trip_id FK\n        date travel_date\n        integer adults\n        integer children\n        decimal total_price\n        enum status\n        enum payment_status\n        timestamp created_at\n    }\n\n    TRAVELER {\n        bigint id PK\n        bigint booking_id FK\n        string first_name\n        string last_name\n        string nationality\n        string passport_number\n        date date_of_birth\n        enum traveler_type\n    }\n\n    PAYMENT {\n        bigint id PK\n        bigint booking_id FK\n        string transaction_id UK\n        decimal amount\n        string currency\n        enum status\n        enum payment_method\n        timestamp created_at\n    }\n\n    REVIEW {\n        bigint id PK\n        bigint user_id FK\n        bigint trip_id FK\n        integer rating\n        text comment\n        boolean verified\n        timestamp created_at\n    }\n\n    TICKET {\n        bigint id PK\n        bigint user_id FK\n        bigint booking_id FK\n        string subject\n        enum status\n        enum priority\n        timestamp created_at\n    }\n\n    BLOG_POST {\n        bigint id PK\n        string slug UK\n        bigint author_id FK\n        enum status\n        string featured_image\n        timestamp published_at\n    }</code></pre>"},{"location":"backend/database/#entity-definitions","title":"Entity Definitions","text":""},{"location":"backend/database/#user-entity","title":"User Entity","text":"<pre><code>@Entity\n@Table(name = \"users\")\npublic class User extends BaseEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(unique = true, nullable = false)\n    private String email;\n\n    @Column(nullable = false)\n    private String password;\n\n    @Column(name = \"first_name\", nullable = false)\n    private String firstName;\n\n    @Column(name = \"last_name\", nullable = false)\n    private String lastName;\n\n    private String phone;\n\n    @Enumerated(EnumType.STRING)\n    @Column(nullable = false)\n    private Role role = Role.CUSTOMER;\n\n    @Column(name = \"email_verified\")\n    private boolean emailVerified = false;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = \"auth_provider\")\n    private AuthProvider authProvider = AuthProvider.LOCAL;\n\n    @OneToMany(mappedBy = \"user\")\n    private List&lt;Booking&gt; bookings = new ArrayList&lt;&gt;();\n\n    @OneToMany(mappedBy = \"user\")\n    private List&lt;Review&gt; reviews = new ArrayList&lt;&gt;();\n}\n</code></pre>"},{"location":"backend/database/#trip-entity","title":"Trip Entity","text":"<pre><code>@Entity\n@Table(name = \"trips\")\npublic class Trip extends BaseEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(unique = true, nullable = false)\n    private String slug;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"destination_id\")\n    private Destination destination;\n\n    @Column(name = \"duration_days\")\n    private Integer durationDays;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = \"trip_type\")\n    private TripType tripType;\n\n    @Enumerated(EnumType.STRING)\n    private TripStatus status = TripStatus.DRAFT;\n\n    @Column(name = \"base_price\", precision = 10, scale = 2)\n    private BigDecimal basePrice;\n\n    @Column(name = \"max_capacity\")\n    private Integer maxCapacity;\n\n    @OneToMany(mappedBy = \"trip\", cascade = CascadeType.ALL, orphanRemoval = true)\n    private List&lt;TripTranslation&gt; translations = new ArrayList&lt;&gt;();\n\n    @OneToMany(mappedBy = \"trip\", cascade = CascadeType.ALL, orphanRemoval = true)\n    @OrderBy(\"dayNumber ASC\")\n    private List&lt;ItineraryDay&gt; itinerary = new ArrayList&lt;&gt;();\n\n    @OneToMany(mappedBy = \"trip\", cascade = CascadeType.ALL)\n    private List&lt;PriceRule&gt; priceRules = new ArrayList&lt;&gt;();\n\n    @OneToMany(mappedBy = \"trip\", cascade = CascadeType.ALL)\n    @OrderBy(\"sortOrder ASC\")\n    private List&lt;TripImage&gt; images = new ArrayList&lt;&gt;();\n}\n</code></pre>"},{"location":"backend/database/#booking-entity","title":"Booking Entity","text":"<pre><code>@Entity\n@Table(name = \"bookings\")\npublic class Booking extends BaseEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = \"booking_number\", unique = true, nullable = false)\n    private String bookingNumber;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"user_id\", nullable = false)\n    private User user;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"trip_id\", nullable = false)\n    private Trip trip;\n\n    @Column(name = \"travel_date\", nullable = false)\n    private LocalDate travelDate;\n\n    private Integer adults = 1;\n    private Integer children = 0;\n\n    @Column(name = \"total_price\", precision = 10, scale = 2)\n    private BigDecimal totalPrice;\n\n    @Enumerated(EnumType.STRING)\n    private BookingStatus status = BookingStatus.PENDING;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = \"payment_status\")\n    private PaymentStatus paymentStatus = PaymentStatus.PENDING;\n\n    @OneToMany(mappedBy = \"booking\", cascade = CascadeType.ALL, orphanRemoval = true)\n    private List&lt;Traveler&gt; travelers = new ArrayList&lt;&gt;();\n\n    @OneToMany(mappedBy = \"booking\", cascade = CascadeType.ALL)\n    private List&lt;Payment&gt; payments = new ArrayList&lt;&gt;();\n\n    @PrePersist\n    public void generateBookingNumber() {\n        this.bookingNumber = \"ET-\" + UUID.randomUUID().toString().substring(0, 8).toUpperCase();\n    }\n}\n</code></pre>"},{"location":"backend/database/#indexes","title":"Indexes","text":"<pre><code>-- Performance indexes\nCREATE INDEX idx_trips_destination ON trips(destination_id);\nCREATE INDEX idx_trips_status ON trips(status);\nCREATE INDEX idx_trips_slug ON trips(slug);\n\nCREATE INDEX idx_bookings_user ON bookings(user_id);\nCREATE INDEX idx_bookings_status ON bookings(status);\nCREATE INDEX idx_bookings_date ON bookings(travel_date);\n\nCREATE INDEX idx_reviews_trip ON reviews(trip_id);\nCREATE INDEX idx_reviews_user ON reviews(user_id);\n\n-- Composite indexes\nCREATE INDEX idx_trips_dest_status ON trips(destination_id, status);\nCREATE INDEX idx_bookings_user_status ON bookings(user_id, status);\n</code></pre>"},{"location":"backend/database/#enums","title":"Enums","text":"<pre><code>public enum Role {\n    GUEST, CUSTOMER, EDITOR, BOOKING_AGENT, SUPPORT_AGENT, ADMIN\n}\n\npublic enum TripStatus {\n    DRAFT, PUBLISHED, ARCHIVED\n}\n\npublic enum TripType {\n    PACKAGE, DAY_TOUR, CRUISE, PRIVATE\n}\n\npublic enum BookingStatus {\n    PENDING, CONFIRMED, CANCELLED, COMPLETED, REFUNDED\n}\n\npublic enum PaymentStatus {\n    PENDING, PARTIAL, PAID, REFUNDED\n}\n</code></pre>"},{"location":"backend/migrations/","title":"Database Migrations","text":""},{"location":"backend/migrations/#overview","title":"Overview","text":"<p>Database schema migrations using Flyway with version control.</p>"},{"location":"backend/migrations/#migration-configuration","title":"Migration Configuration","text":"<pre><code># application.yml\nspring:\n  flyway:\n    enabled: true\n    locations: classpath:db/migration\n    baseline-on-migrate: true\n    validate-on-migrate: true\n</code></pre>"},{"location":"backend/migrations/#migration-naming","title":"Migration Naming","text":"<pre><code>V{version}__{description}.sql\n\nExamples:\nV1__create_users_table.sql\nV2__create_trips_table.sql\nV3__create_bookings_table.sql\nV4__add_trip_translations.sql\n</code></pre>"},{"location":"backend/migrations/#initial-migrations","title":"Initial Migrations","text":""},{"location":"backend/migrations/#v1__create_users_tablesql","title":"V1__create_users_table.sql","text":"<pre><code>CREATE TABLE users (\n    id BIGSERIAL PRIMARY KEY,\n    email VARCHAR(255) NOT NULL UNIQUE,\n    password VARCHAR(255) NOT NULL,\n    first_name VARCHAR(100) NOT NULL,\n    last_name VARCHAR(100) NOT NULL,\n    phone VARCHAR(20),\n    role VARCHAR(20) NOT NULL DEFAULT 'CUSTOMER',\n    email_verified BOOLEAN NOT NULL DEFAULT FALSE,\n    auth_provider VARCHAR(20) NOT NULL DEFAULT 'LOCAL',\n    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE INDEX idx_users_email ON users(email);\nCREATE INDEX idx_users_role ON users(role);\n</code></pre>"},{"location":"backend/migrations/#v2__create_destinations_tablesql","title":"V2__create_destinations_table.sql","text":"<pre><code>CREATE TABLE destinations (\n    id BIGSERIAL PRIMARY KEY,\n    slug VARCHAR(255) NOT NULL UNIQUE,\n    country VARCHAR(100) NOT NULL DEFAULT 'Egypt',\n    latitude DECIMAL(10, 8),\n    longitude DECIMAL(11, 8),\n    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE destination_translations (\n    id BIGSERIAL PRIMARY KEY,\n    destination_id BIGINT NOT NULL REFERENCES destinations(id) ON DELETE CASCADE,\n    locale VARCHAR(5) NOT NULL,\n    name VARCHAR(255) NOT NULL,\n    description TEXT,\n    UNIQUE(destination_id, locale)\n);\n</code></pre>"},{"location":"backend/migrations/#v3__create_trips_tablesql","title":"V3__create_trips_table.sql","text":"<pre><code>CREATE TABLE trips (\n    id BIGSERIAL PRIMARY KEY,\n    slug VARCHAR(255) NOT NULL UNIQUE,\n    destination_id BIGINT REFERENCES destinations(id),\n    duration_days INTEGER NOT NULL,\n    trip_type VARCHAR(20) NOT NULL,\n    status VARCHAR(20) NOT NULL DEFAULT 'DRAFT',\n    base_price DECIMAL(10, 2) NOT NULL,\n    max_capacity INTEGER,\n    booking_mode VARCHAR(20) NOT NULL DEFAULT 'INSTANT',\n    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE trip_translations (\n    id BIGSERIAL PRIMARY KEY,\n    trip_id BIGINT NOT NULL REFERENCES trips(id) ON DELETE CASCADE,\n    locale VARCHAR(5) NOT NULL,\n    title VARCHAR(255) NOT NULL,\n    description TEXT,\n    short_description VARCHAR(500),\n    included TEXT,\n    excluded TEXT,\n    UNIQUE(trip_id, locale)\n);\n\nCREATE TABLE itinerary_days (\n    id BIGSERIAL PRIMARY KEY,\n    trip_id BIGINT NOT NULL REFERENCES trips(id) ON DELETE CASCADE,\n    day_number INTEGER NOT NULL,\n    title VARCHAR(255) NOT NULL,\n    description TEXT,\n    locations VARCHAR(500),\n    UNIQUE(trip_id, day_number)\n);\n\nCREATE TABLE price_rules (\n    id BIGSERIAL PRIMARY KEY,\n    trip_id BIGINT NOT NULL REFERENCES trips(id) ON DELETE CASCADE,\n    name VARCHAR(100) NOT NULL,\n    price DECIMAL(10, 2) NOT NULL,\n    valid_from DATE,\n    valid_to DATE,\n    min_travelers INTEGER DEFAULT 1,\n    is_default BOOLEAN DEFAULT FALSE\n);\n\nCREATE TABLE trip_images (\n    id BIGSERIAL PRIMARY KEY,\n    trip_id BIGINT NOT NULL REFERENCES trips(id) ON DELETE CASCADE,\n    url VARCHAR(500) NOT NULL,\n    alt_text VARCHAR(255),\n    sort_order INTEGER DEFAULT 0,\n    is_thumbnail BOOLEAN DEFAULT FALSE\n);\n\nCREATE INDEX idx_trips_destination ON trips(destination_id);\nCREATE INDEX idx_trips_status ON trips(status);\n</code></pre>"},{"location":"backend/migrations/#v4__create_bookings_tablesql","title":"V4__create_bookings_table.sql","text":"<pre><code>CREATE TABLE bookings (\n    id BIGSERIAL PRIMARY KEY,\n    booking_number VARCHAR(20) NOT NULL UNIQUE,\n    user_id BIGINT NOT NULL REFERENCES users(id),\n    trip_id BIGINT NOT NULL REFERENCES trips(id),\n    travel_date DATE NOT NULL,\n    adults INTEGER NOT NULL DEFAULT 1,\n    children INTEGER NOT NULL DEFAULT 0,\n    infants INTEGER NOT NULL DEFAULT 0,\n    total_price DECIMAL(10, 2) NOT NULL,\n    status VARCHAR(20) NOT NULL DEFAULT 'PENDING',\n    payment_status VARCHAR(20) NOT NULL DEFAULT 'PENDING',\n    special_requests TEXT,\n    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE travelers (\n    id BIGSERIAL PRIMARY KEY,\n    booking_id BIGINT NOT NULL REFERENCES bookings(id) ON DELETE CASCADE,\n    first_name VARCHAR(100) NOT NULL,\n    last_name VARCHAR(100) NOT NULL,\n    nationality VARCHAR(100),\n    passport_number VARCHAR(50),\n    date_of_birth DATE,\n    traveler_type VARCHAR(20) NOT NULL DEFAULT 'ADULT'\n);\n\nCREATE TABLE payments (\n    id BIGSERIAL PRIMARY KEY,\n    booking_id BIGINT NOT NULL REFERENCES bookings(id),\n    transaction_id VARCHAR(255) UNIQUE,\n    amount DECIMAL(10, 2) NOT NULL,\n    currency VARCHAR(3) NOT NULL DEFAULT 'USD',\n    status VARCHAR(20) NOT NULL,\n    payment_method VARCHAR(20),\n    provider_response TEXT,\n    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE INDEX idx_bookings_user ON bookings(user_id);\nCREATE INDEX idx_bookings_status ON bookings(status);\nCREATE INDEX idx_bookings_date ON bookings(travel_date);\n</code></pre>"},{"location":"backend/migrations/#migration-best-practices","title":"Migration Best Practices","text":"Practice Description Never modify Once deployed, never modify a migration Backwards compatible Ensure migrations don't break running app Test rollback Have rollback scripts ready Small changes One logical change per migration Descriptive names Clear description in filename"},{"location":"backend/migrations/#rollback-strategy","title":"Rollback Strategy","text":"<pre><code>-- V5__add_phone_verified.sql\nALTER TABLE users ADD COLUMN phone_verified BOOLEAN DEFAULT FALSE;\n\n-- V5_1__rollback_add_phone_verified.sql (manual rollback)\nALTER TABLE users DROP COLUMN phone_verified;\n</code></pre>"},{"location":"backend/modules/","title":"Backend Modules","text":""},{"location":"backend/modules/#module-overview","title":"Module Overview","text":"<p>The backend is organized into domain-driven modules, each encapsulating a specific business capability.</p>"},{"location":"backend/modules/#module-diagram","title":"Module Diagram","text":"<pre><code>graph TD\n    subgraph Core Modules\n        A[User Module]\n        B[Trip Module]\n        C[Booking Module]\n        D[Payment Module]\n    end\n\n    subgraph Content Modules\n        E[Blog Module]\n        F[Vlog Module]\n        G[Destination Module]\n    end\n\n    subgraph Support Modules\n        H[Support Module]\n        I[Notification Module]\n        J[Review Module]\n    end\n\n    subgraph Infrastructure\n        K[Common/Shared]\n        L[Security]\n        M[Config]\n    end\n\n    C --&gt; A\n    C --&gt; B\n    C --&gt; D\n    J --&gt; A\n    J --&gt; B\n    H --&gt; A\n    I --&gt; A</code></pre>"},{"location":"backend/modules/#module-details","title":"Module Details","text":""},{"location":"backend/modules/#user-module-user","title":"User Module (<code>/user</code>)","text":"<p>Handles user authentication, registration, and profile management.</p> Entity Description <code>User</code> Core user entity <code>Role</code> User roles (CUSTOMER, ADMIN, etc.) <code>Profile</code> Extended user info <code>PasswordReset</code> Password reset tokens <pre><code>user/\n\u251c\u2500\u2500 domain/\n\u2502   \u251c\u2500\u2500 User.java\n\u2502   \u251c\u2500\u2500 Role.java\n\u2502   \u251c\u2500\u2500 Profile.java\n\u2502   \u2514\u2500\u2500 PasswordResetToken.java\n\u251c\u2500\u2500 repository/\n\u2502   \u2514\u2500\u2500 UserRepository.java\n\u251c\u2500\u2500 service/\n\u2502   \u251c\u2500\u2500 UserService.java\n\u2502   \u251c\u2500\u2500 AuthService.java\n\u2502   \u2514\u2500\u2500 ProfileService.java\n\u251c\u2500\u2500 dto/\n\u2502   \u251c\u2500\u2500 UserDTO.java\n\u2502   \u251c\u2500\u2500 RegisterRequest.java\n\u2502   \u251c\u2500\u2500 LoginRequest.java\n\u2502   \u2514\u2500\u2500 LoginResponse.java\n\u2514\u2500\u2500 controller/\n    \u251c\u2500\u2500 AuthController.java\n    \u2514\u2500\u2500 ProfileController.java\n</code></pre>"},{"location":"backend/modules/#trip-module-trip","title":"Trip Module (<code>/trip</code>)","text":"<p>Manages tours, itineraries, and availability.</p> Entity Description <code>Trip</code> Core tour package <code>ItineraryDay</code> Day-by-day breakdown <code>PriceRule</code> Pricing logic <code>TripImage</code> Gallery images <code>TripTranslation</code> i18n content <pre><code>trip/\n\u251c\u2500\u2500 domain/\n\u2502   \u251c\u2500\u2500 Trip.java\n\u2502   \u251c\u2500\u2500 ItineraryDay.java\n\u2502   \u251c\u2500\u2500 PriceRule.java\n\u2502   \u251c\u2500\u2500 TripImage.java\n\u2502   \u251c\u2500\u2500 TripTranslation.java\n\u2502   \u2514\u2500\u2500 TripStatus.java\n\u251c\u2500\u2500 repository/\n\u2502   \u251c\u2500\u2500 TripRepository.java\n\u2502   \u2514\u2500\u2500 TripSpecifications.java\n\u251c\u2500\u2500 service/\n\u2502   \u251c\u2500\u2500 TripService.java\n\u2502   \u251c\u2500\u2500 AvailabilityService.java\n\u2502   \u2514\u2500\u2500 PricingService.java\n\u251c\u2500\u2500 dto/\n\u2502   \u251c\u2500\u2500 TripDTO.java\n\u2502   \u251c\u2500\u2500 TripListDTO.java\n\u2502   \u251c\u2500\u2500 CreateTripRequest.java\n\u2502   \u2514\u2500\u2500 UpdateTripRequest.java\n\u2514\u2500\u2500 controller/\n    \u251c\u2500\u2500 TripController.java          # Public API\n    \u2514\u2500\u2500 AdminTripController.java     # Admin API\n</code></pre>"},{"location":"backend/modules/#booking-module-booking","title":"Booking Module (<code>/booking</code>)","text":"<p>Handles the complete booking lifecycle.</p> Entity Description <code>Booking</code> Core booking record <code>Traveler</code> Individual traveler info <code>BookingAddOn</code> Optional extras <code>Invoice</code> Generated invoices <pre><code>booking/\n\u251c\u2500\u2500 domain/\n\u2502   \u251c\u2500\u2500 Booking.java\n\u2502   \u251c\u2500\u2500 BookingStatus.java\n\u2502   \u251c\u2500\u2500 Traveler.java\n\u2502   \u251c\u2500\u2500 BookingAddOn.java\n\u2502   \u2514\u2500\u2500 Invoice.java\n\u251c\u2500\u2500 repository/\n\u2502   \u2514\u2500\u2500 BookingRepository.java\n\u251c\u2500\u2500 service/\n\u2502   \u251c\u2500\u2500 BookingService.java\n\u2502   \u251c\u2500\u2500 InvoiceService.java\n\u2502   \u2514\u2500\u2500 CancellationService.java\n\u251c\u2500\u2500 dto/\n\u2502   \u251c\u2500\u2500 BookingDTO.java\n\u2502   \u251c\u2500\u2500 CreateBookingRequest.java\n\u2502   \u2514\u2500\u2500 BookingStatusDTO.java\n\u2514\u2500\u2500 controller/\n    \u251c\u2500\u2500 BookingController.java\n    \u2514\u2500\u2500 AdminBookingController.java\n</code></pre>"},{"location":"backend/modules/#payment-module-payment","title":"Payment Module (<code>/payment</code>)","text":"<p>Integrates with payment gateways.</p> Component Description <code>PaymentService</code> Payment orchestration <code>StripeProvider</code> Stripe integration <code>RefundService</code> Refund processing <pre><code>payment/\n\u251c\u2500\u2500 domain/\n\u2502   \u251c\u2500\u2500 Payment.java\n\u2502   \u251c\u2500\u2500 PaymentStatus.java\n\u2502   \u2514\u2500\u2500 Refund.java\n\u251c\u2500\u2500 provider/\n\u2502   \u251c\u2500\u2500 PaymentProvider.java      # Interface\n\u2502   \u2514\u2500\u2500 StripePaymentProvider.java\n\u251c\u2500\u2500 service/\n\u2502   \u251c\u2500\u2500 PaymentService.java\n\u2502   \u2514\u2500\u2500 RefundService.java\n\u2514\u2500\u2500 dto/\n    \u251c\u2500\u2500 PaymentRequest.java\n    \u2514\u2500\u2500 PaymentResponse.java\n</code></pre>"},{"location":"backend/modules/#destination-module-destination","title":"Destination Module (<code>/destination</code>)","text":"<p>Manages Egypt destinations.</p> Entity Description <code>Destination</code> Destination info <code>DestinationTranslation</code> i18n content"},{"location":"backend/modules/#content-module-content","title":"Content Module (<code>/content</code>)","text":"<p>Blog and vlog content management.</p> <pre><code>content/\n\u251c\u2500\u2500 blog/\n\u2502   \u251c\u2500\u2500 domain/BlogPost.java\n\u2502   \u251c\u2500\u2500 repository/\n\u2502   \u251c\u2500\u2500 service/\n\u2502   \u2514\u2500\u2500 controller/\n\u2514\u2500\u2500 vlog/\n    \u251c\u2500\u2500 domain/Vlog.java\n    \u251c\u2500\u2500 repository/\n    \u251c\u2500\u2500 service/\n    \u2514\u2500\u2500 controller/\n</code></pre>"},{"location":"backend/modules/#review-module-review","title":"Review Module (<code>/review</code>)","text":"<p>Customer reviews and ratings.</p> Entity Description <code>Review</code> Customer review <code>ReviewResponse</code> Admin responses"},{"location":"backend/modules/#support-module-support","title":"Support Module (<code>/support</code>)","text":"<p>Support ticket system.</p> Entity Description <code>Ticket</code> Support ticket <code>TicketMessage</code> Ticket replies <code>TicketStatus</code> Ticket states"},{"location":"backend/modules/#notification-module-notification","title":"Notification Module (<code>/notification</code>)","text":"<p>Email and notification handling.</p> Component Description <code>EmailService</code> Email sending <code>TemplateService</code> Email templates <code>NotificationService</code> In-app notifications"},{"location":"backend/modules/#module-dependencies","title":"Module Dependencies","text":"Module Depends On User Common Trip Common, Destination Booking User, Trip, Payment Payment Common Review User, Trip Support User Notification User, Common Content Common"},{"location":"backend/security/","title":"Security","text":""},{"location":"backend/security/#overview","title":"Overview","text":"<p>Security implementation following OWASP best practices.</p>"},{"location":"backend/security/#security-configuration","title":"Security Configuration","text":"<pre><code>@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity\npublic class SecurityConfig {\n\n    private final JwtAuthenticationFilter jwtAuthFilter;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        return http\n            .csrf(csrf -&gt; csrf.disable())\n            .cors(cors -&gt; cors.configurationSource(corsConfigurationSource()))\n            .sessionManagement(session -&gt; \n                session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n            .authorizeHttpRequests(auth -&gt; auth\n                // Public endpoints\n                .requestMatchers(\"/api/v1/auth/**\").permitAll()\n                .requestMatchers(\"/api/v1/trips/**\").permitAll()\n                .requestMatchers(\"/api/v1/destinations/**\").permitAll()\n                .requestMatchers(\"/api/v1/blog/**\").permitAll()\n                .requestMatchers(\"/api/v1/search/**\").permitAll()\n                .requestMatchers(\"/api/v1/chat/**\").permitAll()\n                // Authenticated endpoints\n                .requestMatchers(\"/api/v1/bookings/**\").authenticated()\n                .requestMatchers(\"/api/v1/account/**\").authenticated()\n                .requestMatchers(\"/api/v1/tickets/**\").authenticated()\n                // Admin endpoints\n                .requestMatchers(\"/api/v1/admin/**\").hasRole(\"ADMIN\")\n                .anyRequest().authenticated()\n            )\n            .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\n            .exceptionHandling(ex -&gt; ex\n                .authenticationEntryPoint(authEntryPoint())\n                .accessDeniedHandler(accessDeniedHandler())\n            )\n            .build();\n    }\n}\n</code></pre>"},{"location":"backend/security/#security-measures","title":"Security Measures","text":""},{"location":"backend/security/#password-security","title":"Password Security","text":"<pre><code>@Configuration\npublic class SecurityBeans {\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder(12); // Cost factor 12\n    }\n}\n</code></pre>"},{"location":"backend/security/#input-validation","title":"Input Validation","text":"<pre><code>@PostMapping\npublic ResponseEntity&lt;?&gt; createBooking(\n        @Valid @RequestBody CreateBookingRequest request) {\n    // @Valid triggers validation\n}\n\n// Request DTO with validation\npublic class CreateBookingRequest {\n    @NotNull\n    private Long tripId;\n\n    @NotNull\n    @Future\n    private LocalDate date;\n\n    @Min(1) @Max(20)\n    private int adults;\n\n    @Min(0) @Max(10)\n    private int children;\n\n    @Email\n    @NotBlank\n    private String email;\n\n    @Pattern(regexp = \"^\\\\+?[1-9]\\\\d{1,14}$\")\n    private String phone;\n}\n</code></pre>"},{"location":"backend/security/#sql-injection-prevention","title":"SQL Injection Prevention","text":"<pre><code>// Spring Data JPA uses parameterized queries by default\n@Query(\"SELECT t FROM Trip t WHERE t.destination.slug = :slug AND t.status = :status\")\nList&lt;Trip&gt; findByDestinationAndStatus(\n    @Param(\"slug\") String slug, \n    @Param(\"status\") TripStatus status);\n</code></pre>"},{"location":"backend/security/#xss-prevention","title":"XSS Prevention","text":"<pre><code>@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n\n    @Bean\n    public FilterRegistrationBean&lt;XssFilter&gt; xssFilter() {\n        FilterRegistrationBean&lt;XssFilter&gt; registration = new FilterRegistrationBean&lt;&gt;();\n        registration.setFilter(new XssFilter());\n        registration.addUrlPatterns(\"/api/*\");\n        return registration;\n    }\n}\n</code></pre>"},{"location":"backend/security/#cors-configuration","title":"CORS Configuration","text":"<pre><code>@Bean\nCorsConfigurationSource corsConfigurationSource() {\n    CorsConfiguration configuration = new CorsConfiguration();\n    configuration.setAllowedOrigins(List.of(\n        \"https://egypttours.com\",\n        \"https://admin.egypttours.com\"\n    ));\n    configuration.setAllowedMethods(List.of(\"GET\", \"POST\", \"PUT\", \"DELETE\", \"OPTIONS\"));\n    configuration.setAllowedHeaders(List.of(\"*\"));\n    configuration.setAllowCredentials(true);\n    configuration.setMaxAge(3600L);\n\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(\"/api/**\", configuration);\n    return source;\n}\n</code></pre>"},{"location":"backend/security/#rate-limiting","title":"Rate Limiting","text":"<pre><code>@Component\npublic class RateLimitingFilter extends OncePerRequestFilter {\n\n    private final RateLimiter rateLimiter;\n\n    @Override\n    protected void doFilterInternal(\n            HttpServletRequest request,\n            HttpServletResponse response,\n            FilterChain chain) throws ServletException, IOException {\n\n        String clientIp = getClientIp(request);\n\n        if (!rateLimiter.tryAcquire(clientIp)) {\n            response.setStatus(HttpStatus.TOO_MANY_REQUESTS.value());\n            response.getWriter().write(\"Rate limit exceeded\");\n            return;\n        }\n\n        chain.doFilter(request, response);\n    }\n}\n</code></pre>"},{"location":"backend/security/#rate-limits","title":"Rate Limits","text":"Endpoint Type Limit Public API 100 requests/minute Auth endpoints 10 requests/minute Booking creation 5 requests/minute Admin API 200 requests/minute"},{"location":"backend/security/#security-headers","title":"Security Headers","text":"<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    return http\n        .headers(headers -&gt; headers\n            .contentSecurityPolicy(csp -&gt; \n                csp.policyDirectives(\"default-src 'self'\"))\n            .frameOptions(frame -&gt; frame.deny())\n            .xssProtection(xss -&gt; xss.disable()) // CSP handles this\n            .contentTypeOptions(Customizer.withDefaults())\n            .httpStrictTransportSecurity(hsts -&gt; hsts\n                .maxAgeInSeconds(31536000)\n                .includeSubDomains(true))\n        )\n        // ... rest of config\n        .build();\n}\n</code></pre>"},{"location":"backend/security/#audit-logging","title":"Audit Logging","text":"<pre><code>@Aspect\n@Component\npublic class AuditAspect {\n\n    private final AuditLogService auditLogService;\n\n    @AfterReturning(\n        pointcut = \"@annotation(Audited)\",\n        returning = \"result\")\n    public void logAudit(JoinPoint joinPoint, Object result) {\n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n        String action = getActionName(joinPoint);\n\n        auditLogService.log(AuditLog.builder()\n            .userId(getCurrentUserId())\n            .action(action)\n            .entityType(getEntityType(joinPoint))\n            .entityId(getEntityId(result))\n            .timestamp(Instant.now())\n            .build());\n    }\n}\n\n// Usage\n@Audited\n@DeleteMapping(\"/{id}\")\npublic ResponseEntity&lt;Void&gt; deleteTrip(@PathVariable Long id) { ... }\n</code></pre>"},{"location":"backend/security/#data-protection","title":"Data Protection","text":""},{"location":"backend/security/#sensitive-data-handling","title":"Sensitive Data Handling","text":"<pre><code>// Never log sensitive data\n@Slf4j\npublic class AuthService {\n    public LoginResponse login(LoginRequest request) {\n        log.info(\"Login attempt for user: {}\", request.getEmail());\n        // Never log: password, tokens, credit card info\n    }\n}\n\n// Mask sensitive data in responses\n@JsonIgnore\nprivate String password;\n\n@JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\nprivate String creditCardNumber;\n</code></pre>"},{"location":"backend/security/#encryption-at-rest","title":"Encryption at Rest","text":"<pre><code># application.yml\nspring:\n  datasource:\n    # Use encrypted connection\n    url: jdbc:postgresql://db:5432/egypttours?ssl=true\n</code></pre>"},{"location":"devops/","title":"DevOps","text":"<p>This section covers deployment, CI/CD, and infrastructure.</p>"},{"location":"devops/#contents","title":"Contents","text":"Document Description Infrastructure Cloud infrastructure CI/CD Pipeline configuration Monitoring Observability setup Deployment Deployment procedures Environment Variables Configuration management"},{"location":"devops/#infrastructure-overview","title":"Infrastructure Overview","text":"<pre><code>graph TD\n    subgraph CDN\n        A[CloudFlare]\n    end\n\n    subgraph Frontend\n        B[Vercel]\n    end\n\n    subgraph Backend\n        C[AWS ECS / Railway]\n    end\n\n    subgraph Database\n        D[PostgreSQL RDS]\n        E[Redis Cache]\n    end\n\n    subgraph Storage\n        F[AWS S3 / Cloudinary]\n    end\n\n    subgraph Services\n        G[Stripe]\n        H[SendGrid]\n        I[OpenAI]\n    end\n\n    A --&gt; B\n    B --&gt; C\n    C --&gt; D\n    C --&gt; E\n    C --&gt; F\n    C --&gt; G\n    C --&gt; H\n    C --&gt; I</code></pre>"},{"location":"devops/ci-cd/","title":"CI/CD Pipeline","text":""},{"location":"devops/ci-cd/#pipeline-overview","title":"Pipeline Overview","text":"<pre><code>graph LR\n    A[Push] --&gt; B[Lint &amp; Test]\n    B --&gt; C{Branch?}\n    C --&gt;|main| D[Deploy Staging]\n    C --&gt;|release/*| E[Deploy Production]\n    D --&gt; F[E2E Tests]\n    F --&gt; G[Notify]</code></pre>"},{"location":"devops/ci-cd/#github-actions","title":"GitHub Actions","text":""},{"location":"devops/ci-cd/#frontend-pipeline","title":"Frontend Pipeline","text":"<pre><code># .github/workflows/frontend.yml\nname: Frontend CI/CD\n\non:\n  push:\n    branches: [main, release/*]\n    paths: ['frontend/**']\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/setup-node@v4\n        with: { node-version: 20 }\n      - run: npm ci\n      - run: npm run lint\n      - run: npm run test\n\n  deploy:\n    needs: test\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - uses: amondnet/vercel-action@v25\n        with:\n          vercel-token: ${{ secrets.VERCEL_TOKEN }}\n          vercel-org-id: ${{ secrets.VERCEL_ORG_ID }}\n          vercel-project-id: ${{ secrets.VERCEL_PROJECT_ID }}\n</code></pre>"},{"location":"devops/ci-cd/#backend-pipeline","title":"Backend Pipeline","text":"<pre><code># .github/workflows/backend.yml\nname: Backend CI/CD\n\non:\n  push:\n    branches: [main, release/*]\n    paths: ['backend/**']\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/setup-java@v4\n        with: { java-version: 21, distribution: temurin }\n      - run: ./gradlew test\n\n  build:\n    needs: test\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - run: ./gradlew bootJar\n      - uses: docker/build-push-action@v5\n        with:\n          push: true\n          tags: egypttours/api:${{ github.sha }}\n\n  deploy:\n    needs: build\n    runs-on: ubuntu-latest\n    steps:\n      - name: Deploy to ECS\n        run: aws ecs update-service --cluster prod --service api --force-new-deployment\n</code></pre>"},{"location":"devops/ci-cd/#branch-strategy","title":"Branch Strategy","text":"Branch Purpose Deploys To <code>main</code> Development Staging <code>release/*</code> Release candidates Production <code>feature/*</code> Feature work Preview"},{"location":"devops/deployment/","title":"Deployment","text":""},{"location":"devops/deployment/#deployment-checklist","title":"Deployment Checklist","text":"<ul> <li> All tests passing</li> <li> Database migrations reviewed</li> <li> Environment variables updated</li> <li> Feature flags configured</li> <li> Rollback plan ready</li> </ul>"},{"location":"devops/deployment/#rolling-deployment","title":"Rolling Deployment","text":"<ol> <li>Deploy new version to staging</li> <li>Run E2E tests</li> <li>Deploy to production (rolling)</li> <li>Monitor metrics</li> <li>Rollback if issues detected</li> </ol>"},{"location":"devops/deployment/#rollback-procedure","title":"Rollback Procedure","text":"<pre><code># Vercel (Frontend)\nvercel rollback\n\n# ECS (Backend)\naws ecs update-service --cluster prod --service api \\\n  --task-definition api:previous-version\n\n# Database\nflyway undo\n</code></pre>"},{"location":"devops/env-vars/","title":"Environment Variables","text":""},{"location":"devops/env-vars/#frontend","title":"Frontend","text":"Variable Description <code>NEXT_PUBLIC_API_URL</code> Backend API URL <code>NEXT_PUBLIC_STRIPE_KEY</code> Stripe publishable key <code>NEXT_PUBLIC_GA_ID</code> Google Analytics ID <code>NEXT_PUBLIC_SENTRY_DSN</code> Sentry DSN"},{"location":"devops/env-vars/#backend","title":"Backend","text":"Variable Description <code>DATABASE_URL</code> PostgreSQL connection <code>REDIS_URL</code> Redis connection <code>JWT_SECRET</code> JWT signing secret <code>STRIPE_SECRET_KEY</code> Stripe secret key <code>SENDGRID_API_KEY</code> Email API key <code>OPENAI_API_KEY</code> AI API key <code>S3_BUCKET</code> Storage bucket"},{"location":"devops/env-vars/#secrets-management","title":"Secrets Management","text":"<p>Secrets stored in:</p> <ul> <li>GitHub Secrets (CI/CD)</li> <li>AWS Secrets Manager (Production)</li> <li>Vercel Environment Variables (Frontend)</li> </ul>"},{"location":"devops/infrastructure/","title":"Infrastructure","text":""},{"location":"devops/infrastructure/#cloud-architecture","title":"Cloud Architecture","text":"Component Service Purpose Frontend Vercel Next.js hosting with edge CDN CloudFlare Caching, DDoS protection Backend AWS ECS / Railway Spring Boot containers Database PostgreSQL (RDS) Primary data store Cache Redis (ElastiCache) Session, caching Storage S3 / Cloudinary Images, files Email SendGrid Transactional emails Payments Stripe Payment processing AI OpenAI Chat assistant"},{"location":"devops/infrastructure/#environments","title":"Environments","text":"Environment Purpose URL Development Local development localhost Staging Pre-production testing staging.egypttours.com Production Live system egypttours.com"},{"location":"devops/infrastructure/#scaling-strategy","title":"Scaling Strategy","text":"Component Strategy Frontend Edge functions, global CDN Backend Horizontal scaling, auto-scaling groups Database Read replicas, connection pooling Cache Redis cluster"},{"location":"devops/monitoring/","title":"Monitoring","text":""},{"location":"devops/monitoring/#tools","title":"Tools","text":"Tool Purpose Datadog / Grafana Metrics, dashboards Sentry Error tracking AWS CloudWatch Logs, alarms Uptime Robot Uptime monitoring"},{"location":"devops/monitoring/#key-metrics","title":"Key Metrics","text":"Metric Target API Response Time (p95) &lt; 200ms Error Rate &lt; 0.1% Uptime 99.9% Apdex Score &gt; 0.95"},{"location":"devops/monitoring/#alerts","title":"Alerts","text":"Alert Condition Channel High Error Rate &gt; 1% for 5min Slack, PagerDuty High Latency p95 &gt; 500ms Slack Database Slow Queries &gt; 1s Slack Site Down No response PagerDuty"},{"location":"devops/monitoring/#logging","title":"Logging","text":"<pre><code># Structured logging format\n{\n  \"timestamp\": \"2026-02-02T22:00:00Z\",\n  \"level\": \"INFO\",\n  \"service\": \"api\",\n  \"traceId\": \"abc123\",\n  \"message\": \"Booking created\",\n  \"bookingId\": 501\n}\n</code></pre>"},{"location":"frontend/","title":"Frontend Documentation","text":"<p>This section covers the React frontend architecture, state management, and implementation details.</p>"},{"location":"frontend/#contents","title":"Contents","text":"Document Description Architecture Overall frontend structure React Structure Component organization Zustand Stores State management Routing Navigation and routes Internationalization Multi-language support SSR &amp; SEO Server rendering and optimization Components Component library"},{"location":"frontend/#tech-stack","title":"Tech Stack","text":"Technology Purpose React 18+ UI framework TypeScript Type safety Zustand State management React Router Routing Next.js / Vite Build &amp; SSR Axios HTTP client React Query Server state i18next Internationalization"},{"location":"frontend/#architecture-overview","title":"Architecture Overview","text":"<pre><code>graph TD\n    subgraph Frontend\n        A[Pages] --&gt; B[Components]\n        A --&gt; C[Hooks]\n        A --&gt; D[Stores]\n        C --&gt; E[API Client]\n        D --&gt; E\n        E --&gt; F[Backend API]\n    end</code></pre>"},{"location":"frontend/architecture/","title":"Frontend Architecture","text":""},{"location":"frontend/architecture/#overview","title":"Overview","text":"<p>The frontend follows a modular, feature-based architecture optimized for SSR/SSG and SEO performance.</p>"},{"location":"frontend/architecture/#architecture-diagram","title":"Architecture Diagram","text":"<pre><code>graph TB\n    subgraph Presentation Layer\n        A[Pages/Routes]\n        B[Layout Components]\n        C[UI Components]\n    end\n\n    subgraph Business Logic\n        D[Custom Hooks]\n        E[Zustand Stores]\n        F[Utilities]\n    end\n\n    subgraph Data Layer\n        G[API Client]\n        H[React Query]\n        I[Cache]\n    end\n\n    subgraph External\n        J[Backend API]\n        K[CDN/Assets]\n        L[Analytics]\n    end\n\n    A --&gt; B --&gt; C\n    A --&gt; D\n    D --&gt; E\n    D --&gt; G\n    G --&gt; H --&gt; I\n    H --&gt; J\n    C --&gt; K\n    A --&gt; L</code></pre>"},{"location":"frontend/architecture/#directory-structure","title":"Directory Structure","text":"<pre><code>src/\n\u251c\u2500\u2500 app/                    # Next.js App Router or pages\n\u2502   \u251c\u2500\u2500 [locale]/           # Localized routes\n\u2502   \u2502   \u251c\u2500\u2500 page.tsx        # Home\n\u2502   \u2502   \u251c\u2500\u2500 trips/          # Trip routes\n\u2502   \u2502   \u251c\u2500\u2500 destinations/   # Destination routes\n\u2502   \u2502   \u251c\u2500\u2500 booking/        # Booking flow\n\u2502   \u2502   \u251c\u2500\u2500 blog/           # Blog routes\n\u2502   \u2502   \u251c\u2500\u2500 account/        # Customer portal\n\u2502   \u2502   \u2514\u2500\u2500 admin/          # Admin routes\n\u2502   \u251c\u2500\u2500 api/                # API routes (if needed)\n\u2502   \u2514\u2500\u2500 layout.tsx          # Root layout\n\u2502\n\u251c\u2500\u2500 components/\n\u2502   \u251c\u2500\u2500 ui/                 # Base UI components\n\u2502   \u2502   \u251c\u2500\u2500 Button/\n\u2502   \u2502   \u251c\u2500\u2500 Card/\n\u2502   \u2502   \u251c\u2500\u2500 Modal/\n\u2502   \u2502   \u2514\u2500\u2500 ...\n\u2502   \u251c\u2500\u2500 common/             # Shared components\n\u2502   \u2502   \u251c\u2500\u2500 Header/\n\u2502   \u2502   \u251c\u2500\u2500 Footer/\n\u2502   \u2502   \u251c\u2500\u2500 Navbar/\n\u2502   \u2502   \u2514\u2500\u2500 ...\n\u2502   \u251c\u2500\u2500 trips/              # Trip-related components\n\u2502   \u251c\u2500\u2500 booking/            # Booking components\n\u2502   \u251c\u2500\u2500 auth/               # Auth components\n\u2502   \u2514\u2500\u2500 admin/              # Admin components\n\u2502\n\u251c\u2500\u2500 hooks/\n\u2502   \u251c\u2500\u2500 useAuth.ts\n\u2502   \u251c\u2500\u2500 useTrips.ts\n\u2502   \u251c\u2500\u2500 useBooking.ts\n\u2502   \u251c\u2500\u2500 useWishlist.ts\n\u2502   \u2514\u2500\u2500 ...\n\u2502\n\u251c\u2500\u2500 stores/\n\u2502   \u251c\u2500\u2500 authStore.ts\n\u2502   \u251c\u2500\u2500 bookingStore.ts\n\u2502   \u251c\u2500\u2500 cartStore.ts\n\u2502   \u251c\u2500\u2500 uiStore.ts\n\u2502   \u2514\u2500\u2500 index.ts\n\u2502\n\u251c\u2500\u2500 lib/\n\u2502   \u251c\u2500\u2500 api/\n\u2502   \u2502   \u251c\u2500\u2500 client.ts       # Axios instance\n\u2502   \u2502   \u251c\u2500\u2500 trips.ts        # Trip API\n\u2502   \u2502   \u251c\u2500\u2500 bookings.ts     # Booking API\n\u2502   \u2502   \u2514\u2500\u2500 ...\n\u2502   \u251c\u2500\u2500 utils/\n\u2502   \u2502   \u251c\u2500\u2500 formatting.ts\n\u2502   \u2502   \u251c\u2500\u2500 validation.ts\n\u2502   \u2502   \u2514\u2500\u2500 ...\n\u2502   \u2514\u2500\u2500 constants.ts\n\u2502\n\u251c\u2500\u2500 types/\n\u2502   \u251c\u2500\u2500 trip.ts\n\u2502   \u251c\u2500\u2500 booking.ts\n\u2502   \u251c\u2500\u2500 user.ts\n\u2502   \u2514\u2500\u2500 api.ts\n\u2502\n\u251c\u2500\u2500 locales/\n\u2502   \u251c\u2500\u2500 en/\n\u2502   \u251c\u2500\u2500 es/\n\u2502   \u2514\u2500\u2500 ar/\n\u2502\n\u251c\u2500\u2500 styles/\n\u2502   \u251c\u2500\u2500 globals.css\n\u2502   \u251c\u2500\u2500 variables.css\n\u2502   \u2514\u2500\u2500 components/\n\u2502\n\u2514\u2500\u2500 public/\n    \u251c\u2500\u2500 images/\n    \u251c\u2500\u2500 icons/\n    \u2514\u2500\u2500 fonts/\n</code></pre>"},{"location":"frontend/architecture/#key-patterns","title":"Key Patterns","text":""},{"location":"frontend/architecture/#component-pattern","title":"Component Pattern","text":"<pre><code>// components/trips/TripCard/TripCard.tsx\ninterface TripCardProps {\n  trip: Trip;\n  onWishlist?: (id: string) =&gt; void;\n}\n\nexport const TripCard: FC&lt;TripCardProps&gt; = ({ trip, onWishlist }) =&gt; {\n  const { t } = useTranslation();\n\n  return (\n    &lt;Card className={styles.tripCard}&gt;\n      &lt;Image src={trip.thumbnail} alt={trip.title} /&gt;\n      &lt;CardContent&gt;\n        &lt;h3&gt;{trip.title}&lt;/h3&gt;\n        &lt;Rating value={trip.rating} /&gt;\n        &lt;Price amount={trip.price} currency={trip.currency} /&gt;\n        &lt;Button onClick={() =&gt; onWishlist?.(trip.id)}&gt;\n          {t('addToWishlist')}\n        &lt;/Button&gt;\n      &lt;/CardContent&gt;\n    &lt;/Card&gt;\n  );\n};\n</code></pre>"},{"location":"frontend/architecture/#hook-pattern","title":"Hook Pattern","text":"<pre><code>// hooks/useTrips.ts\nexport const useTrips = (filters: TripFilters) =&gt; {\n  return useQuery({\n    queryKey: ['trips', filters],\n    queryFn: () =&gt; tripsApi.getTrips(filters),\n    staleTime: 5 * 60 * 1000, // 5 minutes\n  });\n};\n</code></pre>"},{"location":"frontend/architecture/#store-pattern","title":"Store Pattern","text":"<pre><code>// stores/bookingStore.ts\ninterface BookingState {\n  selectedTrip: Trip | null;\n  date: Date | null;\n  travelers: TravelerCount;\n  setTrip: (trip: Trip) =&gt; void;\n  setDate: (date: Date) =&gt; void;\n  reset: () =&gt; void;\n}\n\nexport const useBookingStore = create&lt;BookingState&gt;((set) =&gt; ({\n  selectedTrip: null,\n  date: null,\n  travelers: { adults: 1, children: 0, infants: 0 },\n  setTrip: (trip) =&gt; set({ selectedTrip: trip }),\n  setDate: (date) =&gt; set({ date }),\n  reset: () =&gt; set({ selectedTrip: null, date: null, travelers: { adults: 1, children: 0, infants: 0 } }),\n}));\n</code></pre>"},{"location":"frontend/architecture/#data-flow","title":"Data Flow","text":"<pre><code>sequenceDiagram\n    participant U as User\n    participant C as Component\n    participant H as Hook\n    participant S as Store\n    participant A as API\n    participant B as Backend\n\n    U-&gt;&gt;C: Interaction\n    C-&gt;&gt;H: Call hook\n    H-&gt;&gt;A: API request\n    A-&gt;&gt;B: HTTP request\n    B--&gt;&gt;A: Response\n    A--&gt;&gt;H: Data\n    H-&gt;&gt;S: Update state\n    S--&gt;&gt;C: Re-render\n    C--&gt;&gt;U: Updated UI</code></pre>"},{"location":"frontend/architecture/#environment-configuration","title":"Environment Configuration","text":"<pre><code># .env.local\nNEXT_PUBLIC_API_URL=https://api.egypttours.com\nNEXT_PUBLIC_GOOGLE_ANALYTICS=G-XXXXXXXXXX\nNEXT_PUBLIC_STRIPE_KEY=pk_live_xxxxx\nNEXT_PUBLIC_DEFAULT_LOCALE=en\n</code></pre>"},{"location":"frontend/architecture/#build-configuration","title":"Build Configuration","text":"<pre><code>// next.config.ts\nimport type { NextConfig } from 'next';\n\nconst config: NextConfig = {\n  i18n: {\n    locales: ['en', 'es', 'ar'],\n    defaultLocale: 'en',\n  },\n  images: {\n    domains: ['cdn.egypttours.com'],\n  },\n  experimental: {\n    optimizeCss: true,\n  },\n};\n\nexport default config;\n</code></pre>"},{"location":"frontend/components/","title":"Component Library","text":""},{"location":"frontend/components/#overview","title":"Overview","text":"<p>A comprehensive set of reusable UI components built with accessibility and i18n in mind.</p>"},{"location":"frontend/components/#design-tokens","title":"Design Tokens","text":"<pre><code>/* styles/variables.css */\n:root {\n  /* Colors */\n  --color-primary: #e65100;\n  --color-primary-light: #ff833a;\n  --color-primary-dark: #ac1900;\n  --color-secondary: #ffc107;\n  --color-success: #4caf50;\n  --color-error: #f44336;\n  --color-warning: #ff9800;\n\n  /* Neutral */\n  --color-gray-50: #fafafa;\n  --color-gray-100: #f5f5f5;\n  --color-gray-900: #212121;\n\n  /* Typography */\n  --font-sans: 'Inter', system-ui, sans-serif;\n  --font-arabic: 'Noto Sans Arabic', sans-serif;\n\n  /* Spacing */\n  --space-xs: 0.25rem;\n  --space-sm: 0.5rem;\n  --space-md: 1rem;\n  --space-lg: 1.5rem;\n  --space-xl: 2rem;\n\n  /* Radius */\n  --radius-sm: 0.25rem;\n  --radius-md: 0.5rem;\n  --radius-lg: 1rem;\n  --radius-full: 9999px;\n\n  /* Shadows */\n  --shadow-sm: 0 1px 2px rgba(0,0,0,0.05);\n  --shadow-md: 0 4px 6px rgba(0,0,0,0.1);\n  --shadow-lg: 0 10px 15px rgba(0,0,0,0.1);\n}\n</code></pre>"},{"location":"frontend/components/#component-catalog","title":"Component Catalog","text":""},{"location":"frontend/components/#button","title":"Button","text":"<pre><code>interface ButtonProps {\n  variant?: 'primary' | 'secondary' | 'outline' | 'ghost';\n  size?: 'sm' | 'md' | 'lg';\n  disabled?: boolean;\n  loading?: boolean;\n  fullWidth?: boolean;\n  as?: 'button' | 'link';\n  href?: string;\n  children: React.ReactNode;\n  onClick?: () =&gt; void;\n}\n\n// Usage\n&lt;Button variant=\"primary\" size=\"lg\"&gt;Book Now&lt;/Button&gt;\n&lt;Button variant=\"outline\" loading&gt;Processing...&lt;/Button&gt;\n&lt;Button as=\"link\" href=\"/trips\"&gt;View Tours&lt;/Button&gt;\n</code></pre>"},{"location":"frontend/components/#card","title":"Card","text":"<pre><code>interface CardProps {\n  children: React.ReactNode;\n  variant?: 'elevated' | 'outlined' | 'filled';\n  padding?: 'none' | 'sm' | 'md' | 'lg';\n  hoverable?: boolean;\n}\n\n// Usage\n&lt;Card hoverable&gt;\n  &lt;CardImage src=\"...\" /&gt;\n  &lt;CardContent&gt;...&lt;/CardContent&gt;\n  &lt;CardFooter&gt;...&lt;/CardFooter&gt;\n&lt;/Card&gt;\n</code></pre>"},{"location":"frontend/components/#input","title":"Input","text":"<pre><code>interface InputProps {\n  type?: 'text' | 'email' | 'password' | 'tel' | 'number';\n  label: string;\n  placeholder?: string;\n  error?: string;\n  helperText?: string;\n  required?: boolean;\n  disabled?: boolean;\n}\n\n// Usage\n&lt;Input\n  label=\"Email\"\n  type=\"email\"\n  error={errors.email}\n  required\n/&gt;\n</code></pre>"},{"location":"frontend/components/#modal","title":"Modal","text":"<pre><code>interface ModalProps {\n  open: boolean;\n  onClose: () =&gt; void;\n  title?: string;\n  size?: 'sm' | 'md' | 'lg' | 'full';\n  children: React.ReactNode;\n}\n\n// Usage\n&lt;Modal open={isOpen} onClose={handleClose} title=\"Login\"&gt;\n  &lt;LoginForm /&gt;\n&lt;/Modal&gt;\n</code></pre>"},{"location":"frontend/components/#rating","title":"Rating","text":"<pre><code>interface RatingProps {\n  value: number;\n  max?: number;\n  count?: number;\n  readonly?: boolean;\n  onChange?: (value: number) =&gt; void;\n}\n\n// Usage\n&lt;Rating value={4.5} count={128} readonly /&gt;\n&lt;Rating value={rating} onChange={setRating} /&gt;\n</code></pre>"},{"location":"frontend/components/#price","title":"Price","text":"<pre><code>interface PriceProps {\n  amount: number;\n  currency?: string;\n  locale?: string;\n  originalAmount?: number; // For discounts\n  size?: 'sm' | 'md' | 'lg';\n}\n\n// Usage\n&lt;Price amount={599} currency=\"USD\" /&gt;\n&lt;Price amount={499} originalAmount={599} /&gt;\n</code></pre>"},{"location":"frontend/components/#complex-components","title":"Complex Components","text":""},{"location":"frontend/components/#tripcard","title":"TripCard","text":"<pre><code>&lt;TripCard\n  trip={trip}\n  variant=\"default\"\n  showWishlist\n  onWishlistClick={handleWishlist}\n/&gt;\n</code></pre>"},{"location":"frontend/components/#datepicker","title":"DatePicker","text":"<pre><code>&lt;DatePicker\n  value={date}\n  onChange={setDate}\n  minDate={new Date()}\n  availableDates={availableDates}\n  locale={locale}\n/&gt;\n</code></pre>"},{"location":"frontend/components/#searchbar","title":"SearchBar","text":"<pre><code>&lt;SearchBar\n  placeholder={t('search.placeholder')}\n  onSearch={handleSearch}\n  suggestions={suggestions}\n  loading={isLoading}\n/&gt;\n</code></pre>"},{"location":"frontend/components/#pagination","title":"Pagination","text":"<pre><code>&lt;Pagination\n  currentPage={page}\n  totalPages={totalPages}\n  onPageChange={setPage}\n  showFirstLast\n/&gt;\n</code></pre>"},{"location":"frontend/components/#layout-components","title":"Layout Components","text":""},{"location":"frontend/components/#container","title":"Container","text":"<pre><code>&lt;Container size=\"lg\" padding&gt;\n  {/* Max-width: 1200px, centered */}\n&lt;/Container&gt;\n</code></pre>"},{"location":"frontend/components/#grid","title":"Grid","text":"<pre><code>&lt;Grid cols={{ sm: 1, md: 2, lg: 3 }} gap=\"lg\"&gt;\n  {trips.map(trip =&gt; &lt;TripCard key={trip.id} trip={trip} /&gt;)}\n&lt;/Grid&gt;\n</code></pre>"},{"location":"frontend/components/#stack","title":"Stack","text":"<pre><code>&lt;Stack direction=\"vertical\" spacing=\"md\" align=\"center\"&gt;\n  {/* Vertical stack with gap */}\n&lt;/Stack&gt;\n</code></pre>"},{"location":"frontend/components/#accessibility","title":"Accessibility","text":"<p>All components follow WCAG 2.1 AA guidelines:</p> Feature Implementation Keyboard nav Tab, Enter, Escape, Arrow keys ARIA labels All interactive elements Focus states Visible focus rings Color contrast 4.5:1 minimum Screen reader Proper announcements <pre><code>// Example: Accessible button\n&lt;button\n  type=\"button\"\n  aria-label={loading ? 'Loading...' : 'Submit form'}\n  aria-disabled={disabled}\n  aria-busy={loading}\n  disabled={disabled || loading}\n&gt;\n  {loading ? &lt;Spinner aria-hidden /&gt; : null}\n  {children}\n&lt;/button&gt;\n</code></pre>"},{"location":"frontend/i18n/","title":"Internationalization (i18n)","text":""},{"location":"frontend/i18n/#overview","title":"Overview","text":"<p>The platform supports three languages with full RTL support for Arabic:</p> <ul> <li>\ud83c\uddec\ud83c\udde7 English (en) \u2014 Default</li> <li>\ud83c\uddea\ud83c\uddf8 Spanish (es)</li> <li>\ud83c\uddea\ud83c\uddec Arabic (ar) \u2014 RTL</li> </ul>"},{"location":"frontend/i18n/#implementation-stack","title":"Implementation Stack","text":"Component Solution Routing Next.js App Router with <code>[locale]</code> Translations <code>next-intl</code> / <code>i18next</code> Date/Time <code>Intl.DateTimeFormat</code> Numbers <code>Intl.NumberFormat</code> RTL CSS logical properties + <code>dir=\"rtl\"</code>"},{"location":"frontend/i18n/#file-structure","title":"File Structure","text":"<pre><code>locales/\n\u251c\u2500\u2500 en/\n\u2502   \u251c\u2500\u2500 common.json        # Shared translations\n\u2502   \u251c\u2500\u2500 home.json          # Home page\n\u2502   \u251c\u2500\u2500 trips.json         # Trip-related\n\u2502   \u251c\u2500\u2500 booking.json       # Booking flow\n\u2502   \u251c\u2500\u2500 auth.json          # Authentication\n\u2502   \u251c\u2500\u2500 account.json       # Customer portal\n\u2502   \u2514\u2500\u2500 errors.json        # Error messages\n\u251c\u2500\u2500 es/\n\u2502   \u2514\u2500\u2500 ... (same structure)\n\u2514\u2500\u2500 ar/\n    \u2514\u2500\u2500 ... (same structure)\n</code></pre>"},{"location":"frontend/i18n/#translation-files","title":"Translation Files","text":""},{"location":"frontend/i18n/#english-example","title":"English Example","text":"<pre><code>// locales/en/common.json\n{\n  \"nav\": {\n    \"home\": \"Home\",\n    \"trips\": \"Tours\",\n    \"destinations\": \"Destinations\",\n    \"blog\": \"Blog\",\n    \"contact\": \"Contact\"\n  },\n  \"actions\": {\n    \"search\": \"Search\",\n    \"book\": \"Book Now\",\n    \"viewDetails\": \"View Details\",\n    \"addToWishlist\": \"Add to Wishlist\",\n    \"login\": \"Login\",\n    \"register\": \"Sign Up\"\n  },\n  \"footer\": {\n    \"copyright\": \"\u00a9 {{year}} Egypt Tours. All rights reserved.\"\n  }\n}\n\n// locales/en/trips.json\n{\n  \"title\": \"Egypt Tours\",\n  \"filters\": {\n    \"destination\": \"Destination\",\n    \"duration\": \"Duration\",\n    \"priceRange\": \"Price Range\",\n    \"rating\": \"Rating\"\n  },\n  \"card\": {\n    \"from\": \"From\",\n    \"perPerson\": \"per person\",\n    \"days\": \"{{count}} day\",\n    \"days_plural\": \"{{count}} days\",\n    \"reviews\": \"{{count}} review\",\n    \"reviews_plural\": \"{{count}} reviews\"\n  },\n  \"details\": {\n    \"itinerary\": \"Itinerary\",\n    \"included\": \"What's Included\",\n    \"excluded\": \"What's Excluded\",\n    \"gallery\": \"Gallery\",\n    \"reviews\": \"Reviews\"\n  }\n}\n</code></pre>"},{"location":"frontend/i18n/#arabic-example","title":"Arabic Example","text":"<pre><code>// locales/ar/common.json\n{\n  \"nav\": {\n    \"home\": \"\u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629\",\n    \"trips\": \"\u0627\u0644\u0631\u062d\u0644\u0627\u062a\",\n    \"destinations\": \"\u0627\u0644\u0648\u062c\u0647\u0627\u062a\",\n    \"blog\": \"\u0627\u0644\u0645\u062f\u0648\u0646\u0629\",\n    \"contact\": \"\u0627\u062a\u0635\u0644 \u0628\u0646\u0627\"\n  },\n  \"actions\": {\n    \"search\": \"\u0628\u062d\u062b\",\n    \"book\": \"\u0627\u062d\u062c\u0632 \u0627\u0644\u0622\u0646\",\n    \"viewDetails\": \"\u0639\u0631\u0636 \u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644\",\n    \"addToWishlist\": \"\u0623\u0636\u0641 \u0644\u0644\u0645\u0641\u0636\u0644\u0629\",\n    \"login\": \"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644\",\n    \"register\": \"\u0625\u0646\u0634\u0627\u0621 \u062d\u0633\u0627\u0628\"\n  }\n}\n</code></pre>"},{"location":"frontend/i18n/#configuration","title":"Configuration","text":"<pre><code>// lib/i18n.ts\nimport { getRequestConfig } from 'next-intl/server';\n\nexport const locales = ['en', 'es', 'ar'] as const;\nexport type Locale = (typeof locales)[number];\n\nexport const rtlLocales: Locale[] = ['ar'];\n\nexport default getRequestConfig(async ({ locale }) =&gt; ({\n  messages: (await import(`../locales/${locale}/common.json`)).default,\n}));\n</code></pre>"},{"location":"frontend/i18n/#usage-in-components","title":"Usage in Components","text":"<pre><code>// Using translations\nimport { useTranslations } from 'next-intl';\n\nexport function TripCard({ trip }) {\n  const t = useTranslations('trips.card');\n\n  return (\n    &lt;Card&gt;\n      &lt;h3&gt;{trip.title}&lt;/h3&gt;\n      &lt;p&gt;{t('days', { count: trip.duration })}&lt;/p&gt;\n      &lt;p&gt;{t('from')} ${trip.price} {t('perPerson')}&lt;/p&gt;\n    &lt;/Card&gt;\n  );\n}\n</code></pre>"},{"location":"frontend/i18n/#rtl-support","title":"RTL Support","text":""},{"location":"frontend/i18n/#css-approach","title":"CSS Approach","text":"<pre><code>/* Use logical properties for RTL compatibility */\n.card {\n  margin-inline-start: 1rem;  /* margin-left in LTR, margin-right in RTL */\n  padding-inline-end: 2rem;   /* padding-right in LTR, padding-left in RTL */\n  text-align: start;          /* left in LTR, right in RTL */\n}\n\n/* Direction-aware flexbox */\n.nav {\n  display: flex;\n  flex-direction: row;        /* Automatically reverses in RTL */\n}\n\n/* Specific RTL overrides */\n[dir=\"rtl\"] .icon-arrow {\n  transform: scaleX(-1);      /* Flip arrows */\n}\n</code></pre>"},{"location":"frontend/i18n/#layout-component","title":"Layout Component","text":"<pre><code>// app/[locale]/layout.tsx\nimport { rtlLocales } from '@/lib/i18n';\n\nexport default function LocaleLayout({\n  children,\n  params: { locale },\n}: {\n  children: React.ReactNode;\n  params: { locale: string };\n}) {\n  const dir = rtlLocales.includes(locale) ? 'rtl' : 'ltr';\n\n  return (\n    &lt;html lang={locale} dir={dir}&gt;\n      &lt;body className={dir === 'rtl' ? 'font-arabic' : 'font-default'}&gt;\n        {children}\n      &lt;/body&gt;\n    &lt;/html&gt;\n  );\n}\n</code></pre>"},{"location":"frontend/i18n/#date-number-formatting","title":"Date &amp; Number Formatting","text":"<pre><code>// lib/formatters.ts\nexport function formatDate(date: Date, locale: string): string {\n  return new Intl.DateTimeFormat(locale, {\n    dateStyle: 'long',\n  }).format(date);\n}\n\nexport function formatPrice(amount: number, locale: string, currency = 'USD'): string {\n  return new Intl.NumberFormat(locale, {\n    style: 'currency',\n    currency,\n  }).format(amount);\n}\n\n// Usage\nformatDate(new Date(), 'ar');  // \"\u0662 \u0641\u0628\u0631\u0627\u064a\u0631 \u0662\u0660\u0662\u0666\"\nformatPrice(599, 'ar', 'USD'); // \"\u0665\u0669\u0669\u066b\u0660\u0660 US$\"\n</code></pre>"},{"location":"frontend/i18n/#language-switcher","title":"Language Switcher","text":"<pre><code>'use client';\n\nimport { usePathname, useRouter } from 'next/navigation';\nimport { locales } from '@/lib/i18n';\n\nconst localeNames = {\n  en: 'English',\n  es: 'Espa\u00f1ol',\n  ar: '\u0627\u0644\u0639\u0631\u0628\u064a\u0629',\n};\n\nexport function LanguageSwitcher() {\n  const router = useRouter();\n  const pathname = usePathname();\n  const currentLocale = pathname.split('/')[1];\n\n  const switchLocale = (newLocale: string) =&gt; {\n    const newPath = pathname.replace(`/${currentLocale}`, `/${newLocale}`);\n    router.push(newPath);\n  };\n\n  return (\n    &lt;select\n      value={currentLocale}\n      onChange={(e) =&gt; switchLocale(e.target.value)}\n    &gt;\n      {locales.map((locale) =&gt; (\n        &lt;option key={locale} value={locale}&gt;\n          {localeNames[locale]}\n        &lt;/option&gt;\n      ))}\n    &lt;/select&gt;\n  );\n}\n</code></pre>"},{"location":"frontend/i18n/#seo-for-localized-content","title":"SEO for Localized Content","text":"<pre><code>// app/[locale]/trips/[slug]/page.tsx\nexport async function generateMetadata({ params }) {\n  const { locale, slug } = params;\n  const trip = await getTrip(slug, locale);\n\n  return {\n    title: trip.title,\n    description: trip.description,\n    alternates: {\n      canonical: `/${locale}/trips/${slug}`,\n      languages: {\n        en: `/en/trips/${slug}`,\n        es: `/es/trips/${slug}`,\n        ar: `/ar/trips/${slug}`,\n      },\n    },\n  };\n}\n</code></pre>"},{"location":"frontend/react-structure/","title":"React Structure","text":""},{"location":"frontend/react-structure/#component-organization","title":"Component Organization","text":"<p>Components are organized by type and feature for maximum reusability and maintainability.</p>"},{"location":"frontend/react-structure/#component-hierarchy","title":"Component Hierarchy","text":"<pre><code>graph TD\n    A[App] --&gt; B[Layout]\n    B --&gt; C[Header]\n    B --&gt; D[Main Content]\n    B --&gt; E[Footer]\n\n    D --&gt; F[Page Components]\n    F --&gt; G[Feature Components]\n    G --&gt; H[UI Components]</code></pre>"},{"location":"frontend/react-structure/#component-categories","title":"Component Categories","text":""},{"location":"frontend/react-structure/#ui-components-componentsui","title":"UI Components (<code>/components/ui/</code>)","text":"<p>Atomic, reusable building blocks with no business logic.</p> Component Description <code>Button</code> Primary, secondary, outline variants <code>Card</code> Container with shadow and padding <code>Input</code> Text input with validation <code>Modal</code> Dialog overlay <code>Dropdown</code> Select/menu <code>Tabs</code> Tab navigation <code>Badge</code> Status indicators <code>Avatar</code> User images <code>Rating</code> Star rating display <code>Price</code> Formatted currency <code>Skeleton</code> Loading placeholders <code>Toast</code> Notifications"},{"location":"frontend/react-structure/#common-components-componentscommon","title":"Common Components (<code>/components/common/</code>)","text":"<p>Shared layout and navigation components.</p> Component Description <code>Header</code> Top navigation bar <code>Footer</code> Site footer <code>Navbar</code> Main navigation <code>Sidebar</code> Admin sidebar <code>Breadcrumb</code> Navigation breadcrumbs <code>Pagination</code> Page controls <code>SearchBar</code> Global search <code>LanguageSwitcher</code> Locale selector <code>ChatWidget</code> AI assistant"},{"location":"frontend/react-structure/#feature-components","title":"Feature Components","text":""},{"location":"frontend/react-structure/#trips-componentstrips","title":"Trips (<code>/components/trips/</code>)","text":"Component Description <code>TripCard</code> Trip preview card <code>TripGrid</code> Grid layout <code>TripFilters</code> Filter panel <code>TripDetails</code> Full trip view <code>Itinerary</code> Day-by-day timeline <code>Gallery</code> Image carousel <code>ReviewList</code> Customer reviews <code>RelatedTrips</code> Recommendations"},{"location":"frontend/react-structure/#booking-componentsbooking","title":"Booking (<code>/components/booking/</code>)","text":"Component Description <code>DatePicker</code> Availability calendar <code>TravelerSelector</code> Adults/children counter <code>OptionsSelector</code> Add-ons selection <code>BookingSummary</code> Order summary <code>TravelerForm</code> Traveler details form <code>PaymentForm</code> Payment input"},{"location":"frontend/react-structure/#auth-componentsauth","title":"Auth (<code>/components/auth/</code>)","text":"Component Description <code>LoginForm</code> Email/password login <code>RegisterForm</code> Registration form <code>SocialLogin</code> OAuth buttons <code>ForgotPassword</code> Password reset <code>ProtectedRoute</code> Auth guard"},{"location":"frontend/react-structure/#component-template","title":"Component Template","text":"<pre><code>// components/trips/TripCard/index.ts\nexport { TripCard } from './TripCard';\nexport type { TripCardProps } from './TripCard.types';\n\n// components/trips/TripCard/TripCard.tsx\nimport { FC } from 'react';\nimport { useTranslation } from 'next-i18next';\nimport { Card, Button, Rating, Price, Image } from '@/components/ui';\nimport { useWishlist } from '@/hooks/useWishlist';\nimport type { TripCardProps } from './TripCard.types';\nimport styles from './TripCard.module.css';\n\nexport const TripCard: FC&lt;TripCardProps&gt; = ({ \n  trip, \n  variant = 'default',\n  showWishlist = true,\n}) =&gt; {\n  const { t } = useTranslation('trips');\n  const { isInWishlist, toggleWishlist } = useWishlist();\n\n  return (\n    &lt;Card className={styles.card} data-variant={variant}&gt;\n      &lt;div className={styles.imageWrapper}&gt;\n        &lt;Image\n          src={trip.thumbnail}\n          alt={trip.title}\n          fill\n          sizes=\"(max-width: 768px) 100vw, 33vw\"\n        /&gt;\n        {showWishlist &amp;&amp; (\n          &lt;Button\n            variant=\"icon\"\n            className={styles.wishlistBtn}\n            onClick={() =&gt; toggleWishlist(trip.id)}\n            aria-label={isInWishlist(trip.id) ? t('removeFromWishlist') : t('addToWishlist')}\n          &gt;\n            &lt;HeartIcon filled={isInWishlist(trip.id)} /&gt;\n          &lt;/Button&gt;\n        )}\n      &lt;/div&gt;\n\n      &lt;div className={styles.content}&gt;\n        &lt;span className={styles.destination}&gt;{trip.destination}&lt;/span&gt;\n        &lt;h3 className={styles.title}&gt;{trip.title}&lt;/h3&gt;\n\n        &lt;div className={styles.meta}&gt;\n          &lt;Rating value={trip.rating} count={trip.reviewCount} /&gt;\n          &lt;span className={styles.duration}&gt;\n            {t('days', { count: trip.duration })}\n          &lt;/span&gt;\n        &lt;/div&gt;\n\n        &lt;div className={styles.footer}&gt;\n          &lt;Price amount={trip.price} currency=\"USD\" /&gt;\n          &lt;Button as=\"link\" href={`/trips/${trip.slug}`}&gt;\n            {t('viewDetails')}\n          &lt;/Button&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/Card&gt;\n  );\n};\n\n// components/trips/TripCard/TripCard.types.ts\nimport type { Trip } from '@/types';\n\nexport interface TripCardProps {\n  trip: Trip;\n  variant?: 'default' | 'compact' | 'featured';\n  showWishlist?: boolean;\n}\n\n// components/trips/TripCard/TripCard.module.css\n.card {\n  display: flex;\n  flex-direction: column;\n  border-radius: var(--radius-lg);\n  overflow: hidden;\n  transition: transform 0.2s, box-shadow 0.2s;\n}\n\n.card:hover {\n  transform: translateY(-4px);\n  box-shadow: var(--shadow-lg);\n}\n\n/* ... more styles */\n</code></pre>"},{"location":"frontend/react-structure/#page-components","title":"Page Components","text":"Page Path Components Used Home <code>/</code> Hero, FeaturedTrips, DestinationGrid Trips List <code>/trips</code> TripGrid, TripFilters, Pagination Trip Details <code>/trips/[slug]</code> TripDetails, Gallery, Itinerary, Reviews Booking <code>/booking</code> BookingWizard, PaymentForm Dashboard <code>/account</code> BookingsList, ProfileCard Admin <code>/admin/*</code> Sidebar, DataTable, Forms"},{"location":"frontend/routing/","title":"Routing","text":""},{"location":"frontend/routing/#overview","title":"Overview","text":"<p>Routing is built on Next.js App Router with locale-based path prefixes for i18n support.</p>"},{"location":"frontend/routing/#route-structure","title":"Route Structure","text":"<pre><code>/[locale]/                          # Home\n/[locale]/trips                     # Trip listings\n/[locale]/trips/[slug]              # Trip details\n/[locale]/destinations              # Destinations\n/[locale]/destinations/[slug]       # Destination details\n/[locale]/booking                   # Booking flow\n/[locale]/blog                      # Blog listing\n/[locale]/blog/[slug]               # Blog article\n/[locale]/vlogs                     # Video gallery\n/[locale]/contact                   # Contact page\n/[locale]/about                     # About us\n/[locale]/faq                       # FAQ\n/[locale]/policies/[type]           # Legal pages\n\n# Authenticated routes\n/[locale]/account                   # Dashboard\n/[locale]/account/bookings          # Booking history\n/[locale]/account/bookings/[id]     # Booking details\n/[locale]/account/profile           # Profile settings\n/[locale]/account/wishlist          # Saved trips\n/[locale]/account/tickets           # Support tickets\n\n# Admin routes\n/[locale]/admin                     # Admin dashboard\n/[locale]/admin/trips               # Trip management\n/[locale]/admin/bookings            # Booking operations\n/[locale]/admin/customers           # Customer management\n/[locale]/admin/content             # Content management\n/[locale]/admin/support             # Support queue\n/[locale]/admin/settings            # System settings\n</code></pre>"},{"location":"frontend/routing/#route-matrix","title":"Route Matrix","text":"Route Auth Roles SSR Layout <code>/</code> No All SSG Public <code>/trips</code> No All SSG Public <code>/trips/[slug]</code> No All SSG Public <code>/booking</code> Yes Customer+ SSR Minimal <code>/account/*</code> Yes Customer+ SSR Dashboard <code>/admin/*</code> Yes Admin+ SSR Admin"},{"location":"frontend/routing/#file-structure","title":"File Structure","text":"<pre><code>app/\n\u251c\u2500\u2500 [locale]/\n\u2502   \u251c\u2500\u2500 layout.tsx              # Root layout with providers\n\u2502   \u251c\u2500\u2500 page.tsx                # Home page\n\u2502   \u251c\u2500\u2500 loading.tsx             # Loading UI\n\u2502   \u251c\u2500\u2500 error.tsx               # Error boundary\n\u2502   \u251c\u2500\u2500 not-found.tsx           # 404 page\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 trips/\n\u2502   \u2502   \u251c\u2500\u2500 page.tsx            # Listings\n\u2502   \u2502   \u2514\u2500\u2500 [slug]/\n\u2502   \u2502       \u2514\u2500\u2500 page.tsx        # Details\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 booking/\n\u2502   \u2502   \u251c\u2500\u2500 layout.tsx          # Booking layout\n\u2502   \u2502   \u2514\u2500\u2500 page.tsx            # Booking wizard\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 account/\n\u2502   \u2502   \u251c\u2500\u2500 layout.tsx          # Dashboard layout\n\u2502   \u2502   \u251c\u2500\u2500 page.tsx            # Dashboard home\n\u2502   \u2502   \u251c\u2500\u2500 bookings/\n\u2502   \u2502   \u2514\u2500\u2500 profile/\n\u2502   \u2502\n\u2502   \u2514\u2500\u2500 admin/\n\u2502       \u251c\u2500\u2500 layout.tsx          # Admin layout\n\u2502       \u251c\u2500\u2500 page.tsx            # Dashboard\n\u2502       \u2514\u2500\u2500 ...\n\u2502\n\u251c\u2500\u2500 middleware.ts               # Auth &amp; locale middleware\n\u2514\u2500\u2500 sitemap.ts                  # Dynamic sitemap\n</code></pre>"},{"location":"frontend/routing/#middleware","title":"Middleware","text":"<pre><code>// middleware.ts\nimport { NextResponse } from 'next/server';\nimport type { NextRequest } from 'next/server';\nimport { match } from '@formatjs/intl-localematcher';\nimport Negotiator from 'negotiator';\n\nconst locales = ['en', 'es', 'ar'];\nconst defaultLocale = 'en';\n\nfunction getLocale(request: NextRequest): string {\n  const negotiator = new Negotiator({\n    headers: { 'accept-language': request.headers.get('accept-language') || '' },\n  });\n  return match(negotiator.languages(), locales, defaultLocale);\n}\n\nexport function middleware(request: NextRequest) {\n  const { pathname } = request.nextUrl;\n\n  // Check if path has locale\n  const hasLocale = locales.some(\n    (locale) =&gt; pathname.startsWith(`/${locale}/`) || pathname === `/${locale}`\n  );\n\n  if (!hasLocale) {\n    const locale = getLocale(request);\n    return NextResponse.redirect(\n      new URL(`/${locale}${pathname}`, request.url)\n    );\n  }\n\n  // Auth check for protected routes\n  const protectedPaths = ['/account', '/admin', '/booking'];\n  const isProtected = protectedPaths.some((path) =&gt;\n    pathname.includes(path)\n  );\n\n  if (isProtected) {\n    const token = request.cookies.get('token');\n    if (!token) {\n      const locale = pathname.split('/')[1];\n      return NextResponse.redirect(\n        new URL(`/${locale}/login?redirect=${pathname}`, request.url)\n      );\n    }\n  }\n\n  return NextResponse.next();\n}\n\nexport const config = {\n  matcher: ['/((?!api|_next/static|_next/image|favicon.ico).*)'],\n};\n</code></pre>"},{"location":"frontend/routing/#route-guards","title":"Route Guards","text":"<pre><code>// components/auth/ProtectedRoute.tsx\n'use client';\n\nimport { useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAuthStore } from '@/stores/authStore';\n\ninterface ProtectedRouteProps {\n  children: React.ReactNode;\n  roles?: string[];\n}\n\nexport function ProtectedRoute({ children, roles }: ProtectedRouteProps) {\n  const router = useRouter();\n  const { user, isAuthenticated, isLoading } = useAuthStore();\n\n  useEffect(() =&gt; {\n    if (!isLoading &amp;&amp; !isAuthenticated) {\n      router.push('/login');\n    }\n\n    if (roles &amp;&amp; user &amp;&amp; !roles.includes(user.role)) {\n      router.push('/unauthorized');\n    }\n  }, [isAuthenticated, isLoading, user, roles, router]);\n\n  if (isLoading) {\n    return &lt;LoadingSpinner /&gt;;\n  }\n\n  if (!isAuthenticated) {\n    return null;\n  }\n\n  if (roles &amp;&amp; user &amp;&amp; !roles.includes(user.role)) {\n    return null;\n  }\n\n  return &lt;&gt;{children}&lt;/&gt;;\n}\n</code></pre>"},{"location":"frontend/routing/#navigation-helpers","title":"Navigation Helpers","text":"<pre><code>// lib/navigation.ts\nimport { useRouter, usePathname } from 'next/navigation';\n\nexport function useLocaleRouter() {\n  const router = useRouter();\n  const pathname = usePathname();\n  const currentLocale = pathname.split('/')[1];\n\n  const push = (path: string) =&gt; {\n    router.push(`/${currentLocale}${path}`);\n  };\n\n  const switchLocale = (newLocale: string) =&gt; {\n    const pathWithoutLocale = pathname.replace(`/${currentLocale}`, '');\n    router.push(`/${newLocale}${pathWithoutLocale}`);\n  };\n\n  return { push, switchLocale, currentLocale };\n}\n</code></pre>"},{"location":"frontend/ssr-seo/","title":"SSR &amp; SEO","text":""},{"location":"frontend/ssr-seo/#overview","title":"Overview","text":"<p>The platform uses Server-Side Rendering (SSR) and Static Site Generation (SSG) for optimal SEO performance.</p>"},{"location":"frontend/ssr-seo/#rendering-strategy","title":"Rendering Strategy","text":"Page Type Strategy Reason Home SSG + ISR High traffic, semi-dynamic Trip Listings SSG + ISR SEO critical, periodic updates Trip Details SSG + ISR Individual SEO, content changes Blog SSG Static content Booking SSR Dynamic, auth required Account SSR Personalized, auth required Admin SSR Dynamic, secured"},{"location":"frontend/ssr-seo/#implementation","title":"Implementation","text":""},{"location":"frontend/ssr-seo/#static-generation-ssg","title":"Static Generation (SSG)","text":"<pre><code>// app/[locale]/trips/page.tsx\nexport async function generateStaticParams() {\n  const locales = ['en', 'es', 'ar'];\n  return locales.map((locale) =&gt; ({ locale }));\n}\n\nexport const revalidate = 3600; // ISR: regenerate every hour\n\nexport default async function TripsPage({ params }) {\n  const trips = await getTrips(params.locale);\n  return &lt;TripsList trips={trips} /&gt;;\n}\n</code></pre>"},{"location":"frontend/ssr-seo/#server-side-rendering-ssr","title":"Server-Side Rendering (SSR)","text":"<pre><code>// app/[locale]/booking/page.tsx\nimport { cookies } from 'next/headers';\nimport { redirect } from 'next/navigation';\n\nexport const dynamic = 'force-dynamic';\n\nexport default async function BookingPage({ params }) {\n  const token = cookies().get('token');\n  if (!token) {\n    redirect(`/${params.locale}/login?redirect=/booking`);\n  }\n\n  const bookingData = await getBookingSession(token.value);\n  return &lt;BookingWizard data={bookingData} /&gt;;\n}\n</code></pre>"},{"location":"frontend/ssr-seo/#seo-implementation","title":"SEO Implementation","text":""},{"location":"frontend/ssr-seo/#meta-tags","title":"Meta Tags","text":"<pre><code>// app/[locale]/trips/[slug]/page.tsx\nimport type { Metadata } from 'next';\n\nexport async function generateMetadata({ params }): Promise&lt;Metadata&gt; {\n  const trip = await getTrip(params.slug, params.locale);\n\n  return {\n    title: `${trip.title} | Egypt Tours`,\n    description: trip.shortDescription,\n    keywords: [trip.destination, 'Egypt tour', trip.type],\n    openGraph: {\n      title: trip.title,\n      description: trip.shortDescription,\n      images: [trip.thumbnail],\n      type: 'website',\n      locale: params.locale,\n    },\n    twitter: {\n      card: 'summary_large_image',\n      title: trip.title,\n      description: trip.shortDescription,\n      images: [trip.thumbnail],\n    },\n    alternates: {\n      canonical: `https://egypttours.com/${params.locale}/trips/${params.slug}`,\n      languages: {\n        en: `https://egypttours.com/en/trips/${params.slug}`,\n        es: `https://egypttours.com/es/trips/${params.slug}`,\n        ar: `https://egypttours.com/ar/trips/${params.slug}`,\n      },\n    },\n  };\n}\n</code></pre>"},{"location":"frontend/ssr-seo/#structured-data-json-ld","title":"Structured Data (JSON-LD)","text":"<pre><code>// components/seo/TripSchema.tsx\nexport function TripSchema({ trip }) {\n  const schema = {\n    '@context': 'https://schema.org',\n    '@type': 'TouristTrip',\n    name: trip.title,\n    description: trip.description,\n    image: trip.images,\n    touristType: 'Adventurer',\n    itinerary: {\n      '@type': 'ItemList',\n      itemListElement: trip.itinerary.map((day, index) =&gt; ({\n        '@type': 'ListItem',\n        position: index + 1,\n        item: {\n          '@type': 'TouristAttraction',\n          name: day.title,\n          description: day.description,\n        },\n      })),\n    },\n    offers: {\n      '@type': 'Offer',\n      price: trip.price,\n      priceCurrency: 'USD',\n      availability: 'https://schema.org/InStock',\n    },\n    aggregateRating: {\n      '@type': 'AggregateRating',\n      ratingValue: trip.rating,\n      reviewCount: trip.reviewCount,\n    },\n  };\n\n  return (\n    &lt;script\n      type=\"application/ld+json\"\n      dangerouslySetInnerHTML={{ __html: JSON.stringify(schema) }}\n    /&gt;\n  );\n}\n</code></pre>"},{"location":"frontend/ssr-seo/#sitemap","title":"Sitemap","text":"<pre><code>// app/sitemap.ts\nimport { MetadataRoute } from 'next';\n\nexport default async function sitemap(): Promise&lt;MetadataRoute.Sitemap&gt; {\n  const baseUrl = 'https://egypttours.com';\n  const locales = ['en', 'es', 'ar'];\n\n  // Get all trips\n  const trips = await getAllTrips();\n\n  // Get all blog posts\n  const posts = await getAllBlogPosts();\n\n  const staticPages = ['', '/trips', '/destinations', '/blog', '/contact', '/about'];\n\n  const staticUrls = locales.flatMap((locale) =&gt;\n    staticPages.map((page) =&gt; ({\n      url: `${baseUrl}/${locale}${page}`,\n      lastModified: new Date(),\n      changeFrequency: 'weekly' as const,\n      priority: page === '' ? 1 : 0.8,\n    }))\n  );\n\n  const tripUrls = locales.flatMap((locale) =&gt;\n    trips.map((trip) =&gt; ({\n      url: `${baseUrl}/${locale}/trips/${trip.slug}`,\n      lastModified: new Date(trip.updatedAt),\n      changeFrequency: 'weekly' as const,\n      priority: 0.9,\n    }))\n  );\n\n  const blogUrls = locales.flatMap((locale) =&gt;\n    posts.map((post) =&gt; ({\n      url: `${baseUrl}/${locale}/blog/${post.slug}`,\n      lastModified: new Date(post.updatedAt),\n      changeFrequency: 'monthly' as const,\n      priority: 0.6,\n    }))\n  );\n\n  return [...staticUrls, ...tripUrls, ...blogUrls];\n}\n</code></pre>"},{"location":"frontend/ssr-seo/#robotstxt","title":"Robots.txt","text":"<pre><code>// app/robots.ts\nimport { MetadataRoute } from 'next';\n\nexport default function robots(): MetadataRoute.Robots {\n  return {\n    rules: [\n      {\n        userAgent: '*',\n        allow: '/',\n        disallow: ['/admin/', '/account/', '/booking/', '/api/'],\n      },\n    ],\n    sitemap: 'https://egypttours.com/sitemap.xml',\n  };\n}\n</code></pre>"},{"location":"frontend/ssr-seo/#performance-optimization","title":"Performance Optimization","text":""},{"location":"frontend/ssr-seo/#image-optimization","title":"Image Optimization","text":"<pre><code>import Image from 'next/image';\n\n&lt;Image\n  src={trip.thumbnail}\n  alt={trip.title}\n  width={400}\n  height={300}\n  priority={isAboveFold}\n  placeholder=\"blur\"\n  blurDataURL={trip.blurHash}\n/&gt;\n</code></pre>"},{"location":"frontend/ssr-seo/#loading-states","title":"Loading States","text":"<pre><code>// app/[locale]/trips/loading.tsx\nexport default function Loading() {\n  return (\n    &lt;div className=\"grid grid-cols-3 gap-4\"&gt;\n      {[...Array(9)].map((_, i) =&gt; (\n        &lt;TripCardSkeleton key={i} /&gt;\n      ))}\n    &lt;/div&gt;\n  );\n}\n</code></pre>"},{"location":"frontend/ssr-seo/#core-web-vitals","title":"Core Web Vitals","text":"Metric Target Strategy LCP &lt; 2.5s Priority images, SSG FID &lt; 100ms Code splitting, minimal JS CLS &lt; 0.1 Image dimensions, font loading"},{"location":"frontend/zustand-stores/","title":"Zustand Stores","text":""},{"location":"frontend/zustand-stores/#overview","title":"Overview","text":"<p>State management uses Zustand for its simplicity and performance. Stores are organized by domain.</p>"},{"location":"frontend/zustand-stores/#store-architecture","title":"Store Architecture","text":"<pre><code>graph LR\n    A[Components] --&gt; B[Zustand Stores]\n    B --&gt; C[Persist Middleware]\n    C --&gt; D[LocalStorage]\n    B --&gt; E[Devtools]</code></pre>"},{"location":"frontend/zustand-stores/#store-definitions","title":"Store Definitions","text":""},{"location":"frontend/zustand-stores/#auth-store","title":"Auth Store","text":"<pre><code>// stores/authStore.ts\nimport { create } from 'zustand';\nimport { persist, devtools } from 'zustand/middleware';\nimport type { User } from '@/types';\n\ninterface AuthState {\n  user: User | null;\n  token: string | null;\n  refreshToken: string | null;\n  isAuthenticated: boolean;\n  isLoading: boolean;\n\n  // Actions\n  setAuth: (user: User, token: string, refreshToken: string) =&gt; void;\n  updateUser: (user: Partial&lt;User&gt;) =&gt; void;\n  logout: () =&gt; void;\n  setLoading: (loading: boolean) =&gt; void;\n}\n\nexport const useAuthStore = create&lt;AuthState&gt;()(\n  devtools(\n    persist(\n      (set) =&gt; ({\n        user: null,\n        token: null,\n        refreshToken: null,\n        isAuthenticated: false,\n        isLoading: true,\n\n        setAuth: (user, token, refreshToken) =&gt;\n          set({\n            user,\n            token,\n            refreshToken,\n            isAuthenticated: true,\n            isLoading: false,\n          }),\n\n        updateUser: (userData) =&gt;\n          set((state) =&gt; ({\n            user: state.user ? { ...state.user, ...userData } : null,\n          })),\n\n        logout: () =&gt;\n          set({\n            user: null,\n            token: null,\n            refreshToken: null,\n            isAuthenticated: false,\n          }),\n\n        setLoading: (loading) =&gt; set({ isLoading: loading }),\n      }),\n      {\n        name: 'auth-storage',\n        partialize: (state) =&gt; ({\n          token: state.token,\n          refreshToken: state.refreshToken,\n        }),\n      }\n    ),\n    { name: 'AuthStore' }\n  )\n);\n</code></pre>"},{"location":"frontend/zustand-stores/#booking-store","title":"Booking Store","text":"<pre><code>// stores/bookingStore.ts\nimport { create } from 'zustand';\nimport { devtools } from 'zustand/middleware';\nimport type { Trip, TravelerDetails } from '@/types';\n\ninterface TravelerCount {\n  adults: number;\n  children: number;\n  infants: number;\n}\n\ninterface BookingState {\n  // State\n  trip: Trip | null;\n  date: Date | null;\n  travelers: TravelerCount;\n  addOns: string[];\n  travelerDetails: TravelerDetails[];\n  step: number;\n\n  // Computed\n  totalPrice: number;\n\n  // Actions\n  setTrip: (trip: Trip) =&gt; void;\n  setDate: (date: Date) =&gt; void;\n  setTravelers: (travelers: TravelerCount) =&gt; void;\n  addAddOn: (id: string) =&gt; void;\n  removeAddOn: (id: string) =&gt; void;\n  setTravelerDetails: (details: TravelerDetails[]) =&gt; void;\n  nextStep: () =&gt; void;\n  prevStep: () =&gt; void;\n  goToStep: (step: number) =&gt; void;\n  reset: () =&gt; void;\n}\n\nconst initialState = {\n  trip: null,\n  date: null,\n  travelers: { adults: 1, children: 0, infants: 0 },\n  addOns: [],\n  travelerDetails: [],\n  step: 0,\n  totalPrice: 0,\n};\n\nexport const useBookingStore = create&lt;BookingState&gt;()(\n  devtools(\n    (set, get) =&gt; ({\n      ...initialState,\n\n      setTrip: (trip) =&gt; set({ trip }),\n\n      setDate: (date) =&gt; set({ date }),\n\n      setTravelers: (travelers) =&gt; {\n        const { trip } = get();\n        const total = trip\n          ? trip.price * travelers.adults + trip.price * 0.7 * travelers.children\n          : 0;\n        set({ travelers, totalPrice: total });\n      },\n\n      addAddOn: (id) =&gt;\n        set((state) =&gt; ({ addOns: [...state.addOns, id] })),\n\n      removeAddOn: (id) =&gt;\n        set((state) =&gt; ({\n          addOns: state.addOns.filter((a) =&gt; a !== id),\n        })),\n\n      setTravelerDetails: (details) =&gt; set({ travelerDetails: details }),\n\n      nextStep: () =&gt; set((state) =&gt; ({ step: state.step + 1 })),\n\n      prevStep: () =&gt; set((state) =&gt; ({ step: Math.max(0, state.step - 1) })),\n\n      goToStep: (step) =&gt; set({ step }),\n\n      reset: () =&gt; set(initialState),\n    }),\n    { name: 'BookingStore' }\n  )\n);\n</code></pre>"},{"location":"frontend/zustand-stores/#ui-store","title":"UI Store","text":"<pre><code>// stores/uiStore.ts\nimport { create } from 'zustand';\n\ninterface UIState {\n  // Modals\n  isLoginModalOpen: boolean;\n  isSearchOpen: boolean;\n  isMobileMenuOpen: boolean;\n\n  // Theme\n  theme: 'light' | 'dark';\n  locale: 'en' | 'es' | 'ar';\n\n  // Actions\n  openLoginModal: () =&gt; void;\n  closeLoginModal: () =&gt; void;\n  toggleSearch: () =&gt; void;\n  toggleMobileMenu: () =&gt; void;\n  setTheme: (theme: 'light' | 'dark') =&gt; void;\n  setLocale: (locale: 'en' | 'es' | 'ar') =&gt; void;\n}\n\nexport const useUIStore = create&lt;UIState&gt;((set) =&gt; ({\n  isLoginModalOpen: false,\n  isSearchOpen: false,\n  isMobileMenuOpen: false,\n  theme: 'light',\n  locale: 'en',\n\n  openLoginModal: () =&gt; set({ isLoginModalOpen: true }),\n  closeLoginModal: () =&gt; set({ isLoginModalOpen: false }),\n  toggleSearch: () =&gt; set((state) =&gt; ({ isSearchOpen: !state.isSearchOpen })),\n  toggleMobileMenu: () =&gt; set((state) =&gt; ({ isMobileMenuOpen: !state.isMobileMenuOpen })),\n  setTheme: (theme) =&gt; set({ theme }),\n  setLocale: (locale) =&gt; set({ locale }),\n}));\n</code></pre>"},{"location":"frontend/zustand-stores/#wishlist-store","title":"Wishlist Store","text":"<pre><code>// stores/wishlistStore.ts\nimport { create } from 'zustand';\nimport { persist } from 'zustand/middleware';\n\ninterface WishlistState {\n  items: string[]; // Trip IDs\n\n  addItem: (id: string) =&gt; void;\n  removeItem: (id: string) =&gt; void;\n  toggleItem: (id: string) =&gt; void;\n  isInWishlist: (id: string) =&gt; boolean;\n  clear: () =&gt; void;\n}\n\nexport const useWishlistStore = create&lt;WishlistState&gt;()(\n  persist(\n    (set, get) =&gt; ({\n      items: [],\n\n      addItem: (id) =&gt;\n        set((state) =&gt; ({\n          items: state.items.includes(id) ? state.items : [...state.items, id],\n        })),\n\n      removeItem: (id) =&gt;\n        set((state) =&gt; ({\n          items: state.items.filter((item) =&gt; item !== id),\n        })),\n\n      toggleItem: (id) =&gt; {\n        const { items, addItem, removeItem } = get();\n        items.includes(id) ? removeItem(id) : addItem(id);\n      },\n\n      isInWishlist: (id) =&gt; get().items.includes(id),\n\n      clear: () =&gt; set({ items: [] }),\n    }),\n    { name: 'wishlist-storage' }\n  )\n);\n</code></pre>"},{"location":"frontend/zustand-stores/#store-summary","title":"Store Summary","text":"Store Persisted Purpose <code>authStore</code> Token only Authentication state <code>bookingStore</code> No Booking flow state <code>uiStore</code> No UI state (modals, theme) <code>wishlistStore</code> Yes Saved trips <code>filterStore</code> Session Search filters <code>cartStore</code> Session Shopping cart"},{"location":"frontend/zustand-stores/#usage-examples","title":"Usage Examples","text":"<pre><code>// Reading state\nconst { user, isAuthenticated } = useAuthStore();\n\n// Updating state\nconst { setTrip, nextStep } = useBookingStore();\n\n// Selective subscription (performance)\nconst token = useAuthStore((state) =&gt; state.token);\n\n// With shallow comparison\nimport { shallow } from 'zustand/shallow';\nconst { travelers, date } = useBookingStore(\n  (state) =&gt; ({ travelers: state.travelers, date: state.date }),\n  shallow\n);\n</code></pre>"},{"location":"migration/","title":"Migration Plan","text":"<p>This section covers the content migration strategy from Facebook and legacy content.</p>"},{"location":"migration/#contents","title":"Contents","text":"Document Description Facebook Migration Facebook content migration Content Import Data import process Media Migration Images and videos"},{"location":"migration/#migration-overview","title":"Migration Overview","text":"<pre><code>graph LR\n    A[Facebook Page] --&gt; B[Export Content]\n    B --&gt; C[Transform Data]\n    C --&gt; D[Import to CMS]\n    D --&gt; E[Review &amp; Publish]</code></pre>"},{"location":"migration/content-import/","title":"Content Import","text":""},{"location":"migration/content-import/#import-format","title":"Import Format","text":"<p>Content imported via JSON or CSV with the following schema:</p> <pre><code>{\n  \"blogs\": [\n    {\n      \"title\": \"Post Title\",\n      \"slug\": \"post-title\",\n      \"content\": \"Markdown content...\",\n      \"featuredImage\": \"path/to/image.jpg\",\n      \"publishedAt\": \"2025-01-15\",\n      \"tags\": [\"egypt\", \"travel\"]\n    }\n  ]\n}\n</code></pre>"},{"location":"migration/content-import/#import-process","title":"Import Process","text":"<ol> <li>Prepare import file</li> <li>Validate format</li> <li>Run import script</li> <li>Review imported items</li> <li>Fix any issues</li> <li>Publish approved content</li> </ol>"},{"location":"migration/facebook/","title":"Facebook Migration","text":""},{"location":"migration/facebook/#content-to-migrate","title":"Content to Migrate","text":"Content Type Source Target Posts Facebook Page Blog Videos Facebook Videos Vlogs Photos Photo Albums Media Library Reviews Page Reviews Reviews (imported)"},{"location":"migration/facebook/#migration-steps","title":"Migration Steps","text":"<ol> <li>Export Facebook data via Page Insights or manual</li> <li>Download media assets (photos, videos)</li> <li>Transform content to blog/vlog format</li> <li>Upload media to CDN</li> <li>Create content entries in CMS</li> <li>Review and publish</li> </ol>"},{"location":"migration/facebook/#post-transformation","title":"Post Transformation","text":"<p>Facebook Post \u2192 Blog Post</p> Facebook Field Blog Field Post text Title + Content Date Published date Photos Featured image Reactions Initial engagement"},{"location":"migration/facebook/#timeline","title":"Timeline","text":"Phase Duration Export &amp; inventory 1 week Media processing 1 week Content transformation 2 weeks Review &amp; publish 1 week"},{"location":"migration/media/","title":"Media Migration","text":""},{"location":"migration/media/#image-processing","title":"Image Processing","text":"Step Action Download Get original images Optimize Compress, resize Upload Push to CDN (S3/Cloudinary) Link Update content references"},{"location":"migration/media/#video-hosting","title":"Video Hosting","text":"<p>Videos hosted on YouTube or Vimeo, embedded in vlogs.</p>"},{"location":"migration/media/#naming-convention","title":"Naming Convention","text":"<pre><code>trips/{trip-slug}/image-01.jpg\nblog/{post-slug}/featured.jpg\ndestinations/{dest-slug}/hero.jpg\n</code></pre>"},{"location":"postman/","title":"Postman Documentation","text":""},{"location":"postman/#contents","title":"Contents","text":"Document Description Collections Collection structure Environments Environment variables Auth Flows Authentication setup Examples Request/response examples"},{"location":"postman/#overview","title":"Overview","text":"<p>Postman collections are provided to facilitate API testing and integration.</p>"},{"location":"postman/#collection-structure","title":"Collection Structure","text":"<pre><code>Egypt Tours API/\n\u251c\u2500\u2500 Auth/\n\u2502   \u251c\u2500\u2500 Register\n\u2502   \u251c\u2500\u2500 Login\n\u2502   \u251c\u2500\u2500 Refresh Token\n\u2502   \u2514\u2500\u2500 Password Reset\n\u251c\u2500\u2500 Trips/\n\u2502   \u251c\u2500\u2500 List Trips\n\u2502   \u251c\u2500\u2500 Get Trip Details\n\u2502   \u2514\u2500\u2500 Check Availability\n\u251c\u2500\u2500 Bookings/\n\u2502   \u251c\u2500\u2500 Create Booking\n\u2502   \u251c\u2500\u2500 Get My Bookings\n\u2502   \u2514\u2500\u2500 Cancel Booking\n\u251c\u2500\u2500 Account/\n\u2502   \u251c\u2500\u2500 Get Profile\n\u2502   \u251c\u2500\u2500 Update Profile\n\u2502   \u2514\u2500\u2500 Wishlist\n\u251c\u2500\u2500 Content/\n\u2502   \u251c\u2500\u2500 Blog\n\u2502   \u251c\u2500\u2500 Vlogs\n\u2502   \u2514\u2500\u2500 Destinations\n\u2514\u2500\u2500 Admin/\n    \u251c\u2500\u2500 Trips Management\n    \u251c\u2500\u2500 Bookings Management\n    \u2514\u2500\u2500 Users Management\n</code></pre>"},{"location":"postman/#quick-start","title":"Quick Start","text":"<ol> <li>Import the collection: <code>Egypt_Tours_API.postman_collection.json</code></li> <li>Import the environment: <code>Egypt_Tours_[Environment].postman_environment.json</code></li> <li>Set the active environment</li> <li>Run \"Login\" to get tokens (auto-saved to environment)</li> <li>Start testing endpoints</li> </ol>"},{"location":"postman/auth-flows/","title":"Postman Auth Flows","text":""},{"location":"postman/auth-flows/#auto-token-management","title":"Auto-Token Management","text":"<p>Login request automatically saves tokens to environment variables.</p>"},{"location":"postman/auth-flows/#login-pre-request-script","title":"Login Pre-request Script","text":"<pre><code>// Clear existing tokens before login\npm.environment.unset(\"accessToken\");\npm.environment.unset(\"refreshToken\");\n</code></pre>"},{"location":"postman/auth-flows/#login-test-script","title":"Login Test Script","text":"<pre><code>if (pm.response.code === 200) {\n    var jsonData = pm.response.json();\n    pm.environment.set('accessToken', jsonData.data.accessToken);\n    pm.environment.set('refreshToken', jsonData.data.refreshToken);\n    console.log('Tokens saved to environment');\n}\n</code></pre>"},{"location":"postman/auth-flows/#authorization-header","title":"Authorization Header","text":"<p>In Collection Settings &gt; Authorization:</p> <ul> <li>Type: Bearer Token</li> <li>Token: <code>{{accessToken}}</code></li> </ul> <p>All requests inherit this authorization.</p>"},{"location":"postman/auth-flows/#token-refresh","title":"Token Refresh","text":""},{"location":"postman/auth-flows/#auto-refresh-pre-request-script","title":"Auto-Refresh Pre-request Script","text":"<pre><code>// Add to collection pre-request script\nconst tokenExpiry = pm.environment.get(\"tokenExpiry\");\nconst now = Date.now();\n\nif (tokenExpiry &amp;&amp; now &gt; tokenExpiry - 60000) {\n    // Token expires in less than 1 minute, refresh\n    pm.sendRequest({\n        url: pm.environment.get(\"baseUrl\") + \"/auth/refresh\",\n        method: 'POST',\n        header: { 'Content-Type': 'application/json' },\n        body: {\n            mode: 'raw',\n            raw: JSON.stringify({ \n                refreshToken: pm.environment.get(\"refreshToken\") \n            })\n        }\n    }, function (err, res) {\n        if (res.code === 200) {\n            var data = res.json();\n            pm.environment.set(\"accessToken\", data.data.accessToken);\n            pm.environment.set(\"tokenExpiry\", Date.now() + 3600000);\n        }\n    });\n}\n</code></pre>"},{"location":"postman/collections/","title":"Postman Collections","text":""},{"location":"postman/collections/#collection-files","title":"Collection Files","text":"File Description <code>Egypt_Tours_API.postman_collection.json</code> Main API collection <code>Egypt_Tours_Admin.postman_collection.json</code> Admin-only endpoints"},{"location":"postman/collections/#collection-json-structure","title":"Collection JSON Structure","text":"<pre><code>{\n  \"info\": {\n    \"name\": \"Egypt Tours API\",\n    \"schema\": \"https://schema.getpostman.com/json/collection/v2.1.0/collection.json\"\n  },\n  \"variable\": [\n    { \"key\": \"baseUrl\", \"value\": \"{{baseUrl}}\" }\n  ],\n  \"item\": [\n    {\n      \"name\": \"Auth\",\n      \"item\": [\n        {\n          \"name\": \"Login\",\n          \"request\": {\n            \"method\": \"POST\",\n            \"header\": [\n              { \"key\": \"Content-Type\", \"value\": \"application/json\" }\n            ],\n            \"body\": {\n              \"mode\": \"raw\",\n              \"raw\": \"{ \\\"email\\\": \\\"{{email}}\\\", \\\"password\\\": \\\"{{password}}\\\" }\"\n            },\n            \"url\": \"{{baseUrl}}/auth/login\"\n          },\n          \"event\": [\n            {\n              \"listen\": \"test\",\n              \"script\": {\n                \"exec\": [\n                  \"if (pm.response.code === 200) {\",\n                  \"    var jsonData = pm.response.json();\",\n                  \"    pm.environment.set('accessToken', jsonData.data.accessToken);\",\n                  \"    pm.environment.set('refreshToken', jsonData.data.refreshToken);\",\n                  \"}\"\n                ]\n              }\n            }\n          ]\n        }\n      ]\n    }\n  ]\n}\n</code></pre>"},{"location":"postman/collections/#folder-structure","title":"Folder Structure","text":""},{"location":"postman/collections/#auth-folder","title":"Auth Folder","text":"<ul> <li>Register</li> <li>Login</li> <li>Refresh Token</li> <li>Forgot Password</li> <li>Reset Password</li> <li>Google OAuth</li> <li>Facebook OAuth</li> <li>Logout</li> </ul>"},{"location":"postman/collections/#trips-folder","title":"Trips Folder","text":"<ul> <li>List Trips (with query params)</li> <li>Get Trip Details</li> <li>Get Trip Reviews</li> <li>Check Availability</li> </ul>"},{"location":"postman/collections/#bookings-folder","title":"Bookings Folder","text":"<ul> <li>Create Booking</li> <li>Get My Bookings</li> <li>Get Booking Details</li> <li>Cancel Booking</li> <li>Download Invoice</li> </ul>"},{"location":"postman/collections/#account-folder","title":"Account Folder","text":"<ul> <li>Get Profile</li> <li>Update Profile</li> <li>Change Password</li> <li>Get Wishlist</li> <li>Add to Wishlist</li> <li>Remove from Wishlist</li> </ul>"},{"location":"postman/collections/#support-folder","title":"Support Folder","text":"<ul> <li>Create Ticket</li> <li>Get My Tickets</li> <li>Get Ticket Details</li> <li>Reply to Ticket</li> </ul>"},{"location":"postman/environments/","title":"Postman Environments","text":""},{"location":"postman/environments/#environment-files","title":"Environment Files","text":"Environment File Development <code>Egypt_Tours_Dev.postman_environment.json</code> Staging <code>Egypt_Tours_Staging.postman_environment.json</code> Production <code>Egypt_Tours_Prod.postman_environment.json</code>"},{"location":"postman/environments/#variables","title":"Variables","text":"Variable Description Example <code>baseUrl</code> API base URL <code>http://localhost:8080/api/v1</code> <code>email</code> Test user email <code>test@example.com</code> <code>password</code> Test user password <code>TestP@ss123</code> <code>accessToken</code> JWT access token (auto-populated) <code>refreshToken</code> JWT refresh token (auto-populated) <code>adminEmail</code> Admin user email <code>admin@egypttours.com</code> <code>adminPassword</code> Admin password -"},{"location":"postman/environments/#environment-json","title":"Environment JSON","text":"<pre><code>{\n  \"id\": \"dev-env\",\n  \"name\": \"Egypt Tours Dev\",\n  \"values\": [\n    {\n      \"key\": \"baseUrl\",\n      \"value\": \"http://localhost:8080/api/v1\",\n      \"enabled\": true\n    },\n    {\n      \"key\": \"email\",\n      \"value\": \"test@example.com\",\n      \"enabled\": true\n    },\n    {\n      \"key\": \"password\",\n      \"value\": \"TestP@ss123\",\n      \"enabled\": true\n    },\n    {\n      \"key\": \"accessToken\",\n      \"value\": \"\",\n      \"enabled\": true\n    },\n    {\n      \"key\": \"refreshToken\",\n      \"value\": \"\",\n      \"enabled\": true\n    }\n  ]\n}\n</code></pre>"},{"location":"postman/environments/#environment-urls","title":"Environment URLs","text":"Environment Base URL Development <code>http://localhost:8080/api/v1</code> Staging <code>https://api-staging.egypttours.com/api/v1</code> Production <code>https://api.egypttours.com/api/v1</code>"},{"location":"postman/examples/","title":"Postman Examples","text":""},{"location":"postman/examples/#complete-booking-flow","title":"Complete Booking Flow","text":""},{"location":"postman/examples/#1-login","title":"1. Login","text":"<pre><code>POST {{baseUrl}}/auth/login\n{\n  \"email\": \"customer@example.com\",\n  \"password\": \"Password123\"\n}\n</code></pre>"},{"location":"postman/examples/#2-browse-trips","title":"2. Browse Trips","text":"<pre><code>GET {{baseUrl}}/trips?destination=cairo&amp;type=DAY_TOUR\n</code></pre>"},{"location":"postman/examples/#3-get-trip-details","title":"3. Get Trip Details","text":"<pre><code>GET {{baseUrl}}/trips/pyramids-day-tour\n</code></pre>"},{"location":"postman/examples/#4-check-availability","title":"4. Check Availability","text":"<pre><code>GET {{baseUrl}}/trips/pyramids-day-tour/availability?from=2026-03-01&amp;to=2026-03-31\n</code></pre>"},{"location":"postman/examples/#5-create-booking","title":"5. Create Booking","text":"<pre><code>POST {{baseUrl}}/bookings\n{\n  \"tripId\": 1,\n  \"travelDate\": \"2026-03-15\",\n  \"adults\": 2,\n  \"travelers\": [...]\n}\n</code></pre>"},{"location":"postman/examples/#6-view-booking","title":"6. View Booking","text":"<pre><code>GET {{baseUrl}}/account/bookings/ET-A1B2C3D4\n</code></pre>"},{"location":"postman/examples/#admin-flow-example","title":"Admin Flow Example","text":""},{"location":"postman/examples/#1-admin-login","title":"1. Admin Login","text":"<pre><code>POST {{baseUrl}}/auth/login\n{\n  \"email\": \"admin@egypttours.com\",\n  \"password\": \"AdminPass123\"\n}\n</code></pre>"},{"location":"postman/examples/#2-create-new-trip","title":"2. Create New Trip","text":"<pre><code>POST {{baseUrl}}/admin/trips\n{\n  \"slug\": \"luxor-adventure\",\n  \"destinationId\": 2,\n  \"duration\": 3,\n  ...\n}\n</code></pre>"},{"location":"postman/examples/#3-view-all-bookings","title":"3. View All Bookings","text":"<pre><code>GET {{baseUrl}}/admin/bookings?status=PENDING\n</code></pre>"},{"location":"product/","title":"Product Documentation","text":"<p>This section covers the strategic product definition for the Egypt Tours Booking Platform.</p>"},{"location":"product/#contents","title":"Contents","text":"Document Description Vision &amp; PRD Product vision, goals, and requirements document User Personas Target audience profiles and characteristics Customer Journeys End-to-end user journey maps"},{"location":"product/#product-summary","title":"Product Summary","text":"<p>Egypt Tours Platform is a comprehensive booking solution designed to:</p> <ol> <li>Showcase Egypt's tourism offerings \u2014 packages, day tours, Nile cruises, and destinations</li> <li>Enable seamless online booking \u2014 instant and request-to-book modes</li> <li>Deliver rich content \u2014 blogs, vlogs, and trip galleries</li> <li>Provide intelligent assistance \u2014 AI-powered chat for trip recommendations</li> <li>Support multiple languages \u2014 English, Spanish, Arabic (RTL)</li> </ol>"},{"location":"product/#key-differentiators","title":"Key Differentiators","text":"<ul> <li>\ud83c\uddea\ud83c\uddec Egypt-only focus \u2014 specialized expertise</li> <li>\ud83e\udd16 AI-powered assistant \u2014 intelligent trip matching</li> <li>\ud83c\udf10 Multilingual \u2014 full RTL Arabic support</li> <li>\ud83d\udcf1 Mobile-first \u2014 responsive design</li> <li>\u26a1 Instant booking \u2014 immediate confirmation available</li> </ul>"},{"location":"product/journeys/","title":"Customer Journeys","text":""},{"location":"product/journeys/#overview","title":"Overview","text":"<p>This document maps end-to-end customer journeys through the Egypt Tours Platform.</p>"},{"location":"product/journeys/#journey-1-discovery-to-booking-new-customer","title":"Journey 1: Discovery to Booking (New Customer)","text":"<pre><code>journey\n    title New Customer Booking Journey\n    section Discovery\n      Search \"Egypt tours\": 5: Customer\n      Land on website: 5: Customer\n      Browse trip listings: 4: Customer\n    section Exploration\n      View trip details: 5: Customer\n      Check itinerary: 4: Customer\n      Read reviews: 4: Customer\n    section Booking\n      Select date &amp; options: 4: Customer\n      Create account: 3: Customer\n      Enter details: 3: Customer\n      Make payment: 4: Customer\n    section Confirmation\n      Receive confirmation: 5: Customer\n      Get invoice: 5: Customer\n      Access dashboard: 4: Customer</code></pre>"},{"location":"product/journeys/#touchpoints","title":"Touchpoints","text":"Stage Action System Response Discovery Search engine query SEO-optimized landing Browse View listings Fast, filtered results Details Click trip Rich trip page Book Select options Real-time pricing Pay Complete payment Secure gateway Confirm Booking complete Email + dashboard update"},{"location":"product/journeys/#journey-2-ai-assisted-booking","title":"Journey 2: AI-Assisted Booking","text":"<pre><code>journey\n    title AI-Assisted Booking Journey\n    section Initiation\n      Open chat widget: 5: Customer\n      Ask \"best Luxor tour\": 4: Customer\n    section Recommendation\n      AI suggests options: 5: AI\n      Customer asks follow-up: 4: Customer\n      AI provides details: 5: AI\n    section Conversion\n      Customer requests booking: 4: Customer\n      AI guides to trip page: 5: AI\n      Complete booking: 4: Customer</code></pre>"},{"location":"product/journeys/#chat-flow-example","title":"Chat Flow Example","text":"<pre><code>Customer: \"I want a 3-day tour to Luxor and Aswan\"\nAI: \"I found 5 tours matching your criteria. Here are the top picks:\n     1. Classic Luxor &amp; Aswan (\u26054.8) - $450\n     2. Nile Cruise Adventure (\u26054.9) - $680\n     Would you like details on any of these?\"\nCustomer: \"Tell me about the Nile Cruise\"\nAI: \"The Nile Cruise Adventure includes:\n     \u2022 3 nights on a 5-star cruise\n     \u2022 Valley of the Kings, Karnak Temple\n     \u2022 All meals included\n     [View Full Details \u2192]\"\n</code></pre>"},{"location":"product/journeys/#journey-3-returning-customer","title":"Journey 3: Returning Customer","text":"<pre><code>journey\n    title Returning Customer Journey\n    section Login\n      Visit website: 5: Customer\n      Login to account: 5: Customer\n    section Dashboard\n      View past bookings: 5: Customer\n      Check wishlist: 4: Customer\n    section New Booking\n      Book new trip: 4: Customer\n      Apply loyalty discount: 5: Customer\n    section Support\n      Create support ticket: 4: Customer\n      Receive resolution: 5: Customer</code></pre>"},{"location":"product/journeys/#journey-4-content-engagement","title":"Journey 4: Content Engagement","text":"<pre><code>journey\n    title Content to Booking Journey\n    section Content\n      Read blog article: 5: Customer\n      Watch vlog video: 5: Customer\n    section Interest\n      Click related tour CTA: 4: Customer\n      Explore trip page: 4: Customer\n    section Conversion\n      Add to wishlist: 4: Customer\n      Book later: 4: Customer</code></pre>"},{"location":"product/journeys/#journey-5-request-to-book-flow","title":"Journey 5: Request-to-Book Flow","text":"<pre><code>sequenceDiagram\n    participant C as Customer\n    participant W as Website\n    participant A as Admin\n    participant E as Email\n\n    C-&gt;&gt;W: Submit booking request\n    W-&gt;&gt;A: Notify new request\n    A-&gt;&gt;A: Check availability\n    alt Available\n        A-&gt;&gt;W: Confirm booking\n        W-&gt;&gt;E: Send confirmation\n        E-&gt;&gt;C: Booking confirmed\n    else Not Available\n        A-&gt;&gt;W: Suggest alternatives\n        W-&gt;&gt;E: Send alternatives\n        E-&gt;&gt;C: Alternative options\n    end</code></pre>"},{"location":"product/journeys/#key-metrics-by-journey","title":"Key Metrics by Journey","text":"Journey Primary KPI Target Discovery to Booking Conversion Rate &gt; 3% AI-Assisted Chat Engagement &gt; 40% Returning Customer Repeat Booking &gt; 25% Content Engagement Content-to-Book &gt; 5% Request-to-Book Response Time &lt; 2 hrs"},{"location":"product/personas/","title":"User Personas","text":""},{"location":"product/personas/#overview","title":"Overview","text":"<p>The Egypt Tours Platform targets diverse traveler segments. This document defines primary user personas to guide product decisions.</p>"},{"location":"product/personas/#persona-1-adventure-alex","title":"Persona 1: Adventure Alex","text":""},{"location":"product/personas/#demographics","title":"Demographics","text":"<ul> <li>Age: 28-35</li> <li>Location: USA, UK, Australia</li> <li>Occupation: Professional with disposable income</li> <li>Language: English</li> </ul>"},{"location":"product/personas/#characteristics","title":"Characteristics","text":"<ul> <li>Independent traveler</li> <li>Prefers unique experiences over tourist traps</li> <li>Tech-savvy, books everything online</li> <li>Active on social media</li> </ul>"},{"location":"product/personas/#goals","title":"Goals","text":"<ul> <li>Find authentic Egypt experiences</li> <li>Compare options quickly</li> <li>Book securely online</li> <li>Share experiences on social media</li> </ul>"},{"location":"product/personas/#pain-points","title":"Pain Points","text":"<ul> <li>Overwhelmed by options</li> <li>Concerned about scams</li> <li>Wants transparency on pricing</li> <li>Needs flexibility for changes</li> </ul>"},{"location":"product/personas/#preferred-features","title":"Preferred Features","text":"<ul> <li>Detailed itineraries</li> <li>Real reviews</li> <li>Instant booking</li> <li>Mobile-responsive site</li> </ul>"},{"location":"product/personas/#persona-2-family-fiona","title":"Persona 2: Family Fiona","text":""},{"location":"product/personas/#demographics_1","title":"Demographics","text":"<ul> <li>Age: 35-50</li> <li>Location: Europe, Middle East</li> <li>Occupation: Parent with family</li> <li>Language: English, Spanish</li> </ul>"},{"location":"product/personas/#characteristics_1","title":"Characteristics","text":"<ul> <li>Plans trips for entire family</li> <li>Prioritizes safety and comfort</li> <li>Needs child-friendly options</li> <li>Budget-conscious but values quality</li> </ul>"},{"location":"product/personas/#goals_1","title":"Goals","text":"<ul> <li>Find family-suitable tours</li> <li>Ensure safety and comfort</li> <li>Get good value for money</li> <li>Hassle-free booking process</li> </ul>"},{"location":"product/personas/#pain-points_1","title":"Pain Points","text":"<ul> <li>Limited family tour options</li> <li>Hidden costs</li> <li>Complex booking processes</li> <li>Lack of clear inclusions</li> </ul>"},{"location":"product/personas/#preferred-features_1","title":"Preferred Features","text":"<ul> <li>Family tour category</li> <li>Clear pricing breakdown</li> <li>Support chat for questions</li> <li>Group discounts</li> </ul>"},{"location":"product/personas/#persona-3-luxury-layla","title":"Persona 3: Luxury Layla","text":""},{"location":"product/personas/#demographics_2","title":"Demographics","text":"<ul> <li>Age: 40-60</li> <li>Location: Gulf countries, Europe</li> <li>Occupation: Executive/Business owner</li> <li>Language: Arabic, English</li> </ul>"},{"location":"product/personas/#characteristics_2","title":"Characteristics","text":"<ul> <li>Expects premium service</li> <li>Values exclusivity</li> <li>Willing to pay for quality</li> <li>Prefers personalized attention</li> </ul>"},{"location":"product/personas/#goals_2","title":"Goals","text":"<ul> <li>Find luxury/private tours</li> <li>Expect VIP treatment</li> <li>Customize itinerary</li> <li>Premium accommodations</li> </ul>"},{"location":"product/personas/#pain-points_2","title":"Pain Points","text":"<ul> <li>Generic tour options</li> <li>Lack of customization</li> <li>Poor communication</li> <li>Standard accommodations</li> </ul>"},{"location":"product/personas/#preferred-features_2","title":"Preferred Features","text":"<ul> <li>Private tour options</li> <li>Customization requests</li> <li>WhatsApp direct contact</li> <li>Premium filtering</li> </ul>"},{"location":"product/personas/#persona-4-budget-backpacker-ben","title":"Persona 4: Budget Backpacker Ben","text":""},{"location":"product/personas/#demographics_3","title":"Demographics","text":"<ul> <li>Age: 22-30</li> <li>Location: Worldwide</li> <li>Occupation: Student/Digital nomad</li> <li>Language: English, Spanish</li> </ul>"},{"location":"product/personas/#characteristics_3","title":"Characteristics","text":"<ul> <li>Limited budget</li> <li>Flexible schedule</li> <li>Seeks value deals</li> <li>Comfortable with basic options</li> </ul>"},{"location":"product/personas/#goals_3","title":"Goals","text":"<ul> <li>Find cheapest options</li> <li>Flexible booking</li> <li>Meet other travelers</li> <li>Authentic local experiences</li> </ul>"},{"location":"product/personas/#pain-points_3","title":"Pain Points","text":"<ul> <li>High tour prices</li> <li>Rigid booking policies</li> <li>Hidden fees</li> <li>Touristy experiences</li> </ul>"},{"location":"product/personas/#preferred-features_3","title":"Preferred Features","text":"<ul> <li>Price sorting</li> <li>Budget category</li> <li>Group tour options</li> <li>Last-minute deals</li> </ul>"},{"location":"product/personas/#persona-matrix","title":"Persona Matrix","text":"Persona Budget Flexibility Tech Level Priority Adventure Alex Medium-High High High Experience Family Fiona Medium Low Medium Safety Luxury Layla High Medium Medium Quality Budget Ben Low High High Price"},{"location":"product/prd/","title":"Product Vision &amp; Requirements Document","text":""},{"location":"product/prd/#vision-statement","title":"Vision Statement","text":"<p>Create the premier digital platform for discovering and booking authentic Egypt travel experiences, combining rich content with seamless booking and intelligent AI assistance.</p>"},{"location":"product/prd/#product-goals","title":"Product Goals","text":""},{"location":"product/prd/#primary-goals","title":"Primary Goals","text":"<ol> <li>Increase online bookings \u2014 Convert website visitors into paying customers</li> <li>Enhance discoverability \u2014 Improve SEO and content marketing</li> <li>Streamline operations \u2014 Automate booking and customer management</li> <li>Expand market reach \u2014 Support multilingual audiences</li> </ol>"},{"location":"product/prd/#success-metrics","title":"Success Metrics","text":"Metric Target Conversion Rate &gt; 3% Booking Completion &gt; 70% Page Load Time &lt; 2s Customer Satisfaction &gt; 4.5/5 Organic Traffic Growth +50% YoY"},{"location":"product/prd/#core-features","title":"Core Features","text":""},{"location":"product/prd/#1-trip-discovery","title":"1. Trip Discovery","text":"<ul> <li>Browse tours by type (packages, day tours, cruises)</li> <li>Filter by destination, duration, price, rating</li> <li>Rich trip pages with itinerary, inclusions, gallery</li> <li>Related trips and recommendations</li> </ul>"},{"location":"product/prd/#2-online-booking","title":"2. Online Booking","text":"<ul> <li>Instant Booking \u2014 immediate confirmation</li> <li>Request-to-Book \u2014 availability confirmation required</li> <li>Flexible payment (deposit or full)</li> <li>Real-time availability calendar</li> </ul>"},{"location":"product/prd/#3-customer-portal","title":"3. Customer Portal","text":"<ul> <li>Account management</li> <li>Booking history and status</li> <li>Invoices and payment records</li> <li>Support ticket system</li> <li>Wishlist/favorites</li> </ul>"},{"location":"product/prd/#4-content-hub","title":"4. Content Hub","text":"<ul> <li>Blog articles (travel tips, destination guides)</li> <li>Vlogs (video content)</li> <li>Past trip galleries</li> <li>Customer reviews and testimonials</li> </ul>"},{"location":"product/prd/#5-ai-assistant","title":"5. AI Assistant","text":"<ul> <li>Natural language trip search</li> <li>Personalized recommendations</li> <li>Booking assistance</li> <li>FAQ answering</li> </ul>"},{"location":"product/prd/#6-admin-backoffice","title":"6. Admin Backoffice","text":"<ul> <li>Trip and destination management</li> <li>Booking operations</li> <li>Customer management</li> <li>Content management (blog/vlog)</li> <li>Analytics dashboard</li> <li>Translation workflow</li> </ul>"},{"location":"product/prd/#scope-constraints","title":"Scope Constraints","text":"In Scope Out of Scope Egypt destinations only International tours Web platform Native mobile apps (Phase 1) Online payments Cash on arrival Email/Chat support Phone support system"},{"location":"product/prd/#stakeholders","title":"Stakeholders","text":"Role Responsibilities Product Owner Vision, priorities, acceptance Operations Team Booking fulfillment, support Content Team Blog/vlog creation, translations Development Team Platform build and maintenance Marketing Team SEO, campaigns, analytics"},{"location":"product/prd/#timeline-overview","title":"Timeline Overview","text":"Phase Focus Duration Phase 1 Core booking platform 3 months Phase 2 AI assistant + content 2 months Phase 3 Advanced features 2 months Phase 4 Optimization + scale Ongoing <p>See Release Milestones for detailed timeline.</p>"},{"location":"release/","title":"Release Plan","text":"<p>This section covers release milestones and roadmap.</p>"},{"location":"release/#contents","title":"Contents","text":"Document Description Milestones Release phases Roadmap Feature roadmap Changelog Version history"},{"location":"release/#release-overview","title":"Release Overview","text":"<pre><code>gantt\n    title Egypt Tours Platform Release Plan\n    dateFormat YYYY-MM\n    section MVP\n        Core Features    :2026-02, 2026-04\n        Booking System   :2026-03, 2026-05\n        Payment Integration :2026-04, 2026-05\n    section V1.0\n        Admin Panel      :2026-04, 2026-06\n        Content CMS      :2026-05, 2026-06\n        Mobile Optimization :2026-05, 2026-06\n    section V1.5\n        AI Assistant     :2026-06, 2026-08\n        Multi-language   :2026-06, 2026-07\n    section V2.0\n        Advanced Features :2026-08, 2026-10</code></pre>"},{"location":"release/changelog/","title":"Changelog","text":""},{"location":"release/changelog/#unreleased","title":"[Unreleased]","text":""},{"location":"release/changelog/#added","title":"Added","text":"<ul> <li>Initial documentation structure</li> <li>Core platform design</li> <li>API specifications</li> </ul>"},{"location":"release/changelog/#010-mvp","title":"[0.1.0] - MVP","text":""},{"location":"release/changelog/#added_1","title":"Added","text":"<ul> <li>Trip browsing and search</li> <li>User registration and login</li> <li>Instant booking flow</li> <li>Stripe payment processing</li> <li>Email notifications</li> <li>Basic admin panel</li> </ul>"},{"location":"release/changelog/#version-format","title":"Version Format","text":"<p>We follow Semantic Versioning:</p> <ul> <li>MAJOR \u2014 Breaking changes</li> <li>MINOR \u2014 New features</li> <li>PATCH \u2014 Bug fixes</li> </ul>"},{"location":"release/milestones/","title":"Release Milestones","text":""},{"location":"release/milestones/#mvp-v01","title":"MVP (v0.1)","text":"<p>Target: Q2 2026</p> <ul> <li> Trip browsing and details</li> <li> User registration/login</li> <li> Basic booking flow (instant book)</li> <li> Stripe payment integration</li> <li> Email confirmations</li> <li> Basic admin dashboard</li> </ul>"},{"location":"release/milestones/#version-10","title":"Version 1.0","text":"<p>Target: Q2 2026</p> <ul> <li> Request-to-book flow</li> <li> Full admin panel</li> <li> Content CMS (blog, vlogs)</li> <li> Review system</li> <li> Customer portal</li> <li> Support tickets</li> </ul>"},{"location":"release/milestones/#version-15","title":"Version 1.5","text":"<p>Target: Q3 2026</p> <ul> <li> AI chat assistant</li> <li> Multi-language (EN/ES/AR)</li> <li> RTL support</li> <li> Advanced search/filters</li> <li> Wishlist functionality</li> </ul>"},{"location":"release/milestones/#version-20","title":"Version 2.0","text":"<p>Target: Q4 2026</p> <ul> <li> Mobile app (React Native)</li> <li> Advanced analytics</li> <li> Loyalty program</li> <li> Group bookings</li> <li> Custom trip builder</li> </ul>"},{"location":"release/roadmap/","title":"Product Roadmap","text":""},{"location":"release/roadmap/#q2-2026","title":"Q2 2026","text":"Feature Priority Status Trip catalog P0 Planned User accounts P0 Planned Booking system P0 Planned Payment integration P0 Planned Admin dashboard P0 Planned"},{"location":"release/roadmap/#q3-2026","title":"Q3 2026","text":"Feature Priority Status AI assistant P1 Planned Multi-language P1 Planned Content CMS P1 Planned Mobile optimization P1 Planned"},{"location":"release/roadmap/#q4-2026","title":"Q4 2026","text":"Feature Priority Status Advanced analytics P2 Planned Mobile app P2 Planned Loyalty program P2 Backlog"},{"location":"release/roadmap/#priority-legend","title":"Priority Legend","text":"<ul> <li>P0 \u2014 Critical for launch</li> <li>P1 \u2014 Important, post-launch</li> <li>P2 \u2014 Nice to have</li> <li>P3 \u2014 Future consideration</li> </ul>"},{"location":"requirements/","title":"Requirements Documentation","text":"<p>This section defines the functional and non-functional requirements for the Egypt Tours Platform.</p>"},{"location":"requirements/#contents","title":"Contents","text":"Document Description Functional Requirements Feature specifications by module Non-Functional Requirements Performance, security, accessibility Feature Checklist Complete feature matrix (Frontend/Backend)"},{"location":"requirements/#requirements-overview","title":"Requirements Overview","text":""},{"location":"requirements/#scope","title":"Scope","text":"<ul> <li>Egypt-only tours \u2014 packages, day tours, Nile cruises</li> <li>Multilingual \u2014 English, Spanish, Arabic (RTL)</li> <li>Dual booking modes \u2014 Instant booking + Request-to-book</li> <li>Content platform \u2014 Blogs, vlogs, media galleries</li> </ul>"},{"location":"requirements/#methodology","title":"Methodology","text":"<p>Requirements follow the MoSCoW prioritization:</p> Priority Meaning Must Core functionality, launch blocker Should Important but not blocking Could Nice to have, Phase 2+ Won't Explicitly out of scope"},{"location":"requirements/feature-checklist/","title":"Feature Checklist","text":"<p>Complete feature matrix with Frontend (FE) and Backend (BE) implementation tracking.</p>"},{"location":"requirements/feature-checklist/#legend","title":"Legend","text":"Symbol Meaning \u2705 Implemented \ud83d\udd04 In Progress \u23f3 Planned \u274c Not Planned"},{"location":"requirements/feature-checklist/#public-website","title":"Public Website","text":"Feature FE BE Priority Notes Homepage with hero, featured trips \u23f3 \u23f3 Must SSR required Trip listings with filters/sorting \u23f3 \u23f3 Must Pagination Trip detail pages \u23f3 \u23f3 Must SEO critical Destination pages \u23f3 \u23f3 Must Blog listing and articles \u23f3 \u23f3 Must Vlog/media gallery \u23f3 \u23f3 Must Global search \u23f3 \u23f3 Must Contact form \u23f3 \u23f3 Must FAQ section \u23f3 \u23f3 Must Reviews display \u23f3 \u23f3 Must WhatsApp CTA \u23f3 \u274c Must FE only Language switcher \u23f3 \u23f3 Must EN/ES/AR RTL Arabic layout \u23f3 \u274c Must"},{"location":"requirements/feature-checklist/#authentication","title":"Authentication","text":"Feature FE BE Priority Notes Email/password registration \u23f3 \u23f3 Must Email verification \u23f3 \u23f3 Must Login \u23f3 \u23f3 Must JWT Password reset \u23f3 \u23f3 Must Google OAuth \u23f3 \u23f3 Should Facebook OAuth \u23f3 \u23f3 Should Apple Sign-In \u23f3 \u23f3 Could Token refresh \u23f3 \u23f3 Must Logout \u23f3 \u23f3 Must"},{"location":"requirements/feature-checklist/#booking-system","title":"Booking System","text":"Feature FE BE Priority Notes Date/traveler selection \u23f3 \u23f3 Must Booking form \u23f3 \u23f3 Must Instant booking flow \u23f3 \u23f3 Must Request-to-book flow \u23f3 \u23f3 Must Payment integration \u23f3 \u23f3 Must Stripe Deposit payment option \u23f3 \u23f3 Must Full payment option \u23f3 \u23f3 Must Booking confirmation email \u274c \u23f3 Must Invoice generation \u23f3 \u23f3 Must PDF Cancellation request \u23f3 \u23f3 Must Refund processing \u23f3 \u23f3 Must Booking modification \u23f3 \u23f3 Should"},{"location":"requirements/feature-checklist/#customer-portal","title":"Customer Portal","text":"Feature FE BE Priority Notes Dashboard overview \u23f3 \u23f3 Must Booking history \u23f3 \u23f3 Must Booking details \u23f3 \u23f3 Must Invoice download \u23f3 \u23f3 Must Profile management \u23f3 \u23f3 Must Password change \u23f3 \u23f3 Must Wishlist \u23f3 \u23f3 Should Support tickets \u23f3 \u23f3 Must Ticket replies \u23f3 \u23f3 Must"},{"location":"requirements/feature-checklist/#admin-backoffice","title":"Admin Backoffice","text":"Feature FE BE Priority Notes Admin dashboard \u23f3 \u23f3 Must Trip CRUD \u23f3 \u23f3 Must Itinerary management \u23f3 \u23f3 Must Pricing rules \u23f3 \u23f3 Must Availability management \u23f3 \u23f3 Must Destination CRUD \u23f3 \u23f3 Must Blog CRUD \u23f3 \u23f3 Must Vlog CRUD \u23f3 \u23f3 Must Media library \u23f3 \u23f3 Should Booking list \u23f3 \u23f3 Must Booking status updates \u23f3 \u23f3 Must Customer list \u23f3 \u23f3 Must Support ticket queue \u23f3 \u23f3 Must Ticket responses \u23f3 \u23f3 Must Translation management \u23f3 \u23f3 Must Analytics/reports \u23f3 \u23f3 Should Audit logs \u23f3 \u23f3 Should User/role management \u23f3 \u23f3 Must"},{"location":"requirements/feature-checklist/#ai-assistant","title":"AI Assistant","text":"Feature FE BE Priority Notes Chat widget \u23f3 \u23f3 Must Trip search tool \u23f3 \u23f3 Must MCP Trip details fetch \u23f3 \u23f3 Must MCP FAQ answering \u23f3 \u23f3 Must RAG Lead creation \u23f3 \u23f3 Should MCP Booking status (auth) \u23f3 \u23f3 Should MCP Multilingual \u23f3 \u23f3 Could"},{"location":"requirements/feature-checklist/#content-features","title":"Content Features","text":"Feature FE BE Priority Notes Image galleries \u23f3 \u23f3 Must Lightbox Video embeds \u23f3 \u274c Must YouTube Reviews/ratings \u23f3 \u23f3 Must Social sharing \u23f3 \u274c Should Newsletter signup \u23f3 \u23f3 Should"},{"location":"requirements/feature-checklist/#seo-analytics","title":"SEO &amp; Analytics","text":"Feature FE BE Priority Notes SSR/SSG \u23f3 \u274c Must Next.js/Nuxt Meta tags \u23f3 \u274c Must Structured data \u23f3 \u274c Must JSON-LD Sitemap \u23f3 \u23f3 Must Robots.txt \u23f3 \u274c Must Google Analytics \u23f3 \u274c Must hreflang tags \u23f3 \u274c Must"},{"location":"requirements/feature-checklist/#summary-by-priority","title":"Summary by Priority","text":"Priority Total Features FE BE Must ~65 ~60 ~55 Should ~20 ~18 ~15 Could ~5 ~4 ~3"},{"location":"requirements/functional/","title":"Functional Requirements","text":""},{"location":"requirements/functional/#fr-1-trip-discovery-browse","title":"FR-1: Trip Discovery &amp; Browse","text":""},{"location":"requirements/functional/#fr-11-trip-listings","title":"FR-1.1: Trip Listings","text":"ID Requirement Priority FR-1.1.1 Display trips in card/list view with thumbnail, title, price, rating Must FR-1.1.2 Filter by: destination, type, duration, price range, rating Must FR-1.1.3 Sort by: price, rating, duration, popularity Must FR-1.1.4 Pagination with configurable page size Must FR-1.1.5 Show trip availability status Should"},{"location":"requirements/functional/#fr-12-trip-details","title":"FR-1.2: Trip Details","text":"ID Requirement Priority FR-1.2.1 Display full itinerary with day-by-day breakdown Must FR-1.2.2 Show included/excluded items list Must FR-1.2.3 Display pricing with options (group size, season) Must FR-1.2.4 Image gallery with lightbox Must FR-1.2.5 Customer reviews and ratings Must FR-1.2.6 Related/similar trips recommendations Should FR-1.2.7 Availability calendar Should FR-1.2.8 Share to social media Could"},{"location":"requirements/functional/#fr-13-destinations","title":"FR-1.3: Destinations","text":"ID Requirement Priority FR-1.3.1 Destination pages (Cairo, Luxor, Aswan, etc.) Must FR-1.3.2 List trips by destination Must FR-1.3.3 Destination description and highlights Must FR-1.3.4 Destination gallery Should"},{"location":"requirements/functional/#fr-2-booking-payments","title":"FR-2: Booking &amp; Payments","text":""},{"location":"requirements/functional/#fr-21-booking-flow","title":"FR-2.1: Booking Flow","text":"ID Requirement Priority FR-2.1.1 Select trip date from availability Must FR-2.1.2 Choose number of travelers (adults/children) Must FR-2.1.3 Select optional add-ons Should FR-2.1.4 Enter traveler details Must FR-2.1.5 Review booking summary Must FR-2.1.6 Support instant booking mode Must FR-2.1.7 Support request-to-book mode Must"},{"location":"requirements/functional/#fr-22-payments","title":"FR-2.2: Payments","text":"ID Requirement Priority FR-2.2.1 Accept credit/debit cards Must FR-2.2.2 Support deposit payment option Must FR-2.2.3 Support full payment option Must FR-2.2.4 Generate booking invoice Must FR-2.2.5 Send payment confirmation email Must FR-2.2.6 Support PayPal Should FR-2.2.7 Support multiple currencies display Should"},{"location":"requirements/functional/#fr-23-cancellation-refunds","title":"FR-2.3: Cancellation &amp; Refunds","text":"ID Requirement Priority FR-2.3.1 Allow booking cancellation Must FR-2.3.2 Apply cancellation policy Must FR-2.3.3 Process refunds Must FR-2.3.4 Allow booking modifications Should"},{"location":"requirements/functional/#fr-3-user-accounts","title":"FR-3: User Accounts","text":""},{"location":"requirements/functional/#fr-31-authentication","title":"FR-3.1: Authentication","text":"ID Requirement Priority FR-3.1.1 Email/password registration Must FR-3.1.2 Email verification Must FR-3.1.3 Password reset Must FR-3.1.4 Google OAuth login Should FR-3.1.5 Facebook OAuth login Should FR-3.1.6 Apple Sign-In Could"},{"location":"requirements/functional/#fr-32-customer-portal","title":"FR-3.2: Customer Portal","text":"ID Requirement Priority FR-3.2.1 View booking history Must FR-3.2.2 View booking status Must FR-3.2.3 Download invoices Must FR-3.2.4 Update profile information Must FR-3.2.5 Manage saved wishlists Should FR-3.2.6 View payment history Should"},{"location":"requirements/functional/#fr-33-support","title":"FR-3.3: Support","text":"ID Requirement Priority FR-3.3.1 Create support tickets Must FR-3.3.2 View ticket history Must FR-3.3.3 Reply to tickets Must FR-3.3.4 Ticket status updates Must"},{"location":"requirements/functional/#fr-4-content","title":"FR-4: Content","text":""},{"location":"requirements/functional/#fr-41-blog","title":"FR-4.1: Blog","text":"ID Requirement Priority FR-4.1.1 List blog articles Must FR-4.1.2 Blog article detail page Must FR-4.1.3 Blog categories/tags Should FR-4.1.4 Related articles Should FR-4.1.5 Search blog content Could"},{"location":"requirements/functional/#fr-42-vlogsmedia","title":"FR-4.2: Vlogs/Media","text":"ID Requirement Priority FR-4.2.1 Video gallery page Must FR-4.2.2 Embedded video player Must FR-4.2.3 Video categories Should FR-4.2.4 Past trip galleries Should"},{"location":"requirements/functional/#fr-43-static-pages","title":"FR-4.3: Static Pages","text":"ID Requirement Priority FR-4.3.1 About Us page Must FR-4.3.2 Contact page with form Must FR-4.3.3 FAQ page Must FR-4.3.4 Privacy Policy Must FR-4.3.5 Terms &amp; Conditions Must FR-4.3.6 Cancellation Policy Must"},{"location":"requirements/functional/#fr-5-search-discovery","title":"FR-5: Search &amp; Discovery","text":"ID Requirement Priority FR-5.1 Global search across trips, destinations, blog Must FR-5.2 Search autocomplete/suggestions Should FR-5.3 Search results filtering Should FR-5.4 Search analytics tracking Could"},{"location":"requirements/functional/#fr-6-ai-assistant","title":"FR-6: AI Assistant","text":"ID Requirement Priority FR-6.1 Chat widget on website Must FR-6.2 Answer trip-related questions Must FR-6.3 Search and recommend trips Must FR-6.4 FAQ answering Must FR-6.5 Create lead/ticket from chat Should FR-6.6 Check booking status (authenticated) Should FR-6.7 Multilingual support (EN/ES/AR) Could"},{"location":"requirements/functional/#fr-7-admin-backoffice","title":"FR-7: Admin Backoffice","text":""},{"location":"requirements/functional/#fr-71-trip-management","title":"FR-7.1: Trip Management","text":"ID Requirement Priority FR-7.1.1 CRUD trips Must FR-7.1.2 Manage itinerary days Must FR-7.1.3 Set pricing rules Must FR-7.1.4 Manage availability Must FR-7.1.5 Upload/manage images Must FR-7.1.6 Manage translations Must"},{"location":"requirements/functional/#fr-72-booking-operations","title":"FR-7.2: Booking Operations","text":"ID Requirement Priority FR-7.2.1 View all bookings Must FR-7.2.2 Update booking status Must FR-7.2.3 Process confirmations Must FR-7.2.4 Handle cancellations/refunds Must FR-7.2.5 Generate reports Should"},{"location":"requirements/functional/#fr-73-content-management","title":"FR-7.3: Content Management","text":"ID Requirement Priority FR-7.3.1 CRUD blog posts Must FR-7.3.2 CRUD vlogs Must FR-7.3.3 Manage destinations Must FR-7.3.4 Translation workflow Must FR-7.3.5 Media library Should"},{"location":"requirements/functional/#fr-74-customer-support","title":"FR-7.4: Customer &amp; Support","text":"ID Requirement Priority FR-7.4.1 View customer list Must FR-7.4.2 View support tickets Must FR-7.4.3 Respond to tickets Must FR-7.4.4 Customer communication history Should"},{"location":"requirements/functional/#fr-75-analytics-audit","title":"FR-7.5: Analytics &amp; Audit","text":"ID Requirement Priority FR-7.5.1 Dashboard with key metrics Must FR-7.5.2 Booking statistics Must FR-7.5.3 Audit logs Should FR-7.5.4 Revenue reports Should"},{"location":"requirements/non-functional/","title":"Non-Functional Requirements","text":""},{"location":"requirements/non-functional/#nfr-1-performance","title":"NFR-1: Performance","text":"ID Requirement Target Priority NFR-1.1 Page load time (First Contentful Paint) &lt; 1.5s Must NFR-1.2 Time to Interactive &lt; 3s Must NFR-1.3 API response time (P95) &lt; 300ms Must NFR-1.4 Image optimization (WebP, lazy loading) Implemented Must NFR-1.5 CDN for static assets Implemented Should NFR-1.6 Database query time &lt; 100ms Should"},{"location":"requirements/non-functional/#nfr-2-scalability","title":"NFR-2: Scalability","text":"ID Requirement Target Priority NFR-2.1 Concurrent users 1,000+ Must NFR-2.2 Horizontal scaling capability Supported Should NFR-2.3 Database connection pooling Configured Should NFR-2.4 Caching layer (Redis) Implemented Should"},{"location":"requirements/non-functional/#nfr-3-security","title":"NFR-3: Security","text":"ID Requirement Target Priority NFR-3.1 HTTPS everywhere Enforced Must NFR-3.2 JWT token security Short-lived + refresh Must NFR-3.3 Password hashing bcrypt, cost 12+ Must NFR-3.4 SQL injection prevention Parameterized queries Must NFR-3.5 XSS protection CSP headers, sanitization Must NFR-3.6 CSRF protection Tokens required Must NFR-3.7 Rate limiting Implemented Must NFR-3.8 Input validation Server-side Must NFR-3.9 PCI compliance for payments Via gateway (Stripe) Must NFR-3.10 Security headers HSTS, X-Frame-Options Should NFR-3.11 Audit logging All sensitive operations Should NFR-3.12 Penetration testing Before launch Should"},{"location":"requirements/non-functional/#nfr-4-seo","title":"NFR-4: SEO","text":"ID Requirement Target Priority NFR-4.1 Server-side rendering (SSR) Critical pages Must NFR-4.2 Meta tags (title, description) All pages Must NFR-4.3 Structured data (JSON-LD) Trip pages Must NFR-4.4 Sitemap.xml Auto-generated Must NFR-4.5 Robots.txt Configured Must NFR-4.6 Localized URLs (/en/, /es/, /ar/) Implemented Must NFR-4.7 hreflang tags All pages Must NFR-4.8 Canonical URLs Implemented Must NFR-4.9 Open Graph tags All pages Should NFR-4.10 Core Web Vitals compliance LCP, FID, CLS Should"},{"location":"requirements/non-functional/#nfr-5-accessibility","title":"NFR-5: Accessibility","text":"ID Requirement Target Priority NFR-5.1 WCAG 2.1 Level AA compliance Implemented Should NFR-5.2 Keyboard navigation Full support Should NFR-5.3 Screen reader compatibility Tested Should NFR-5.4 Color contrast ratios 4.5:1 minimum Should NFR-5.5 Alt text for images All images Must NFR-5.6 Form labels and ARIA Implemented Should"},{"location":"requirements/non-functional/#nfr-6-internationalization","title":"NFR-6: Internationalization","text":"ID Requirement Target Priority NFR-6.1 RTL layout for Arabic Implemented Must NFR-6.2 Date/time localization Per locale Must NFR-6.3 Number formatting Per locale Must NFR-6.4 Currency display Configurable Should NFR-6.5 Translation management CMS-driven Must NFR-6.6 Language detection Browser-based Should"},{"location":"requirements/non-functional/#nfr-7-reliability","title":"NFR-7: Reliability","text":"ID Requirement Target Priority NFR-7.1 Uptime SLA 99.9% Must NFR-7.2 Error rate &lt; 0.1% Must NFR-7.3 Graceful degradation Implemented Should NFR-7.4 Health check endpoints /health, /ready Must NFR-7.5 Circuit breaker pattern External services Should"},{"location":"requirements/non-functional/#nfr-8-observability","title":"NFR-8: Observability","text":"ID Requirement Target Priority NFR-8.1 Centralized logging ELK/CloudWatch Must NFR-8.2 Application metrics Prometheus/Grafana Should NFR-8.3 Error tracking Sentry Must NFR-8.4 Distributed tracing OpenTelemetry Could NFR-8.5 Alerting Critical errors Must NFR-8.6 Analytics integration GA4 Must"},{"location":"requirements/non-functional/#nfr-9-backup-disaster-recovery","title":"NFR-9: Backup &amp; Disaster Recovery","text":"ID Requirement Target Priority NFR-9.1 Database backups Daily automated Must NFR-9.2 Point-in-time recovery 7-day retention Should NFR-9.3 Backup testing Monthly Should NFR-9.4 Recovery Time Objective (RTO) &lt; 4 hours Should NFR-9.5 Recovery Point Objective (RPO) &lt; 1 hour Should"},{"location":"requirements/non-functional/#nfr-10-compliance","title":"NFR-10: Compliance","text":"ID Requirement Target Priority NFR-10.1 GDPR compliance Data handling, consent Must NFR-10.2 Cookie consent banner Implemented Must NFR-10.3 Data export (user request) Supported Should NFR-10.4 Data deletion (right to be forgotten) Supported Should NFR-10.5 Privacy policy Published Must NFR-10.6 Terms of service Published Must"},{"location":"requirements/non-functional/#nfr-11-development-operations","title":"NFR-11: Development &amp; Operations","text":"ID Requirement Target Priority NFR-11.1 CI/CD pipeline Automated Must NFR-11.2 Staging environment Mirrors production Must NFR-11.3 Feature flags Supported Should NFR-11.4 Blue-green deployments Configured Could NFR-11.5 Infrastructure as Code Terraform/CDK Should NFR-11.6 API documentation OpenAPI/Swagger Must"},{"location":"testing/","title":"Testing Strategy","text":"<p>This section covers the testing approach and QA processes.</p>"},{"location":"testing/#contents","title":"Contents","text":"Document Description Unit Testing Unit test guidelines Integration Tests API and database tests E2E Testing End-to-end testing QA Checklist Manual QA checklists"},{"location":"testing/#testing-pyramid","title":"Testing Pyramid","text":"<pre><code>graph TD\n    A[E2E Tests] --&gt; B[Integration Tests]\n    B --&gt; C[Unit Tests]\n\n    style A fill:#f96,stroke:#333\n    style B fill:#9cf,stroke:#333\n    style C fill:#9f9,stroke:#333</code></pre> Level Coverage Speed Unit 70% Fast Integration 20% Medium E2E 10% Slow"},{"location":"testing/#test-tools","title":"Test Tools","text":"Layer Frontend Backend Unit Vitest, React Testing Library JUnit 5, Mockito Integration - TestContainers E2E Playwright -"},{"location":"testing/e2e-tests/","title":"E2E Testing","text":""},{"location":"testing/e2e-tests/#playwright-configuration","title":"Playwright Configuration","text":"<pre><code>// playwright.config.ts\nimport { defineConfig } from '@playwright/test';\n\nexport default defineConfig({\n  testDir: './e2e',\n  baseURL: 'http://localhost:3000',\n  use: {\n    trace: 'on-first-retry',\n    screenshot: 'only-on-failure',\n  },\n  projects: [\n    { name: 'chromium', use: { browserName: 'chromium' } },\n    { name: 'mobile', use: { viewport: { width: 375, height: 667 } } },\n  ],\n});\n</code></pre>"},{"location":"testing/e2e-tests/#test-examples","title":"Test Examples","text":"<pre><code>// e2e/booking.spec.ts\nimport { test, expect } from '@playwright/test';\n\ntest('complete booking flow', async ({ page }) =&gt; {\n  await page.goto('/trips/pyramids-day-tour');\n\n  await expect(page.getByRole('heading', { name: /pyramids/i })).toBeVisible();\n\n  await page.getByRole('button', { name: 'Book Now' }).click();\n  await page.fill('[name=\"date\"]', '2026-03-15');\n  await page.fill('[name=\"adults\"]', '2');\n  await page.getByRole('button', { name: 'Continue' }).click();\n\n  await expect(page.getByText('Booking Summary')).toBeVisible();\n});\n</code></pre>"},{"location":"testing/e2e-tests/#critical-flows","title":"Critical Flows","text":"<ul> <li> Homepage loads correctly</li> <li> Trip search and filtering</li> <li> Trip detail page loads</li> <li> Complete booking flow</li> <li> User login/register</li> <li> Payment processing</li> </ul>"},{"location":"testing/integration-tests/","title":"Integration Tests","text":""},{"location":"testing/integration-tests/#backend-api-tests","title":"Backend API Tests","text":"<pre><code>@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\n@Testcontainers\nclass TripControllerIT {\n\n    @Container\n    static PostgreSQLContainer&lt;?&gt; postgres = new PostgreSQLContainer&lt;&gt;(\"postgres:15\");\n\n    @Autowired TestRestTemplate restTemplate;\n\n    @Test\n    void getTrips_returnsPagedResponse() {\n        ResponseEntity&lt;PagedResponse&lt;TripListDTO&gt;&gt; response = \n            restTemplate.exchange(\n                \"/api/v1/trips\",\n                HttpMethod.GET,\n                null,\n                new ParameterizedTypeReference&lt;&gt;() {}\n            );\n\n        assertEquals(HttpStatus.OK, response.getStatusCode());\n        assertNotNull(response.getBody().getData());\n    }\n}\n</code></pre>"},{"location":"testing/integration-tests/#database-tests","title":"Database Tests","text":"<pre><code>@DataJpaTest\nclass TripRepositoryIT {\n\n    @Autowired TripRepository tripRepository;\n\n    @Test\n    void findBySlug_returnsTrip() {\n        Trip trip = Trip.builder().slug(\"test-trip\").build();\n        tripRepository.save(trip);\n\n        Optional&lt;Trip&gt; found = tripRepository.findBySlug(\"test-trip\");\n\n        assertTrue(found.isPresent());\n    }\n}\n</code></pre>"},{"location":"testing/qa-checklist/","title":"QA Checklist","text":""},{"location":"testing/qa-checklist/#pre-release-checklist","title":"Pre-Release Checklist","text":""},{"location":"testing/qa-checklist/#functional-testing","title":"Functional Testing","text":"<ul> <li> All user flows work correctly</li> <li> Booking can be completed end-to-end</li> <li> Payment processing works (test mode)</li> <li> Email notifications are sent</li> <li> Admin functions work correctly</li> <li> Search and filtering work</li> <li> Pagination works on all lists</li> </ul>"},{"location":"testing/qa-checklist/#cross-browser-testing","title":"Cross-Browser Testing","text":"<ul> <li> Chrome (latest)</li> <li> Firefox (latest)</li> <li> Safari (latest)</li> <li> Edge (latest)</li> </ul>"},{"location":"testing/qa-checklist/#mobile-testing","title":"Mobile Testing","text":"<ul> <li> iOS Safari</li> <li> Android Chrome</li> <li> Responsive layouts work</li> <li> Touch interactions work</li> </ul>"},{"location":"testing/qa-checklist/#i18n-testing","title":"i18n Testing","text":"<ul> <li> English content displays</li> <li> Spanish content displays</li> <li> Arabic content displays (RTL)</li> <li> RTL layout is correct</li> <li> Date/number formatting correct</li> </ul>"},{"location":"testing/qa-checklist/#accessibility","title":"Accessibility","text":"<ul> <li> Keyboard navigation works</li> <li> Screen reader compatible</li> <li> Color contrast sufficient</li> <li> ARIA labels present</li> </ul>"},{"location":"testing/qa-checklist/#performance","title":"Performance","text":"<ul> <li> Page load &lt; 3s</li> <li> Images optimized</li> <li> Core Web Vitals pass</li> </ul>"},{"location":"testing/unit-tests/","title":"Unit Testing","text":""},{"location":"testing/unit-tests/#frontend","title":"Frontend","text":""},{"location":"testing/unit-tests/#component-testing","title":"Component Testing","text":"<pre><code>// TripCard.test.jsx\nimport { render, screen } from '@testing-library/react';\nimport { TripCard } from './TripCard';\n\ndescribe('TripCard', () =&gt; {\n  const mockTrip = {\n    slug: 'pyramids-tour',\n    title: 'Pyramids Day Tour',\n    price: 89,\n    rating: 4.8,\n  };\n\n  it('renders trip title', () =&gt; {\n    render(&lt;TripCard trip={mockTrip} /&gt;);\n    expect(screen.getByText('Pyramids Day Tour')).toBeInTheDocument();\n  });\n\n  it('displays price correctly', () =&gt; {\n    render(&lt;TripCard trip={mockTrip} /&gt;);\n    expect(screen.getByText('$89')).toBeInTheDocument();\n  });\n});\n</code></pre>"},{"location":"testing/unit-tests/#store-testing","title":"Store Testing","text":"<pre><code>// stores/bookingStore.test.js\nimport { useBookingStore } from './bookingStore';\n\ndescribe('bookingStore', () =&gt; {\n  it('sets travel date', () =&gt; {\n    const { setDate } = useBookingStore.getState();\n    setDate('2026-03-15');\n    expect(useBookingStore.getState().date).toBe('2026-03-15');\n  });\n});\n</code></pre>"},{"location":"testing/unit-tests/#backend","title":"Backend","text":""},{"location":"testing/unit-tests/#service-testing","title":"Service Testing","text":"<pre><code>@ExtendWith(MockitoExtension.class)\nclass TripServiceTest {\n\n    @Mock TripRepository tripRepository;\n    @Mock TripMapper tripMapper;\n    @InjectMocks TripServiceImpl tripService;\n\n    @Test\n    void findBySlug_returnsTrip() {\n        Trip trip = new Trip();\n        trip.setSlug(\"pyramids-tour\");\n\n        when(tripRepository.findBySlugAndStatus(eq(\"pyramids-tour\"), any()))\n            .thenReturn(Optional.of(trip));\n        when(tripMapper.toDTO(trip)).thenReturn(new TripDTO());\n\n        TripDTO result = tripService.findBySlug(\"pyramids-tour\");\n\n        assertNotNull(result);\n        verify(tripRepository).findBySlugAndStatus(\"pyramids-tour\", TripStatus.PUBLISHED);\n    }\n}\n</code></pre>"},{"location":"ux/","title":"UX Design Documentation","text":"<p>This section covers user experience design including flows, wireframes, and access control.</p>"},{"location":"ux/#contents","title":"Contents","text":"Document Description User Flows Core user interaction flows Booking Flow Detailed booking process design Roles &amp; Permissions RBAC matrix and enforcement"},{"location":"ux/#design-principles","title":"Design Principles","text":"<ol> <li>Mobile-first \u2014 Responsive design starting from mobile</li> <li>Clarity \u2014 Clear CTAs and navigation</li> <li>Trust \u2014 Transparent pricing and policies</li> <li>Speed \u2014 Fast loading and interactions</li> <li>Accessibility \u2014 WCAG 2.1 AA compliance</li> </ol>"},{"location":"ux/#key-user-flows","title":"Key User Flows","text":"<pre><code>flowchart LR\n    A[Homepage] --&gt; B[Browse Trips]\n    B --&gt; C[Trip Details]\n    C --&gt; D[Booking]\n    D --&gt; E[Payment]\n    E --&gt; F[Confirmation]\n\n    A --&gt; G[Search]\n    G --&gt; C\n\n    A --&gt; H[AI Chat]\n    H --&gt; C</code></pre>"},{"location":"ux/booking-flow/","title":"Booking Flow","text":""},{"location":"ux/booking-flow/#overview","title":"Overview","text":"<p>The booking process supports two modes:</p> <ul> <li>Instant Booking \u2014 Immediate confirmation</li> <li>Request-to-Book \u2014 Admin confirmation required</li> </ul>"},{"location":"ux/booking-flow/#booking-flow-diagram","title":"Booking Flow Diagram","text":"<pre><code>flowchart TD\n    A[Trip Details Page] --&gt; B[Select Date]\n    B --&gt; C[Select Travelers]\n    C --&gt; D[Select Options/Add-ons]\n    D --&gt; E[Review Summary]\n\n    E --&gt; F{Logged In?}\n    F --&gt;|No| G[Login/Register Modal]\n    G --&gt; F\n    F --&gt;|Yes| H[Enter Traveler Details]\n\n    H --&gt; I[Review Booking]\n    I --&gt; J{Booking Mode}\n\n    J --&gt;|Instant| K[Payment Page]\n    J --&gt;|Request| L[Submit Request]\n\n    K --&gt; M{Payment Option}\n    M --&gt;|Deposit| N[Pay Deposit]\n    M --&gt;|Full| O[Pay Full Amount]\n\n    N --&gt; P[Process Payment]\n    O --&gt; P\n\n    P --&gt; Q{Payment Success?}\n    Q --&gt;|Yes| R[Booking Confirmed]\n    Q --&gt;|No| S[Payment Failed]\n    S --&gt; K\n\n    L --&gt; T[Request Submitted]\n    T --&gt; U[Admin Review]\n    U --&gt; V{Approve?}\n    V --&gt;|Yes| W[Proceed to Payment]\n    V --&gt;|No| X[Request Declined]\n    W --&gt; K\n\n    R --&gt; Y[Confirmation Email]\n    R --&gt; Z[Dashboard Updated]</code></pre>"},{"location":"ux/booking-flow/#step-by-step-breakdown","title":"Step-by-Step Breakdown","text":""},{"location":"ux/booking-flow/#step-1-date-selection","title":"Step 1: Date Selection","text":"Element Details Calendar Show available dates Pricing Update based on selected date Availability Real-time check <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Select Your Travel Date        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  \u25c0 February 2026 \u25b6              \u2502\n\u2502  Su Mo Tu We Th Fr Sa           \u2502\n\u2502     1  2  3  4  5  6            \u2502\n\u2502  7  8  9 10 11 12 13            \u2502\n\u2502  14 15 [16] 17 18 19 20         \u2502\n\u2502  21 22 23 24 25 26 27           \u2502\n\u2502  28                              \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Selected: Feb 16, 2026         \u2502\n\u2502  Price: $599/person             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"ux/booking-flow/#step-2-traveler-selection","title":"Step 2: Traveler Selection","text":"Field Type Validation Adults Counter Min 1, Max 20 Children Counter Min 0, Max 10 Infants Counter Min 0, Max 5"},{"location":"ux/booking-flow/#step-3-optionsadd-ons","title":"Step 3: Options/Add-ons","text":"Add-on Price Description Private Guide +$100 Dedicated guide Photography +$50 Professional photos Airport Transfer +$30 Round-trip"},{"location":"ux/booking-flow/#step-4-traveler-details","title":"Step 4: Traveler Details","text":"Field Required Validation First Name Yes 2-50 chars Last Name Yes 2-50 chars Email Yes Valid email Phone Yes Valid phone Nationality Yes Dropdown Passport Number No Alphanumeric Special Requests No Free text"},{"location":"ux/booking-flow/#step-5-payment","title":"Step 5: Payment","text":""},{"location":"ux/booking-flow/#payment-options","title":"Payment Options","text":"Option Description Rules Deposit Pay 30% now Balance due 7 days before Full Payment Pay 100% now Immediate confirmation"},{"location":"ux/booking-flow/#payment-methods","title":"Payment Methods","text":"Method Provider Supported Credit Card Stripe \u2705 Debit Card Stripe \u2705 PayPal PayPal Phase 2"},{"location":"ux/booking-flow/#state-management","title":"State Management","text":"<pre><code>stateDiagram-v2\n    [*] --&gt; Draft: Start Booking\n    Draft --&gt; DateSelected: Select Date\n    DateSelected --&gt; TravelersSet: Set Travelers\n    TravelersSet --&gt; OptionsSelected: Add Options\n    OptionsSelected --&gt; DetailsEntered: Enter Details\n    DetailsEntered --&gt; PendingPayment: Submit\n\n    PendingPayment --&gt; Confirmed: Payment Success\n    PendingPayment --&gt; Failed: Payment Failed\n    Failed --&gt; PendingPayment: Retry\n\n    Confirmed --&gt; [*]</code></pre>"},{"location":"ux/booking-flow/#booking-states","title":"Booking States","text":"State Description Next Actions <code>DRAFT</code> Booking started Continue/Abandon <code>PENDING_PAYMENT</code> Awaiting payment Pay/Cancel <code>PENDING_CONFIRMATION</code> Request mode - awaiting admin Admin reviews <code>CONFIRMED</code> Payment received View/Modify <code>CANCELLED</code> Cancelled by user/admin Refund processing <code>COMPLETED</code> Trip completed Leave review <code>REFUNDED</code> Refund processed \u2014"},{"location":"ux/booking-flow/#cancellation-policy","title":"Cancellation Policy","text":"Timing Refund 30+ days before 100% 15-29 days before 75% 7-14 days before 50% &lt; 7 days No refund"},{"location":"ux/booking-flow/#email-notifications","title":"Email Notifications","text":"Trigger Email Type Recipient Booking confirmed Confirmation Customer Payment received Receipt Customer Booking request submitted New request Admin Booking cancelled Cancellation Customer + Admin Balance due reminder Payment reminder Customer Trip tomorrow Reminder Customer"},{"location":"ux/booking-flow/#error-handling","title":"Error Handling","text":"Error User Message Recovery Date unavailable \"This date is no longer available\" Select new date Payment declined \"Payment was declined\" Try different method Session expired \"Please login again\" Re-login, preserve cart Network error \"Connection lost\" Retry with saved state"},{"location":"ux/roles-permissions/","title":"Roles &amp; Permissions","text":""},{"location":"ux/roles-permissions/#overview","title":"Overview","text":"<p>The platform implements Role-Based Access Control (RBAC) with the following roles.</p>"},{"location":"ux/roles-permissions/#role-definitions","title":"Role Definitions","text":""},{"location":"ux/roles-permissions/#guest","title":"Guest","text":"<ul> <li>Unauthenticated user</li> <li>Browse-only access</li> </ul>"},{"location":"ux/roles-permissions/#customer","title":"Customer","text":"<ul> <li>Registered user</li> <li>Can make bookings and manage account</li> </ul>"},{"location":"ux/roles-permissions/#admin","title":"Admin","text":"<ul> <li>Full system access</li> <li>User management</li> <li>System configuration</li> </ul>"},{"location":"ux/roles-permissions/#editor-content-manager","title":"Editor / Content Manager","text":"<ul> <li>Content creation and editing</li> <li>Blog, vlog, destination management</li> <li>Translation workflow</li> </ul>"},{"location":"ux/roles-permissions/#booking-agent-operations","title":"Booking Agent / Operations","text":"<ul> <li>Booking management</li> <li>Customer communication</li> <li>Availability management</li> </ul>"},{"location":"ux/roles-permissions/#support-agent","title":"Support Agent","text":"<ul> <li>Support ticket handling</li> <li>Customer inquiries</li> <li>Limited booking access</li> </ul>"},{"location":"ux/roles-permissions/#rbac-matrix","title":"RBAC Matrix","text":""},{"location":"ux/roles-permissions/#public-website","title":"Public Website","text":"Action Guest Customer Admin View trips \u2705 \u2705 \u2705 View trip details \u2705 \u2705 \u2705 View blog/vlogs \u2705 \u2705 \u2705 Search \u2705 \u2705 \u2705 Use AI chat \u2705 \u2705 \u2705 Add to wishlist \u274c \u2705 \u2705 Start booking \u274c \u2705 \u2705 Submit contact form \u2705 \u2705 \u2705"},{"location":"ux/roles-permissions/#booking-payments","title":"Booking &amp; Payments","text":"Action Guest Customer Agent Admin Make booking \u274c \u2705 \u2705 \u2705 View own bookings \u274c \u2705 \u274c \u2705 View all bookings \u274c \u274c \u2705 \u2705 Cancel own booking \u274c \u2705 \u274c \u2705 Cancel any booking \u274c \u274c \u2705 \u2705 Process refunds \u274c \u274c \u2705 \u2705 Modify bookings \u274c \u274c \u2705 \u2705"},{"location":"ux/roles-permissions/#customer-portal","title":"Customer Portal","text":"Action Guest Customer Support Admin View dashboard \u274c \u2705 \u274c \u2705 Update profile \u274c \u2705 \u274c \u2705 Download invoices \u274c \u2705 \u274c \u2705 Create support ticket \u274c \u2705 \u274c \u2705 View own tickets \u274c \u2705 \u274c \u2705 Reply to own tickets \u274c \u2705 \u274c \u2705"},{"location":"ux/roles-permissions/#content-management","title":"Content Management","text":"Action Guest Customer Editor Admin View content \u2705 \u2705 \u2705 \u2705 Create blog posts \u274c \u274c \u2705 \u2705 Edit blog posts \u274c \u274c \u2705 \u2705 Delete blog posts \u274c \u274c \u2705 \u2705 Manage destinations \u274c \u274c \u2705 \u2705 Upload media \u274c \u274c \u2705 \u2705 Manage translations \u274c \u274c \u2705 \u2705"},{"location":"ux/roles-permissions/#trip-management","title":"Trip Management","text":"Action Agent Editor Admin View trips \u2705 \u2705 \u2705 Create trips \u274c \u2705 \u2705 Edit trips \u274c \u2705 \u2705 Delete trips \u274c \u274c \u2705 Manage availability \u2705 \u274c \u2705 Set pricing rules \u274c \u274c \u2705"},{"location":"ux/roles-permissions/#support-operations","title":"Support Operations","text":"Action Customer Support Admin View all tickets \u274c \u2705 \u2705 Respond to tickets Own only \u2705 \u2705 Close tickets \u274c \u2705 \u2705 Escalate tickets \u274c \u2705 \u2705 View customer info \u274c \u2705 \u2705"},{"location":"ux/roles-permissions/#administration","title":"Administration","text":"Action Agent Editor Support Admin View analytics Limited Limited \u274c \u2705 Manage users \u274c \u274c \u274c \u2705 Assign roles \u274c \u274c \u274c \u2705 View audit logs \u274c \u274c \u274c \u2705 System settings \u274c \u274c \u274c \u2705"},{"location":"ux/roles-permissions/#enforcement-points","title":"Enforcement Points","text":""},{"location":"ux/roles-permissions/#frontend-react","title":"Frontend (React)","text":"<pre><code>// Route guards based on role\nconst ProtectedRoute = ({ \n  children, \n  requiredRoles \n}: { \n  children: ReactNode, \n  requiredRoles: Role[] \n}) =&gt; {\n  const { user } = useAuth();\n\n  if (!user) {\n    return &lt;Navigate to=\"/login\" /&gt;;\n  }\n\n  if (!requiredRoles.includes(user.role)) {\n    return &lt;Navigate to=\"/unauthorized\" /&gt;;\n  }\n\n  return children;\n};\n\n// Usage\n&lt;Route \n  path=\"/admin/bookings\" \n  element={\n    &lt;ProtectedRoute requiredRoles={['ADMIN', 'BOOKING_AGENT']}&gt;\n      &lt;BookingsPage /&gt;\n    &lt;/ProtectedRoute&gt;\n  } \n/&gt;\n</code></pre>"},{"location":"ux/roles-permissions/#backend-spring-boot","title":"Backend (Spring Boot)","text":"<pre><code>// Method-level security\n@PreAuthorize(\"hasRole('ADMIN')\")\n@DeleteMapping(\"/api/trips/{id}\")\npublic ResponseEntity&lt;Void&gt; deleteTrip(@PathVariable Long id) {\n    tripService.delete(id);\n    return ResponseEntity.noContent().build();\n}\n\n// Multiple roles\n@PreAuthorize(\"hasAnyRole('ADMIN', 'BOOKING_AGENT')\")\n@GetMapping(\"/api/bookings\")\npublic ResponseEntity&lt;Page&lt;BookingDTO&gt;&gt; getAllBookings(...) { ... }\n\n// Custom permission check\n@PreAuthorize(\"@bookingPermissions.canAccess(#id)\")\n@GetMapping(\"/api/bookings/{id}\")\npublic ResponseEntity&lt;BookingDTO&gt; getBooking(@PathVariable Long id) { ... }\n</code></pre>"},{"location":"ux/roles-permissions/#role-hierarchy","title":"Role Hierarchy","text":"<pre><code>graph TD\n    A[Admin] --&gt; B[Editor]\n    A --&gt; C[Booking Agent]\n    A --&gt; D[Support Agent]\n    B --&gt; E[Customer]\n    C --&gt; E\n    D --&gt; E\n    E --&gt; F[Guest]</code></pre>"},{"location":"ux/roles-permissions/#permission-inheritance","title":"Permission Inheritance","text":"Role Inherits From Admin All roles Editor Customer Booking Agent Customer Support Agent Customer Customer Guest Guest None"},{"location":"ux/roles-permissions/#jwt-token-structure","title":"JWT Token Structure","text":"<pre><code>{\n  \"sub\": \"user@example.com\",\n  \"userId\": 12345,\n  \"roles\": [\"CUSTOMER\"],\n  \"permissions\": [\n    \"booking:create\",\n    \"booking:read:own\",\n    \"profile:update\"\n  ],\n  \"iat\": 1707000000,\n  \"exp\": 1707003600\n}\n</code></pre>"},{"location":"ux/roles-permissions/#role-assignment-rules","title":"Role Assignment Rules","text":"Rule Description Default role New users get <code>CUSTOMER</code> role Role changes Admin only Multiple roles Supported Role history Audit logged"},{"location":"ux/user-flows/","title":"User Flows","text":""},{"location":"ux/user-flows/#overview","title":"Overview","text":"<p>This document defines the primary user flows through the Egypt Tours Platform.</p>"},{"location":"ux/user-flows/#flow-1-trip-discovery","title":"Flow 1: Trip Discovery","text":"<pre><code>flowchart TD\n    A[User lands on Homepage] --&gt; B{Browse or Search?}\n    B --&gt;|Browse| C[View Trip Listings]\n    B --&gt;|Search| D[Enter Search Query]\n\n    C --&gt; E[Apply Filters]\n    E --&gt; F[View Filtered Results]\n    D --&gt; F\n\n    F --&gt; G[Click Trip Card]\n    G --&gt; H[View Trip Details]\n\n    H --&gt; I{Interested?}\n    I --&gt;|Yes| J[Start Booking]\n    I --&gt;|Maybe| K[Add to Wishlist]\n    I --&gt;|No| F\n\n    K --&gt; L[Login Required?]\n    L --&gt;|Yes| M[Login/Register]\n    M --&gt; K\n    L --&gt;|No| N[Saved to Wishlist]</code></pre>"},{"location":"ux/user-flows/#key-states","title":"Key States","text":"State Description Actions Available Listings Grid/list of trips Filter, sort, paginate Trip Card Preview card View details, quick wishlist Trip Details Full information Book, wishlist, share"},{"location":"ux/user-flows/#flow-2-user-registration","title":"Flow 2: User Registration","text":"<pre><code>flowchart TD\n    A[Click Register] --&gt; B[Registration Form]\n    B --&gt; C[Enter Email/Password]\n    C --&gt; D[Accept Terms]\n    D --&gt; E[Submit]\n    E --&gt; F{Validation}\n\n    F --&gt;|Valid| G[Send Verification Email]\n    F --&gt;|Invalid| H[Show Errors]\n    H --&gt; B\n\n    G --&gt; I[Check Email]\n    I --&gt; J[Click Verification Link]\n    J --&gt; K[Account Activated]\n    K --&gt; L[Redirect to Dashboard]</code></pre>"},{"location":"ux/user-flows/#alternative-social-login","title":"Alternative: Social Login","text":"<pre><code>flowchart TD\n    A[Click Social Login] --&gt; B{Provider}\n    B --&gt;|Google| C[Google OAuth]\n    B --&gt;|Facebook| D[Facebook OAuth]\n\n    C --&gt; E[Authorize]\n    D --&gt; E\n\n    E --&gt; F{Existing Account?}\n    F --&gt;|Yes| G[Login &amp; Redirect]\n    F --&gt;|No| H[Create Account]\n    H --&gt; G</code></pre>"},{"location":"ux/user-flows/#flow-3-customer-portal","title":"Flow 3: Customer Portal","text":"<pre><code>flowchart TD\n    A[Login] --&gt; B[Dashboard]\n\n    B --&gt; C[My Bookings]\n    B --&gt; D[My Profile]\n    B --&gt; E[My Wishlist]\n    B --&gt; F[Support Tickets]\n\n    C --&gt; G[Booking Details]\n    G --&gt; H[Download Invoice]\n    G --&gt; I[Request Cancellation]\n    G --&gt; J[View Itinerary]\n\n    F --&gt; K[View Ticket]\n    K --&gt; L[Reply to Ticket]\n    F --&gt; M[Create New Ticket]</code></pre>"},{"location":"ux/user-flows/#flow-4-content-consumption","title":"Flow 4: Content Consumption","text":"<pre><code>flowchart TD\n    A[Homepage] --&gt; B{Content Type}\n    B --&gt;|Blog| C[Blog Listing]\n    B --&gt;|Vlogs| D[Vlog Gallery]\n    B --&gt;|Destinations| E[Destination Pages]\n\n    C --&gt; F[Article Detail]\n    F --&gt; G[Related Trips CTA]\n    G --&gt; H[Trip Details]\n\n    D --&gt; I[Video Player]\n    I --&gt; G\n\n    E --&gt; J[Destination Info]\n    J --&gt; K[Trips in Destination]\n    K --&gt; H</code></pre>"},{"location":"ux/user-flows/#flow-5-ai-assistant","title":"Flow 5: AI Assistant","text":"<pre><code>flowchart TD\n    A[Click Chat Widget] --&gt; B[Chat Opens]\n    B --&gt; C[User Types Question]\n    C --&gt; D[AI Processes]\n\n    D --&gt; E{Query Type}\n    E --&gt;|Trip Search| F[Search Trips Tool]\n    E --&gt;|FAQ| G[RAG Knowledge Base]\n    E --&gt;|Booking Status| H{Authenticated?}\n    E --&gt;|General| I[General Response]\n\n    F --&gt; J[Show Trip Cards]\n    J --&gt; K[User Clicks Trip]\n    K --&gt; L[Navigate to Trip]\n\n    G --&gt; M[Show Answer]\n\n    H --&gt;|Yes| N[Fetch Status Tool]\n    H --&gt;|No| O[Request Login]\n    N --&gt; P[Show Booking Info]</code></pre>"},{"location":"ux/user-flows/#flow-6-contactlead","title":"Flow 6: Contact/Lead","text":"<pre><code>flowchart TD\n    A[Contact Page] --&gt; B[Contact Form]\n    B --&gt; C[Enter Details]\n    C --&gt; D[Select Inquiry Type]\n    D --&gt; E[Submit]\n    E --&gt; F[Thank You Message]\n    F --&gt; G[Email Notification to Team]\n\n    A --&gt; H[WhatsApp CTA]\n    H --&gt; I[Open WhatsApp]</code></pre>"},{"location":"ux/user-flows/#error-handling-flows","title":"Error Handling Flows","text":""},{"location":"ux/user-flows/#404-page","title":"404 Page","text":"<pre><code>flowchart TD\n    A[Invalid URL] --&gt; B[404 Page]\n    B --&gt; C[Search Box]\n    B --&gt; D[Popular Trips]\n    B --&gt; E[Homepage Link]</code></pre>"},{"location":"ux/user-flows/#session-expired","title":"Session Expired","text":"<pre><code>flowchart TD\n    A[API Returns 401] --&gt; B[Show Login Modal]\n    B --&gt; C[Re-login]\n    C --&gt; D[Restore Previous State]</code></pre>"}]}