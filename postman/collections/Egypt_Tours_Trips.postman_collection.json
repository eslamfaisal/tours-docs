{
     "info": {
          "_postman_id": "trips-collection-001",
          "name": "Egypt Tours - Trips",
          "description": "Trip endpoints for browsing and viewing tour packages.\n\nSource: docs/api/trips.md",
          "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
     },
     "item": [
          {
               "name": "List Trips",
               "request": {
                    "method": "GET",
                    "url": {
                         "raw": "{{baseUrl}}/trips?page=1&pageSize=20&sort=rating&order=desc",
                         "host": [
                              "{{baseUrl}}"
                         ],
                         "path": [
                              "trips"
                         ],
                         "query": [
                              {
                                   "key": "destination",
                                   "value": "",
                                   "disabled": true,
                                   "description": "Filter by destination slug"
                              },
                              {
                                   "key": "type",
                                   "value": "",
                                   "disabled": true,
                                   "description": "PACKAGE, DAY_TOUR, CRUISE"
                              },
                              {
                                   "key": "minDuration",
                                   "value": "",
                                   "disabled": true,
                                   "description": "Minimum days"
                              },
                              {
                                   "key": "maxDuration",
                                   "value": "",
                                   "disabled": true,
                                   "description": "Maximum days"
                              },
                              {
                                   "key": "minPrice",
                                   "value": "",
                                   "disabled": true,
                                   "description": "Minimum price"
                              },
                              {
                                   "key": "maxPrice",
                                   "value": "",
                                   "disabled": true,
                                   "description": "Maximum price"
                              },
                              {
                                   "key": "minRating",
                                   "value": "",
                                   "disabled": true,
                                   "description": "Minimum rating 1-5"
                              },
                              {
                                   "key": "sort",
                                   "value": "rating",
                                   "description": "price, rating, duration, popularity"
                              },
                              {
                                   "key": "order",
                                   "value": "desc",
                                   "description": "asc, desc"
                              },
                              {
                                   "key": "page",
                                   "value": "1"
                              },
                              {
                                   "key": "pageSize",
                                   "value": "20",
                                   "description": "max 50"
                              },
                              {
                                   "key": "locale",
                                   "value": "",
                                   "disabled": true,
                                   "description": "en, es, ar"
                              }
                         ]
                    },
                    "description": "Get paginated list of trips with filters.\n\nSource: docs/api/trips.md → GET /trips"
               },
               "response": [
                    {
                         "name": "Success - 200",
                         "status": "OK",
                         "code": 200,
                         "body": "{\n  \"success\": true,\n  \"data\": [\n    {\n      \"id\": 1,\n      \"slug\": \"pyramids-day-tour\",\n      \"title\": \"Pyramids of Giza Day Tour\",\n      \"shortDescription\": \"Explore the ancient wonders...\",\n      \"thumbnail\": \"https://cdn.egypttours.com/trips/pyramids-thumb.jpg\",\n      \"destination\": {\n        \"slug\": \"cairo\",\n        \"name\": \"Cairo\"\n      },\n      \"duration\": 1,\n      \"tripType\": \"DAY_TOUR\",\n      \"price\": 89.00,\n      \"rating\": 4.8,\n      \"reviewCount\": 156,\n      \"bookingMode\": \"INSTANT\"\n    }\n  ],\n  \"pagination\": {\n    \"page\": 1,\n    \"pageSize\": 20,\n    \"totalItems\": 45,\n    \"totalPages\": 3\n  }\n}"
                    }
               ],
               "event": [
                    {
                         "listen": "test",
                         "script": {
                              "type": "text/javascript",
                              "exec": [
                                   "pm.test('Status code is 200', function () {",
                                   "    pm.response.to.have.status(200);",
                                   "});",
                                   "",
                                   "pm.test('Response has data array', function () {",
                                   "    var jsonData = pm.response.json();",
                                   "    pm.expect(jsonData.data).to.be.an('array');",
                                   "});",
                                   "",
                                   "pm.test('Response has pagination', function () {",
                                   "    var jsonData = pm.response.json();",
                                   "    pm.expect(jsonData.pagination).to.have.property('page');",
                                   "    pm.expect(jsonData.pagination).to.have.property('totalItems');",
                                   "});"
                              ]
                         }
                    }
               ]
          },
          {
               "name": "Get Trip Details",
               "request": {
                    "method": "GET",
                    "url": {
                         "raw": "{{baseUrl}}/trips/pyramids-day-tour",
                         "host": [
                              "{{baseUrl}}"
                         ],
                         "path": [
                              "trips",
                              "pyramids-day-tour"
                         ]
                    },
                    "description": "Get full trip details by slug.\n\nSource: docs/api/trips.md → GET /trips/{slug}"
               },
               "response": [
                    {
                         "name": "Success - 200",
                         "status": "OK",
                         "code": 200,
                         "body": "{\n  \"success\": true,\n  \"data\": {\n    \"id\": 1,\n    \"slug\": \"pyramids-day-tour\",\n    \"title\": \"Pyramids of Giza Day Tour\",\n    \"description\": \"Full markdown description...\",\n    \"shortDescription\": \"Explore the ancient wonders...\",\n    \"destination\": {\n      \"slug\": \"cairo\",\n      \"name\": \"Cairo\",\n      \"country\": \"Egypt\"\n    },\n    \"duration\": 1,\n    \"tripType\": \"DAY_TOUR\",\n    \"bookingMode\": \"INSTANT\",\n    \"maxCapacity\": 20,\n    \"pricing\": {\n      \"basePrice\": 89.00,\n      \"childPrice\": 45.00,\n      \"currency\": \"USD\"\n    },\n    \"images\": [\n      { \"url\": \"https://cdn.egypttours.com/trips/pyramids-1.jpg\", \"alt\": \"Pyramids view\" }\n    ],\n    \"itinerary\": [\n      { \"time\": \"08:00\", \"title\": \"Hotel Pickup\", \"description\": \"...\" }\n    ],\n    \"included\": [\"Transport\", \"Guide\", \"Lunch\"],\n    \"excluded\": [\"Tips\", \"Personal expenses\"],\n    \"rating\": 4.8,\n    \"reviewCount\": 156,\n    \"relatedTrips\": [\n      { \"slug\": \"luxor-day-trip\", \"title\": \"Luxor Day Trip\" }\n    ],\n    \"updatedAt\": \"2026-01-15T10:00:00Z\"\n  }\n}"
                    },
                    {
                         "name": "Error - Not Found",
                         "status": "Not Found",
                         "code": 404,
                         "body": "{\n  \"success\": false,\n  \"error\": {\n    \"code\": \"NOT_FOUND\",\n    \"message\": \"Trip not found\"\n  }\n}"
                    }
               ],
               "event": [
                    {
                         "listen": "test",
                         "script": {
                              "type": "text/javascript",
                              "exec": [
                                   "pm.test('Status code is 200', function () {",
                                   "    pm.response.to.have.status(200);",
                                   "});",
                                   "",
                                   "pm.test('Trip has required fields', function () {",
                                   "    var jsonData = pm.response.json();",
                                   "    pm.expect(jsonData.data).to.have.property('slug');",
                                   "    pm.expect(jsonData.data).to.have.property('title');",
                                   "    pm.expect(jsonData.data).to.have.property('pricing');",
                                   "});"
                              ]
                         }
                    }
               ]
          },
          {
               "name": "Get Trip Reviews",
               "request": {
                    "method": "GET",
                    "url": {
                         "raw": "{{baseUrl}}/trips/pyramids-day-tour/reviews?sort=recent&page=1",
                         "host": [
                              "{{baseUrl}}"
                         ],
                         "path": [
                              "trips",
                              "pyramids-day-tour",
                              "reviews"
                         ],
                         "query": [
                              {
                                   "key": "sort",
                                   "value": "recent",
                                   "description": "recent, rating"
                              },
                              {
                                   "key": "rating",
                                   "value": "",
                                   "disabled": true,
                                   "description": "Filter by rating 1-5"
                              },
                              {
                                   "key": "page",
                                   "value": "1"
                              }
                         ]
                    },
                    "description": "Get reviews for a specific trip.\n\nSource: docs/api/trips.md → GET /trips/{slug}/reviews"
               },
               "response": [
                    {
                         "name": "Success - 200",
                         "status": "OK",
                         "code": 200,
                         "body": "{\n  \"success\": true,\n  \"data\": [\n    {\n      \"id\": 101,\n      \"rating\": 5,\n      \"comment\": \"Amazing experience! Our guide was fantastic...\",\n      \"author\": {\n        \"firstName\": \"Sarah\",\n        \"lastName\": \"M.\"\n      },\n      \"verified\": true,\n      \"createdAt\": \"2026-01-20T14:30:00Z\",\n      \"response\": {\n        \"comment\": \"Thank you for your kind words!\",\n        \"respondedAt\": \"2026-01-21T09:00:00Z\"\n      }\n    }\n  ]\n}"
                    }
               ],
               "event": [
                    {
                         "listen": "test",
                         "script": {
                              "type": "text/javascript",
                              "exec": [
                                   "pm.test('Status code is 200', function () {",
                                   "    pm.response.to.have.status(200);",
                                   "});",
                                   "",
                                   "pm.test('Reviews have rating', function () {",
                                   "    var jsonData = pm.response.json();",
                                   "    if (jsonData.data.length > 0) {",
                                   "        pm.expect(jsonData.data[0]).to.have.property('rating');",
                                   "    }",
                                   "});"
                              ]
                         }
                    }
               ]
          },
          {
               "name": "Check Availability",
               "request": {
                    "method": "GET",
                    "url": {
                         "raw": "{{baseUrl}}/trips/pyramids-day-tour/availability?from=2026-03-01&to=2026-03-31",
                         "host": [
                              "{{baseUrl}}"
                         ],
                         "path": [
                              "trips",
                              "pyramids-day-tour",
                              "availability"
                         ],
                         "query": [
                              {
                                   "key": "from",
                                   "value": "2026-03-01",
                                   "description": "Start date YYYY-MM-DD"
                              },
                              {
                                   "key": "to",
                                   "value": "2026-03-31",
                                   "description": "End date YYYY-MM-DD"
                              }
                         ]
                    },
                    "description": "Check trip availability for date range.\n\nSource: docs/api/trips.md → GET /trips/{slug}/availability"
               },
               "response": [
                    {
                         "name": "Success - 200",
                         "status": "OK",
                         "code": 200,
                         "body": "{\n  \"success\": true,\n  \"data\": {\n    \"available\": [\n      { \"date\": \"2026-03-01\", \"spots\": 15, \"price\": 89.00 },\n      { \"date\": \"2026-03-02\", \"spots\": 20, \"price\": 89.00 }\n    ],\n    \"unavailable\": [\n      { \"date\": \"2026-03-05\", \"reason\": \"SOLD_OUT\" }\n    ]\n  }\n}"
                    }
               ],
               "event": [
                    {
                         "listen": "test",
                         "script": {
                              "type": "text/javascript",
                              "exec": [
                                   "pm.test('Status code is 200', function () {",
                                   "    pm.response.to.have.status(200);",
                                   "});",
                                   "",
                                   "pm.test('Response has available dates', function () {",
                                   "    var jsonData = pm.response.json();",
                                   "    pm.expect(jsonData.data).to.have.property('available');",
                                   "});"
                              ]
                         }
                    }
               ]
          },
          {
               "name": "Search Trips",
               "request": {
                    "method": "GET",
                    "url": {
                         "raw": "{{baseUrl}}/search?q=pyramids&type=trips",
                         "host": [
                              "{{baseUrl}}"
                         ],
                         "path": [
                              "search"
                         ],
                         "query": [
                              {
                                   "key": "q",
                                   "value": "pyramids",
                                   "description": "Search query"
                              },
                              {
                                   "key": "type",
                                   "value": "trips",
                                   "description": "trips, blog, destinations"
                              }
                         ]
                    },
                    "description": "Global search filtered to trips.\n\nSource: docs/api/content.md → GET /search"
               },
               "response": [
                    {
                         "name": "Success - 200",
                         "status": "OK",
                         "code": 200,
                         "body": "{\n  \"success\": true,\n  \"data\": {\n    \"trips\": [\n      {\n        \"slug\": \"pyramids-day-tour\",\n        \"title\": \"Pyramids of Giza Day Tour\",\n        \"thumbnail\": \"...\",\n        \"price\": 89.00\n      }\n    ]\n  }\n}"
                    }
               ]
          }
     ]
}