{
     "info": {
          "_postman_id": "users-collection-001",
          "name": "Egypt Tours - Users & Account",
          "description": "User profile and account management endpoints.\n\nSource: docs/api/users.md",
          "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
     },
     "auth": {
          "type": "bearer",
          "bearer": [
               {
                    "key": "token",
                    "value": "{{accessToken}}",
                    "type": "string"
               }
          ]
     },
     "item": [
          {
               "name": "Profile",
               "item": [
                    {
                         "name": "Get Profile",
                         "request": {
                              "method": "GET",
                              "url": {
                                   "raw": "{{baseUrl}}/account/profile",
                                   "host": [
                                        "{{baseUrl}}"
                                   ],
                                   "path": [
                                        "account",
                                        "profile"
                                   ]
                              },
                              "description": "Get current user's profile.\n\nSource: docs/api/users.md → GET /account/profile"
                         },
                         "response": [
                              {
                                   "name": "Success - 200",
                                   "status": "OK",
                                   "code": 200,
                                   "body": "{\n  \"success\": true,\n  \"data\": {\n    \"id\": 12345,\n    \"email\": \"user@example.com\",\n    \"firstName\": \"John\",\n    \"lastName\": \"Doe\",\n    \"phone\": \"+1234567890\",\n    \"nationality\": \"American\",\n    \"role\": \"CUSTOMER\",\n    \"emailVerified\": true,\n    \"createdAt\": \"2026-01-01T00:00:00Z\"\n  }\n}"
                              }
                         ],
                         "event": [
                              {
                                   "listen": "test",
                                   "script": {
                                        "type": "text/javascript",
                                        "exec": [
                                             "pm.test('Status code is 200', function () {",
                                             "    pm.response.to.have.status(200);",
                                             "});",
                                             "",
                                             "pm.test('Profile has required fields', function () {",
                                             "    var jsonData = pm.response.json();",
                                             "    pm.expect(jsonData.data).to.have.property('email');",
                                             "    pm.expect(jsonData.data).to.have.property('firstName');",
                                             "});"
                                        ]
                                   }
                              }
                         ]
                    },
                    {
                         "name": "Update Profile",
                         "request": {
                              "method": "PUT",
                              "header": [
                                   {
                                        "key": "Content-Type",
                                        "value": "application/json"
                                   }
                              ],
                              "body": {
                                   "mode": "raw",
                                   "raw": "{\n  \"firstName\": \"John\",\n  \"lastName\": \"Smith\",\n  \"phone\": \"+1987654321\",\n  \"nationality\": \"British\"\n}"
                              },
                              "url": {
                                   "raw": "{{baseUrl}}/account/profile",
                                   "host": [
                                        "{{baseUrl}}"
                                   ],
                                   "path": [
                                        "account",
                                        "profile"
                                   ]
                              },
                              "description": "Update current user's profile.\n\nSource: docs/api/users.md → PUT /account/profile"
                         },
                         "response": [
                              {
                                   "name": "Success - 200",
                                   "status": "OK",
                                   "code": 200,
                                   "body": "{\n  \"success\": true,\n  \"message\": \"Profile updated successfully\"\n}"
                              }
                         ]
                    },
                    {
                         "name": "Change Password",
                         "request": {
                              "method": "POST",
                              "header": [
                                   {
                                        "key": "Content-Type",
                                        "value": "application/json"
                                   }
                              ],
                              "body": {
                                   "mode": "raw",
                                   "raw": "{\n  \"currentPassword\": \"OldP@ssword123\",\n  \"newPassword\": \"NewP@ssword456\"\n}"
                              },
                              "url": {
                                   "raw": "{{baseUrl}}/account/change-password",
                                   "host": [
                                        "{{baseUrl}}"
                                   ],
                                   "path": [
                                        "account",
                                        "change-password"
                                   ]
                              },
                              "description": "Change current user's password.\n\nSource: docs/api/users.md → POST /account/change-password"
                         },
                         "response": [
                              {
                                   "name": "Success - 200",
                                   "status": "OK",
                                   "code": 200,
                                   "body": "{\n  \"success\": true,\n  \"message\": \"Password changed successfully\"\n}"
                              },
                              {
                                   "name": "Error - Invalid Current Password",
                                   "status": "Unauthorized",
                                   "code": 401,
                                   "body": "{\n  \"success\": false,\n  \"error\": {\n    \"code\": \"INVALID_CREDENTIALS\",\n    \"message\": \"Current password is incorrect\"\n  }\n}"
                              }
                         ]
                    }
               ]
          },
          {
               "name": "Wishlist",
               "item": [
                    {
                         "name": "Get Wishlist",
                         "request": {
                              "method": "GET",
                              "url": {
                                   "raw": "{{baseUrl}}/account/wishlist",
                                   "host": [
                                        "{{baseUrl}}"
                                   ],
                                   "path": [
                                        "account",
                                        "wishlist"
                                   ]
                              },
                              "description": "Get current user's wishlist.\n\nSource: docs/api/users.md → GET /account/wishlist"
                         },
                         "response": [
                              {
                                   "name": "Success - 200",
                                   "status": "OK",
                                   "code": 200,
                                   "body": "{\n  \"success\": true,\n  \"data\": [\n    {\n      \"id\": 1,\n      \"slug\": \"pyramids-day-tour\",\n      \"title\": \"Pyramids of Giza Day Tour\",\n      \"thumbnail\": \"...\",\n      \"price\": 89.00,\n      \"addedAt\": \"2026-01-15T10:00:00Z\"\n    }\n  ]\n}"
                              }
                         ]
                    },
                    {
                         "name": "Add to Wishlist",
                         "request": {
                              "method": "POST",
                              "header": [
                                   {
                                        "key": "Content-Type",
                                        "value": "application/json"
                                   }
                              ],
                              "body": {
                                   "mode": "raw",
                                   "raw": "{\n  \"tripId\": 1\n}"
                              },
                              "url": {
                                   "raw": "{{baseUrl}}/account/wishlist",
                                   "host": [
                                        "{{baseUrl}}"
                                   ],
                                   "path": [
                                        "account",
                                        "wishlist"
                                   ]
                              },
                              "description": "Add a trip to wishlist.\n\nSource: docs/api/users.md → POST /account/wishlist"
                         },
                         "response": [
                              {
                                   "name": "Success - 201",
                                   "status": "Created",
                                   "code": 201,
                                   "body": "{\n  \"success\": true,\n  \"message\": \"Trip added to wishlist\"\n}"
                              }
                         ]
                    },
                    {
                         "name": "Remove from Wishlist",
                         "request": {
                              "method": "DELETE",
                              "url": {
                                   "raw": "{{baseUrl}}/account/wishlist/1",
                                   "host": [
                                        "{{baseUrl}}"
                                   ],
                                   "path": [
                                        "account",
                                        "wishlist",
                                        "1"
                                   ]
                              },
                              "description": "Remove a trip from wishlist.\n\nSource: docs/api/users.md → DELETE /account/wishlist/{tripId}"
                         },
                         "response": [
                              {
                                   "name": "Success - 200",
                                   "status": "OK",
                                   "code": 200,
                                   "body": "{\n  \"success\": true,\n  \"message\": \"Trip removed from wishlist\"\n}"
                              }
                         ]
                    }
               ]
          }
     ]
}